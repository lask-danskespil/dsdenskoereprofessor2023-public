"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getContextHandler = exports.getRoutes = void 0;
const GAMIF_BASE_URI = "/gamif";
function getRoutes(gamifSessionManager) {
    return [
        {
            method: "GET",
            path: `${GAMIF_BASE_URI}/getcontext/{serviceName}`,
            handler: (r, h) => getContextHandler(r, h, gamifSessionManager),
        },
    ];
}
exports.getRoutes = getRoutes;
async function getContextHandler(request, h, gamifSessionManager) {
    try {
        return gamifSessionManager.get(request.params.serviceName);
    }
    catch (e) {
        return h.response({ error: { message: e.message } }).code(400);
    }
}
exports.getContextHandler = getContextHandler;
//# sourceMappingURL=gamif.js.map