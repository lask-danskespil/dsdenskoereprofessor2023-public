/*! gamekit 3.6.4 Wed May 31 2023 13:11:04 GMT+0000 (Coordinated Universal Time) */
(window["webpackJsonp_gdk_gamekit"] = window["webpackJsonp_gdk_gamekit"] || []).push([["fdj_wizz"],{

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatar.ts":
/*!*******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatar.ts ***!
  \*******************************************************************************/
/*! exports provided: Avatar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Avatar", function() { return Avatar; });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _game_wizz__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../game/wizz */ "./src/game/wizz/index.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var Avatar = /** @class */ (function (_super) {
    __extends(Avatar, _super);
    function Avatar() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.background = null;
        _this.avatar = null;
        _this.status = null;
        return _this;
    }
    /**
     * Set the current avatar texture
     * @param texture
     */
    Avatar.prototype.setTexture = function (texture) {
        this.avatar.texture = texture;
    };
    /**
     * Get the current avatar texture
     */
    Avatar.prototype.getTexture = function () {
        return this.avatar.texture;
    };
    /**
     * Set as the current player
     */
    Avatar.prototype.setAsCurrentPlayer = function (flag) {
        if (flag === void 0) { flag = true; }
        this.background.visible = flag;
    };
    /**
     * Set the status icon on the avatar
     * @param status
     */
    Avatar.prototype.setStatus = function (status) {
        if (status === _game_wizz__WEBPACK_IMPORTED_MODULE_1__["EAvatarStatus"].none) {
            this.status.visible = false;
        }
        else {
            this.status.visible = true;
            this.status.gotoAndStop(status);
        }
    };
    return Avatar;
}(pixi_js__WEBPACK_IMPORTED_MODULE_0__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatarSlot.ts":
/*!***********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatarSlot.ts ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../game */ "./src/game/index.ts");
/* harmony import */ var _avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./avatar */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatar.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};




var AvatarSlot = /** @class */ (function (_super) {
    __extends(AvatarSlot, _super);
    function AvatarSlot() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pseudo = null;
        _this.avatar = new _avatar__WEBPACK_IMPORTED_MODULE_3__["Avatar"]();
        return _this;
    }
    /**
     * On loaded event
     */
    AvatarSlot.prototype.onLoaded = function () {
        this.reset();
    };
    /**
     * Reset
     */
    AvatarSlot.prototype.reset = function () {
        this.pseudo.alpha = 1;
    };
    /**
     * Enter room anim
     */
    AvatarSlot.prototype.enterRoomAnim = function () {
        return __awaiter(this, void 0, void 0, function () {
            var avatarFinalScale;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        avatarFinalScale = this.avatar.scaleXY;
                        this.avatar.scaleXY = 0;
                        this.pseudo.alpha = 0;
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_2__["TweenUtils"].wait(0.5)];
                    case 1:
                        _a.sent();
                        // avatar scale 0%->108% in 233ms then 108%->100% in 200ms
                        _game__WEBPACK_IMPORTED_MODULE_2__["TweenUtils"].to(this.avatar, 0.233, {
                            scaleXY: avatarFinalScale * 1.08,
                            ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Linear"].easeNone,
                        }).then(function () {
                            _game__WEBPACK_IMPORTED_MODULE_2__["TweenUtils"].to(_this.avatar, 0.2, { scaleXY: avatarFinalScale, ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Linear"].easeNone });
                        });
                        // 233ms pause then nickname opacity 0%->100% in 200ms
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_2__["TweenUtils"].wait(0.233)];
                    case 2:
                        // 233ms pause then nickname opacity 0%->100% in 200ms
                        _a.sent();
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_2__["TweenUtils"].to(this.pseudo, 0.2, { alpha: 1.0, ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Linear"].easeNone })];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return AvatarSlot;
}(pixi_js__WEBPACK_IMPORTED_MODULE_1__["Container"]));
/* harmony default export */ __webpack_exports__["default"] = (AvatarSlot);


/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/betPopup.ts":
/*!*********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/betPopup.ts ***!
  \*********************************************************************************/
/*! exports provided: BetPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BetPopup", function() { return BetPopup; });
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! i18next */ "i18next");
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../game */ "./src/game/index.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var BET_SOUND = "wizz_miser.mp3";
var BetPopup = /** @class */ (function (_super) {
    __extends(BetPopup, _super);
    function BetPopup(com) {
        var _this = _super.call(this) || this;
        _this.com = com;
        /**
         * The game agreement
         */
        _this.content = null;
        /**
         * General rules link
         */
        _this.generalRules = null;
        /**
         * Game rules link
         */
        _this.gameRules = null;
        /**
         * The bet button
         */
        _this.bet = null;
        return _this;
    }
    /**
     * On loaded event
     */
    BetPopup.prototype.onLoaded = function () {
        var _this = this;
        // Tracking
        this.bet.setName("rules:agreement:bet");
        this.generalRules.setName("rules:agreement:generalRules");
        this.gameRules.setName("rules:agreement:gameRules");
        this.generalRules.on("link", function () { return _this.com.trigger("GLOBAL_RULES"); });
        this.gameRules.on("link", function () { return _this.com.trigger("GAME_RULES"); });
        this.bet.text.align = _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__["EAlign"].Justify;
        this.bet.text.wordWrap = true;
        this.bet.text.width = 220;
        this.bet.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                this.enable(false);
                if (this.onBetButtonDown) {
                    this.onBetButtonDown();
                }
                _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(BET_SOUND).play();
                gsap__WEBPACK_IMPORTED_MODULE_2__["TweenMax"].to(this, 0.5, {
                    scaleXY: 0,
                    onComplete: function () { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            switch (_a.label) {
                                case 0:
                                    this.visible = false;
                                    if (!this.onBetButtonUp) return [3 /*break*/, 2];
                                    return [4 /*yield*/, this.onBetButtonUp()];
                                case 1:
                                    _a.sent();
                                    _a.label = 2;
                                case 2: return [2 /*return*/];
                            }
                        });
                    }); },
                });
                return [2 /*return*/];
            });
        }); });
    };
    /**
     * Set the bet button textures
     * @param bet IBetPopupTextures
     */
    BetPopup.prototype.setTextures = function (bet) {
        if (bet.idle) {
            this.bet.idleTexture = bet.idle;
            this.bet.disabledTexture = bet.idle;
        }
        if (bet.over) {
            this.bet.overTexture = bet.over;
        }
        if (bet.click) {
            this.bet.clickedTexture = bet.click;
        }
        if (bet.disabled) {
            this.bet.disabledTexture = bet.disabled;
        }
    };
    /**
     * Open the popup
     */
    BetPopup.prototype.open = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        this.visible = true;
                        this.scaleXY = 0;
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_5__["TweenUtils"].to(this, 0.5, {
                                scaleXY: 1,
                            })];
                    case 1:
                        _a.sent();
                        this.enable(true);
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Update texts for content and bet
     * @param amount
     */
    BetPopup.prototype.updateTexts = function (amount) {
        this.content.text = i18next__WEBPACK_IMPORTED_MODULE_3__["t"]("vi.agreements.content", {
            count: amount.value,
        });
        this.bet.getChildByName("count").text = amount.toString();
    };
    BetPopup.prototype.enable = function (enable) {
        this.bet.enabled = enable;
    };
    return BetPopup;
}(pixi_js__WEBPACK_IMPORTED_MODULE_4__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bottomBanner.ts":
/*!*************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bottomBanner.ts ***!
  \*************************************************************************************/
/*! exports provided: BottomBanner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BottomBanner", function() { return BottomBanner; });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _game_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../game/ui */ "./src/game/ui/index.ts");
/* harmony import */ var _topBanner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./topBanner */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/topBanner.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};



var BANNER_BACKGROUND_HEIGHT_R4_3 = 152;
var BANNER_BACKGROUND_HEIGHT_R16_9 = BANNER_BACKGROUND_HEIGHT_R4_3 * _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
var BANNER_CONTEXT_HEIGHT_R4_3 = 60;
var BANNER_CONTEXT_HEIGHT_R16_9 = BANNER_CONTEXT_HEIGHT_R4_3 * _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
var BottomBanner = /** @class */ (function (_super) {
    __extends(BottomBanner, _super);
    function BottomBanner() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Banner background (nine Slice)
         */
        _this.background = null;
        /**
         * Context bar at top with information (nine Slice)
         */
        _this.contextBar = null;
        /**
         * The text
         */
        _this.contextText = null;
        /**
         * The timer
         */
        _this.timer = new _game_ui__WEBPACK_IMPORTED_MODULE_1__["Timer"]();
        return _this;
    }
    /**
     * Set the component width
     * @param width
     * @param ratio
     */
    BottomBanner.prototype.setWidth = function (width, ratio) {
        var e_1, _a, e_2, _b, e_3, _c;
        this.dockingBounds.width = width;
        if (ratio <= _topBanner__WEBPACK_IMPORTED_MODULE_2__["R4_3"]) {
            this.dockingBounds.height = BANNER_BACKGROUND_HEIGHT_R4_3 + BANNER_CONTEXT_HEIGHT_R4_3;
            this.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;
            this.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;
            this.background.y = BANNER_CONTEXT_HEIGHT_R4_3;
            this.background.width = width;
            this.contextBar.width = width;
            try {
                for (var _d = __values([this.contextText, this.timer, this.contextBar, this.background]), _e = _d.next(); !_e.done; _e = _d.next()) {
                    var element = _e.value;
                    element.scaleXY = _topBanner__WEBPACK_IMPORTED_MODULE_2__["R4_3_SCALE"];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                }
                finally { if (e_1) throw e_1.error; }
            }
            if (this.content) {
                this.content.scaleXY = _topBanner__WEBPACK_IMPORTED_MODULE_2__["R4_3_SCALE"];
            }
        }
        else if (ratio >= _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]) {
            this.dockingBounds.height = BANNER_BACKGROUND_HEIGHT_R16_9 + BANNER_CONTEXT_HEIGHT_R16_9;
            this.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;
            this.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;
            this.background.y = BANNER_CONTEXT_HEIGHT_R16_9;
            this.background.width = width / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
            this.contextBar.width = width / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
            try {
                for (var _f = __values([this.contextText, this.timer, this.contextBar, this.background]), _g = _f.next(); !_g.done; _g = _f.next()) {
                    var element = _g.value;
                    element.scaleXY = _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                }
                finally { if (e_2) throw e_2.error; }
            }
            if (this.content) {
                this.content.scaleXY = _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"];
            }
        }
        else {
            this.dockingBounds.height =
                (BANNER_BACKGROUND_HEIGHT_R16_9 + BANNER_CONTEXT_HEIGHT_R16_9) * (ratio / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]);
            this.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;
            this.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;
            this.background.y = BANNER_CONTEXT_HEIGHT_R16_9 * (ratio / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]);
            this.background.width = width / (_topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"] * (ratio / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]));
            this.contextBar.width = width / (_topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"] * (ratio / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]));
            var purseScale = _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9_SCALE"] * (ratio / _topBanner__WEBPACK_IMPORTED_MODULE_2__["R16_9"]);
            try {
                for (var _h = __values([this.contextText, this.timer, this.contextBar, this.background]), _j = _h.next(); !_j.done; _j = _h.next()) {
                    var element = _j.value;
                    element.scaleXY = purseScale;
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
                }
                finally { if (e_3) throw e_3.error; }
            }
            if (this.content) {
                this.content.scaleXY = purseScale;
            }
        }
    };
    /**
     * set the timer format string key
     * @param key
     */
    BottomBanner.prototype.setTimerKey = function (key) {
        this.timer.key = key;
    };
    /**
     * set textures from game assets
     * @param bottom IBottomBanner
     */
    BottomBanner.prototype.setTextures = function (bottom) {
        if (bottom.title) {
            this.contextBar.texture = bottom.title;
        }
        if (bottom.background) {
            this.background.texture = bottom.background;
        }
    };
    return BottomBanner;
}(pixi_js__WEBPACK_IMPORTED_MODULE_0__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bulletsContainer.ts":
/*!*****************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bulletsContainer.ts ***!
  \*****************************************************************************************/
/*! exports provided: BulletsContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BulletsContainer", function() { return BulletsContainer; });
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};


var BulletsContainer = /** @class */ (function (_super) {
    __extends(BulletsContainer, _super);
    function BulletsContainer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bullets = [];
        return _this;
    }
    /**
     * Add a bullet to the container
     */
    BulletsContainer.prototype.addBullet = function () {
        var bullet = new pixi_js__WEBPACK_IMPORTED_MODULE_1__["extras"].AnimatedSprite([
            pixi_js__WEBPACK_IMPORTED_MODULE_1__["Texture"].fromFrame("ico_regle_list_00.png"),
            pixi_js__WEBPACK_IMPORTED_MODULE_1__["Texture"].fromFrame("ico_regle_list_01.png"),
        ]);
        this.addChild(bullet);
        if (this.bullets.length) {
            var previousBullet = this.bullets[this.bullets.length - 1];
            bullet.x = previousBullet.x + previousBullet.width;
        }
        this.bullets.push(bullet);
        this.dockingBounds = new _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__["DockingBounds"](this.bullets[0].width * this.bullets.length, this.bullets[0].height);
    };
    /**
     * Set current bullet index
     * @param index
     */
    BulletsContainer.prototype.setCurrentBullet = function (index) {
        var e_1, _a;
        try {
            for (var _b = __values(this.bullets), _c = _b.next(); !_c.done; _c = _b.next()) {
                var bullet = _c.value;
                bullet.gotoAndStop(0);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
            }
            finally { if (e_1) throw e_1.error; }
        }
        this.bullets[index].gotoAndStop(1);
    };
    return BulletsContainer;
}(pixi_js__WEBPACK_IMPORTED_MODULE_1__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/closableTwoButtonsPopup.ts":
/*!************************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/closableTwoButtonsPopup.ts ***!
  \************************************************************************************************/
/*! exports provided: ClosableTwoButtonsPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClosableTwoButtonsPopup", function() { return ClosableTwoButtonsPopup; });
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _twoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./twoButtonsPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/twoButtonsPopup.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var CLOSE_SOUND = "wizz_menu_disappear.mp3";
var ClosableTwoButtonsPopup = /** @class */ (function (_super) {
    __extends(ClosableTwoButtonsPopup, _super);
    function ClosableTwoButtonsPopup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Close popup button
         */
        _this.closeButton = null;
        return _this;
    }
    /**
     * On loaded call
     */
    ClosableTwoButtonsPopup.prototype.onLoaded = function () {
        var _this = this;
        _super.prototype.onLoaded.call(this);
        this.closeButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.onCloseButton) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.onCloseButton()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.visible = false;
                        _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(CLOSE_SOUND).play();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * Open the popup
     */
    ClosableTwoButtonsPopup.prototype.open = function () {
        return __awaiter(this, void 0, void 0, function () {
            var finalPosition;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.closeButton.enabled = false;
                        finalPosition = 70;
                        this.closeButton.docking.x = finalPosition + this.closeButton.width;
                        this.closeButton.alpha = 0;
                        return [4 /*yield*/, _super.prototype.open.call(this)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, new Promise(function (resolve) {
                                new gsap__WEBPACK_IMPORTED_MODULE_1__["TimelineMax"]().to(_this.closeButton, 0.5, { alpha: 1 }, 0).to(_this.closeButton.docking, 0.5, {
                                    x: finalPosition,
                                    onComplete: resolve,
                                }, 0);
                            })];
                    case 2:
                        _a.sent();
                        this.closeButton.enabled = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Close the popup
     * @param waitClose Wait for the pop up close animation after the close button exit animation finishes.
     */
    ClosableTwoButtonsPopup.prototype.close = function (waitClose) {
        if (waitClose === void 0) { waitClose = true; }
        return __awaiter(this, void 0, void 0, function () {
            var finalPosition;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // hide close button
                        this.closeButton.enabled = false;
                        finalPosition = this.closeButton.docking.x + this.closeButton.width;
                        this.closeButton.alpha = 1;
                        return [4 /*yield*/, new Promise(function (resolve) {
                                new gsap__WEBPACK_IMPORTED_MODULE_1__["TimelineMax"]().to(_this.closeButton, 0.25, { alpha: 0 }, 0).to(_this.closeButton.docking, 0.25, {
                                    x: finalPosition,
                                    onComplete: resolve,
                                }, 0);
                            })];
                    case 1:
                        _a.sent();
                        if (!waitClose) return [3 /*break*/, 3];
                        return [4 /*yield*/, _super.prototype.close.call(this)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        _super.prototype.close.call(this);
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return ClosableTwoButtonsPopup;
}(_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__["TwoButtonsPopup"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/currencyPurse.ts":
/*!**************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/currencyPurse.ts ***!
  \**************************************************************************************/
/*! exports provided: CurrencyPurse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyPurse", function() { return CurrencyPurse; });
/* harmony import */ var _purse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./purse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CurrencyPurse = /** @class */ (function (_super) {
    __extends(CurrencyPurse, _super);
    function CurrencyPurse() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Set the purse value
     * @param value
     */
    CurrencyPurse.prototype.setPurse = function (value) {
        this.purseText.text = value.toString({
            minimumFractionDigits: value.value % 100 === 0 ? 0 : 2,
        });
        this.background.width =
            this.background.leftWidth + this.purseText.width + this.background.rightWidth;
        this.dockingBounds.width = this.background.width;
    };
    return CurrencyPurse;
}(_purse__WEBPACK_IMPORTED_MODULE_0__["Purse"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts":
/*!******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts ***!
  \******************************************************************************/
/*! exports provided: Purse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Purse", function() { return Purse; });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_0__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Purse = /** @class */ (function (_super) {
    __extends(Purse, _super);
    function Purse() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Background of the purse
         */
        _this.background = null;
        /**
         * Purse value display
         */
        _this.purseText = null;
        return _this;
    }
    return Purse;
}(pixi_js__WEBPACK_IMPORTED_MODULE_0__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/rules.ts":
/*!******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/rules.ts ***!
  \******************************************************************************/
/*! exports provided: Rules */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rules", function() { return Rules; });
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _bulletsContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bulletsContainer */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bulletsContainer.ts");
/* harmony import */ var _closableTwoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./closableTwoButtonsPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/closableTwoButtonsPopup.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};



var CLOSE_SOUND = "wizz_menu_disappear.mp3";
var SWIPE_SOUND = "wizz_Swipe L to R.mp3";
var Rules = /** @class */ (function (_super) {
    __extends(Rules, _super);
    function Rules() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bullets = new _bulletsContainer__WEBPACK_IMPORTED_MODULE_1__["BulletsContainer"]();
        return _this;
    }
    /**
     * On loaded event
     */
    Rules.prototype.onLoaded = function () {
        var _this = this;
        // Tracking
        this.setTracking("rules:previous", "rules:next");
        this.closeButton.setName("rules:close");
        this.firstButton.visible = false;
        this.secondButton.visible = false;
        this.firstButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.setSlide(this.currentSlide - 1);
                _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(SWIPE_SOUND).play();
                return [2 /*return*/];
            });
        }); });
        this.secondButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.setSlide(this.currentSlide + 1);
                _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(SWIPE_SOUND).play();
                return [2 /*return*/];
            });
        }); });
        this.closeButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(CLOSE_SOUND).play();
                        return [4 /*yield*/, this.close()];
                    case 1:
                        _a.sent();
                        if (!this.onCloseButton) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.onCloseButton()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.visible = false;
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * Set the rules slides.
     * @param slides Container[] the slides of the rules
     */
    Rules.prototype.setSlides = function (slides) {
        var e_1, _a;
        this.slides = slides;
        try {
            for (var slides_1 = __values(slides), slides_1_1 = slides_1.next(); !slides_1_1.done; slides_1_1 = slides_1.next()) {
                var slide = slides_1_1.value;
                slide.visible = false;
                this.addChild(slide);
                this.bullets.addBullet();
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (slides_1_1 && !slides_1_1.done && (_a = slides_1.return)) _a.call(slides_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        this.bullets.visible = this.slides.length > 1;
        this.currentSlide = 0;
        this.setSlide(this.currentSlide);
        this.reset();
    };
    /**
     * Set the current slide
     * @param index the slide index number
     */
    Rules.prototype.setSlide = function (index) {
        this.slides[this.currentSlide].visible = false;
        this.slides[index].visible = true;
        this.currentSlide = index;
        this.firstButton.visible = this.currentSlide > 0;
        this.secondButton.visible = this.currentSlide < this.slides.length - 1;
        this.bullets.setCurrentBullet(index);
    };
    /**
     * reset the component
     */
    Rules.prototype.reset = function () {
        var e_2, _a;
        if (this.slides) {
            try {
                for (var _b = __values(this.slides), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var slide = _c.value;
                    slide.visible = false;
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_2) throw e_2.error; }
            }
            this.setSlide(0);
        }
    };
    /**
     * Open the rules
     */
    Rules.prototype.open = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.slides) {
                            this.setSlide(0);
                        }
                        return [4 /*yield*/, _super.prototype.open.call(this)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    return Rules;
}(_closableTwoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__["ClosableTwoButtonsPopup"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/settingsComponent.ts":
/*!******************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/settingsComponent.ts ***!
  \******************************************************************************************/
/*! exports provided: SettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsComponent", function() { return SettingsComponent; });
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events */ "./src/adaptativeVisualIdentity/events.ts");
/* harmony import */ var _closableTwoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./closableTwoButtonsPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/closableTwoButtonsPopup.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var WIZZ_SOUND = "wizz_chat_button_click.mp3";
var CLOSE_SOUND = "wizz_menu_disappear.mp3";
var BUTTON_SOUND = "wizz_menu_button_click.mp3";
var SettingsComponent = /** @class */ (function (_super) {
    __extends(SettingsComponent, _super);
    function SettingsComponent(vi) {
        var _this = _super.call(this) || this;
        /**
         * Sound button when sound on
         */
        _this.soundOnButton = null;
        /**
         * Sound button when sound off
         */
        _this.soundOffButton = null;
        _this.vi = vi;
        return _this;
    }
    Object.defineProperty(SettingsComponent.prototype, "rulesEnabled", {
        /**
         * Are rules enabled
         */
        get: function () {
            return this._rulesEnabled;
        },
        /**
         * Enable rules or not
         * @param value enable
         */
        set: function (value) {
            this._rulesEnabled = value;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * On loaded call
     */
    SettingsComponent.prototype.onLoaded = function () {
        var _this = this;
        var _a;
        // Tracking
        this.closeButton.setName("settings:close");
        this.setTracking("settings:rules", "settings:quit");
        this.soundOnButton.setName("settings:soundOff");
        this.soundOffButton.setName("settings:soundOn");
        this.soundOffButton.visible = false;
        if ((_a = this.vi.parameters.soundButtonEnabled) !== null && _a !== void 0 ? _a : true) {
            this.soundOnButton.on("pointertap", function () {
                _this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_1__["EVisualIdentityAction"].SoundEnabled, false);
            });
            this.soundOffButton.on("pointertap", function () {
                _this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_1__["EVisualIdentityAction"].SoundEnabled, true);
                _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(WIZZ_SOUND).play();
            });
        }
        else {
            this.soundOnButton.enabled = false;
            this.soundOffButton.enabled = false;
        }
        this.closeButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(CLOSE_SOUND).play();
                        return [4 /*yield*/, this.close()];
                    case 1:
                        _a.sent();
                        if (!this.onCloseButton) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.onCloseButton()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); });
        this.firstButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(WIZZ_SOUND).play();
                        if (!this.onFirstButton) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.close(false)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.onFirstButton()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.visible = false;
                        return [2 /*return*/];
                }
            });
        }); });
        this.secondButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Loader"].get(WIZZ_SOUND).play();
                        if (!this.onSecondButton) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.close(false)];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.onSecondButton()];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3:
                        this.visible = false;
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_1__["EVisualIdentityEvent"].SoundStatusChanged, function () {
            _this.soundOnButton.visible = _this.vi.game.soundStatus;
            _this.soundOffButton.visible = !_this.vi.game.soundStatus;
        });
    };
    return SettingsComponent;
}(_closableTwoButtonsPopup__WEBPACK_IMPORTED_MODULE_2__["ClosableTwoButtonsPopup"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/tokenPurse.ts":
/*!***********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/tokenPurse.ts ***!
  \***********************************************************************************/
/*! exports provided: TokenPurse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenPurse", function() { return TokenPurse; });
/* harmony import */ var _purse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./purse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var TokenPurse = /** @class */ (function (_super) {
    __extends(TokenPurse, _super);
    function TokenPurse() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Set the purse value
     * @param value
     */
    TokenPurse.prototype.setPurse = function (value) {
        this.purseText.text = value.toString({
            minimumFractionDigits: 0,
        });
        this.background.width =
            this.background.leftWidth + this.purseText.width + this.background.rightWidth;
        this.dockingBounds.width = this.background.width;
    };
    /**
     * hide the purse for the empty optionnal purses
     * @param value
     */
    TokenPurse.prototype.hidePurse = function () {
        this.purseText.text = "";
        this.dockingBounds.width = 0;
        this.background.width = 0;
    };
    return TokenPurse;
}(_purse__WEBPACK_IMPORTED_MODULE_0__["Purse"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/topBanner.ts":
/*!**********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/topBanner.ts ***!
  \**********************************************************************************/
/*! exports provided: R4_3, R16_9, R4_3_SCALE, R16_9_SCALE, TopBanner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "R4_3", function() { return R4_3; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "R16_9", function() { return R16_9; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "R4_3_SCALE", function() { return R4_3_SCALE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "R16_9_SCALE", function() { return R16_9_SCALE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopBanner", function() { return TopBanner; });
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _currencyPurse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./currencyPurse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/currencyPurse.ts");
/* harmony import */ var _tokenPurse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tokenPurse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/tokenPurse.ts");
/* harmony import */ var _winPurse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./winPurse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/winPurse.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};





var R4_3 = 4 / 3;
var R16_9 = 16 / 9;
var R4_3_SCALE = 1;
var R16_9_SCALE = R16_9 / R4_3;
var LEFT_PURSE_POSITION = 54;
var PURSE_MARGIN = 8;
var BANNER_HEIGHT_R4_3 = 110;
var BANNER_HEIGHT_R16_9 = BANNER_HEIGHT_R4_3 * R16_9_SCALE;
var TopBanner = /** @class */ (function (_super) {
    __extends(TopBanner, _super);
    function TopBanner() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Banner background (nine Slice)
         */
        _this.background = null;
        /**
         * Back button (quick quit)
         */
        _this.backButton = null;
        /**
         * Settings button (open settings container)
         */
        _this.settingsButton = null;
        /**
         * Promo Token purse (promotional tokens)
         */
        _this.promoTokenPurse = new _tokenPurse__WEBPACK_IMPORTED_MODULE_3__["TokenPurse"]();
        /**
         * Token purse (tokens)
         */
        _this.tokenPurse = new _tokenPurse__WEBPACK_IMPORTED_MODULE_3__["TokenPurse"]();
        /**
         * Gain in game
         */
        _this.gameWin = new _winPurse__WEBPACK_IMPORTED_MODULE_4__["WinPurse"]();
        /**
         * Purse in currency
         */
        _this.purse = new _currencyPurse__WEBPACK_IMPORTED_MODULE_2__["CurrencyPurse"]();
        return _this;
    }
    /**
     * On loaded call
     */
    TopBanner.prototype.onLoaded = function () {
        var _this = this;
        this.promoTokenPurse.setPurse(new _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Amount"]({ currency: "XTK", value: 0 }));
        this.tokenPurse.setPurse(new _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Amount"]({ currency: "XTK", value: 0 }));
        this.purse.setPurse(_gdk_core__WEBPACK_IMPORTED_MODULE_0__["Amount"].fromNumber(0));
        this.gameWin.setPurse(new _gdk_core__WEBPACK_IMPORTED_MODULE_0__["Amount"]({ currency: "XTK", value: 0 }));
        this.purses = [this.promoTokenPurse, this.tokenPurse, this.purse, this.gameWin];
        // Tracking
        this.backButton.setName("top:quit");
        this.settingsButton.setName("top:settings");
        this.backButton.on("pointertap", function () {
            if (_this.onBackButton) {
                _this.onBackButton();
            }
        });
        this.settingsButton.on("pointertap", function () {
            if (_this.onSettingsButton) {
                _this.onSettingsButton();
            }
        });
    };
    /**
     * Set the display layout
     * @param withRealPurse
     */
    TopBanner.prototype.setDisplay = function (withRealPurse) {
        this.withRealPurse = withRealPurse;
        this.updatePursesPosition();
    };
    TopBanner.prototype.updatePursesPosition = function () {
        if (this.withRealPurse) {
            this.promoTokenPurse.visible = false;
            this.gameWin.visible = false;
            this.tokenPurse.docking.x = LEFT_PURSE_POSITION;
            var tokenPurseRight = LEFT_PURSE_POSITION + this.tokenPurse.dockingBounds.width * this.tokenPurse.scaleXY;
            this.purse.docking.x = tokenPurseRight + PURSE_MARGIN;
        }
        else {
            this.purse.visible = false;
            this.promoTokenPurse.docking.x = LEFT_PURSE_POSITION;
            var promoTokenRight = LEFT_PURSE_POSITION +
                this.promoTokenPurse.dockingBounds.width * this.promoTokenPurse.scaleXY;
            this.tokenPurse.docking.x = promoTokenRight + PURSE_MARGIN;
            var tokenPurseRight = promoTokenRight +
                PURSE_MARGIN +
                this.tokenPurse.dockingBounds.width * this.tokenPurse.scaleXY;
            this.gameWin.docking.x = tokenPurseRight + PURSE_MARGIN;
        }
    };
    /**
     * Set the component width
     * @param width
     * @param ratio
     */
    TopBanner.prototype.setWidth = function (width, ratio) {
        var e_1, _a, e_2, _b, e_3, _c;
        this.dockingBounds.width = width;
        this.background.width = width;
        if (ratio <= R4_3) {
            this.dockingBounds.height = BANNER_HEIGHT_R4_3;
            this.background.height = BANNER_HEIGHT_R4_3;
            try {
                for (var _d = __values(this.purses), _e = _d.next(); !_e.done; _e = _d.next()) {
                    var purse = _e.value;
                    purse.scaleXY = R4_3_SCALE;
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_e && !_e.done && (_a = _d.return)) _a.call(_d);
                }
                finally { if (e_1) throw e_1.error; }
            }
            this.backButton.scaleXY = R4_3_SCALE;
            this.settingsButton.scaleXY = R4_3_SCALE;
        }
        else if (ratio >= R16_9) {
            this.dockingBounds.height = BANNER_HEIGHT_R16_9;
            this.background.height = BANNER_HEIGHT_R16_9;
            try {
                for (var _f = __values(this.purses), _g = _f.next(); !_g.done; _g = _f.next()) {
                    var purse = _g.value;
                    purse.scaleXY = R16_9_SCALE;
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_g && !_g.done && (_b = _f.return)) _b.call(_f);
                }
                finally { if (e_2) throw e_2.error; }
            }
            this.backButton.scaleXY = R16_9_SCALE;
            this.settingsButton.scaleXY = R16_9_SCALE;
        }
        else {
            this.dockingBounds.height = BANNER_HEIGHT_R16_9 * (ratio / R16_9);
            this.background.height = BANNER_HEIGHT_R16_9 * (ratio / R16_9);
            var purseScale = R16_9_SCALE * (ratio / R16_9);
            try {
                for (var _h = __values(this.purses), _j = _h.next(); !_j.done; _j = _h.next()) {
                    var purse = _j.value;
                    purse.scaleXY = purseScale;
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_j && !_j.done && (_c = _h.return)) _c.call(_h);
                }
                finally { if (e_3) throw e_3.error; }
            }
            this.backButton.scaleXY = purseScale;
            this.settingsButton.scaleXY = purseScale;
        }
        this.updatePursesPosition();
    };
    /**
     * return purses containers
     */
    TopBanner.prototype.getPurses = function () {
        return {
            gameWin: this.gameWin,
            gift: this.promoTokenPurse,
            standard: this.purse,
            token: this.tokenPurse,
        };
    };
    /**
     * Set purses for tokens purses
     * @param promo
     * @param common
     */
    TopBanner.prototype.setTokenPurses = function (promo, common) {
        if (promo.value === 0) {
            this.promoTokenPurse.hidePurse();
            this.promoTokenPurse.visible = false;
        }
        else {
            this.promoTokenPurse.visible = true;
            this.promoTokenPurse.setPurse(promo);
        }
        this.tokenPurse.setPurse(common);
        this.updatePursesPosition();
    };
    /**
     * Set purse for the standard purse
     * @param amount
     */
    TopBanner.prototype.setPurse = function (amount) {
        this.purse.setPurse(amount);
    };
    /**
     * update game gain
     * @param amount
     */
    TopBanner.prototype.updateGain = function (amount) {
        this.gameWin.setPurse(amount);
    };
    /**
     * change the interactive value of the children buttons
     * @param isInteractive
     */
    TopBanner.prototype.setButtonsInteractive = function (isInteractive) {
        this.backButton.interactive = isInteractive;
        this.settingsButton.interactive = isInteractive;
    };
    return TopBanner;
}(pixi_js__WEBPACK_IMPORTED_MODULE_1__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/twoButtonsPopup.ts":
/*!****************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/twoButtonsPopup.ts ***!
  \****************************************************************************************/
/*! exports provided: TwoButtonsPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TwoButtonsPopup", function() { return TwoButtonsPopup; });
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_2__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var OPEN_SOUND = "wizz_menu_appear.mp3";
var CLOSE_SOUND = "wizz_menu_disappear.mp3";
var BUTTON_SOUND = "wizz_menu_button_click.mp3";
var WIZZ_SOUND = "wizz_chat_button_click.mp3";
var TwoButtonsPopup = /** @class */ (function (_super) {
    __extends(TwoButtonsPopup, _super);
    function TwoButtonsPopup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * First popup button
         */
        _this.firstButton = null;
        /**
         * Second popup button
         */
        _this.secondButton = null;
        /**
         * Bet popup
         */
        _this._betPopUp = null;
        /**
         * Waiting popup
         */
        _this._waitingPopUp = null;
        /**
         * Canceled popup
         */
        _this._canceledPopUp = null;
        /**
         * Stopped popup
         */
        _this._stoppedPopUp = null;
        /**
         * GameView Overlay
         */
        _this._overlay = null;
        /**
         * GameView Overlay
         */
        _this._topOverlay = null;
        return _this;
    }
    Object.defineProperty(TwoButtonsPopup.prototype, "setOverlay", {
        /**
         * @param overlay graphics
         */
        set: function (overlay) {
            this._overlay = overlay;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TwoButtonsPopup.prototype, "setTopOverlay", {
        /**
         * @param overlay graphics
         */
        set: function (topOverlay) {
            this._topOverlay = topOverlay;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TwoButtonsPopup.prototype, "setBetPopUp", {
        /**
         * @param betPopUp BetPopup
         */
        set: function (betPopUp) {
            this._betPopUp = betPopUp;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TwoButtonsPopup.prototype, "setWaitingPopUp", {
        /**
         * @param waitingPopUp WaitingRoomPopup
         */
        set: function (waitingPopUp) {
            this._waitingPopUp = waitingPopUp;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TwoButtonsPopup.prototype, "setCanceledPopUp", {
        /**
         * @param canceledPopUp TwoButtonsPopup
         */
        set: function (canceledPopUp) {
            this._canceledPopUp = canceledPopUp;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TwoButtonsPopup.prototype, "setStoppedPopUp", {
        /**
         * @param stoppedPopUp TwoButtonsPopup
         */
        set: function (stoppedPopUp) {
            this._stoppedPopUp = stoppedPopUp;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * On loaded call
     */
    TwoButtonsPopup.prototype.onLoaded = function () {
        var _this = this;
        this.firstButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        this.interactive = false;
                        _gdk_core__WEBPACK_IMPORTED_MODULE_1__["Loader"].get(WIZZ_SOUND).play();
                        if (!this.onFirstButton) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.onFirstButton()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.visible = false;
                        _gdk_core__WEBPACK_IMPORTED_MODULE_1__["Loader"].get(CLOSE_SOUND).play();
                        return [2 /*return*/];
                }
            });
        }); });
        this.secondButton.on("pointertap", function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        this.interactive = false;
                        _gdk_core__WEBPACK_IMPORTED_MODULE_1__["Loader"].get(WIZZ_SOUND).play();
                        if (!this.onSecondButton) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.onSecondButton()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.visible = false;
                        _gdk_core__WEBPACK_IMPORTED_MODULE_1__["Loader"].get(CLOSE_SOUND).play();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    /**
     * Set the tracking names for buttons
     * @param firstButtonName tracking name
     * @param secondButtonName tracking name
     */
    TwoButtonsPopup.prototype.setTracking = function (firstButtonName, secondButtonName) {
        this.firstButton.setName(firstButtonName);
        this.secondButton.setName(secondButtonName);
    };
    /**
     * Open the popup
     */
    TwoButtonsPopup.prototype.open = function () {
        return __awaiter(this, void 0, void 0, function () {
            var newAlpha;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(true);
                        this.interactive = false;
                        this.scaleXY = 0;
                        this.visible = true;
                        newAlpha = 1;
                        if (this._betPopUp.visible || this._waitingPopUp.visible) {
                            newAlpha = 0;
                        }
                        _gdk_core__WEBPACK_IMPORTED_MODULE_1__["Loader"].get(OPEN_SOUND).play();
                        return [4 /*yield*/, new Promise(function (resolve) {
                                new gsap__WEBPACK_IMPORTED_MODULE_2__["TimelineMax"]()
                                    .to(_this._overlay, 0.5, { alpha: newAlpha }, 0)
                                    .to(_this._topOverlay, 0.5, { alpha: 1 - newAlpha }, 0)
                                    .to(_this, 0.5, {
                                    scaleXY: 1,
                                    onComplete: resolve,
                                }, 0);
                            })];
                    case 1:
                        _a.sent();
                        this.interactive = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Close the popup with animation
     */
    TwoButtonsPopup.prototype.close = function () {
        return __awaiter(this, void 0, void 0, function () {
            var newAlpha;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.enable(false);
                        newAlpha = 0;
                        if (this._betPopUp.visible ||
                            this._waitingPopUp.visible ||
                            this._canceledPopUp.visible ||
                            this._stoppedPopUp.visible) {
                            newAlpha = 1;
                            this._overlay.visible = this._overlay.alpha === 0;
                        }
                        return [4 /*yield*/, new Promise(function (resolve) {
                                new gsap__WEBPACK_IMPORTED_MODULE_2__["TimelineMax"]()
                                    .to(_this._overlay, 0.5, { alpha: newAlpha }, 0)
                                    .to(_this._topOverlay, 0.5, { alpha: 0 }, 0)
                                    .to(_this, 0.5, {
                                    scaleXY: 0,
                                    onComplete: resolve,
                                }, 0);
                            })];
                    case 1:
                        _a.sent();
                        this._overlay.visible = this._overlay.alpha !== 0;
                        this._topOverlay.visible = this._topOverlay.alpha !== 0;
                        this.visible = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Close the popup without animation
     */
    TwoButtonsPopup.prototype.forceClose = function () {
        this.enable(false);
        this.visible = false;
    };
    /**
     * enable or disable the buttons
     * @param enable true or false
     */
    TwoButtonsPopup.prototype.enable = function (enable) {
        this.firstButton.enabled = enable;
        this.secondButton.enabled = enable;
    };
    return TwoButtonsPopup;
}(pixi_js__WEBPACK_IMPORTED_MODULE_0__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/waitingRoomPopup.ts":
/*!*****************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/waitingRoomPopup.ts ***!
  \*****************************************************************************************/
/*! exports provided: WaitingRoomPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WaitingRoomPopup", function() { return WaitingRoomPopup; });
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ "i18next");
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../game */ "./src/game/index.ts");
/* harmony import */ var _game_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../game/ui */ "./src/game/ui/index.ts");
/* harmony import */ var _avatarSlot__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./avatarSlot */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatarSlot.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var WaitingRoomPopup = /** @class */ (function (_super) {
    __extends(WaitingRoomPopup, _super);
    function WaitingRoomPopup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * Background of the popup
         * Get from the editor
         */
        _this.background = null;
        /**
         * Nine slice with the text in the bottom of the popup
         */
        _this.jeuResponsable = null;
        /**
         * Array of the player avatars
         */
        _this.arrAvatarSlots = [];
        /**
         * The timer
         */
        _this.timer = new _game_ui__WEBPACK_IMPORTED_MODULE_5__["Timer"]();
        /**
         * GameView Overlay
         */
        _this._overlay = null;
        /**
         * GameView Overlay
         */
        _this._topOverlay = null;
        /**
         * positions of the avatars for the differents max players configuration
         * 576 = avatars container width
         */
        _this.arrPositions = [
            [new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-106, 120), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](106, 120)],
            [new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-176, 120), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](0, 120), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](176, 120)],
            [new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-106, 120), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](106, 120), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-106, 293), new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](106, 293)],
            [
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-176, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](0, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](176, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-106, 293),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](106, 293),
            ],
            [
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-176, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](0, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](176, 120),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](-176, 293),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](0, 293),
                new pixi_js__WEBPACK_IMPORTED_MODULE_3__["Point"](176, 293),
            ],
        ];
        return _this;
    }
    Object.defineProperty(WaitingRoomPopup.prototype, "setOverlay", {
        /**
         * Enable rules or not
         * @param overlay graphics
         */
        set: function (overlay) {
            this._overlay = overlay;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(WaitingRoomPopup.prototype, "setTopOverlay", {
        /**
         * Enable rules or not
         * @param overlay graphics
         */
        set: function (topOverlay) {
            this._topOverlay = topOverlay;
        },
        enumerable: false,
        configurable: true
    });
    /**
     * On loaded event
     */
    WaitingRoomPopup.prototype.onLoaded = function () {
        this.arrPlayers = [];
        this.timer.txtGo.visible = false;
        this.timer.txt.visible = true;
        this.readyPlayerText = this.background.getChildByName("readyPlayerText");
        this.avatarsContainer = this.background.getChildByName("avatarsContainer");
        this.jeuResponsableText = this.jeuResponsable.getChildByName("jeuResponsableText");
        this._baseJeuResponsableY = this.jeuResponsable.y;
        this._baseTimerY = this.timer.y;
    };
    /**
     * Set the config for the waiting popup (maxPlayers)
     * @param conf : IWaitingPopup
     */
    WaitingRoomPopup.prototype.config = function (conf) {
        this.maxPlayers = conf.maxPlayers;
    };
    /**
     * Open the popup
     */
    WaitingRoomPopup.prototype.open = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.setJeuResponsable();
                        this.scaleXY = 0;
                        this.timer.txt.visible = true;
                        this.timer.txtGo.visible = false;
                        this.visible = true;
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_4__["TweenUtils"].to(this, 0.5, {
                                scaleXY: 1,
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Set randomly a text to display
     */
    WaitingRoomPopup.prototype.setJeuResponsable = function () {
        var jrString = Math.floor(Math.random() * 6);
        // the nine slice jeu responsable has a minimum size of 240, growing with the text inside. the text is always centered vertically
        this.jeuResponsableText.text = i18next__WEBPACK_IMPORTED_MODULE_2__["t"]("vi.waitingPopup.jeuResponsable.advice".concat(jrString));
        this.jeuResponsableText.centerPivotOnceUpdated = true;
        this.jeuResponsableText.update();
        var sizeT = Math.max(this.jeuResponsableText.pivot.y + 10, 90);
        this.jeuResponsableText.y = sizeT + 60;
        var jrContainerHeightDifference = Math.max(this.jeuResponsableText.pivot.y * 2 - 150, 0);
        this.jeuResponsable.height = 240 + jrContainerHeightDifference;
        this.background.height = this._baseBackgroundHeight + jrContainerHeightDifference;
        this.background.pivot.y = (this._baseBackgroundHeight + jrContainerHeightDifference) / 2;
    };
    /**
     * reset the component
     */
    WaitingRoomPopup.prototype.reset = function () {
        for (var i = 0; i < this.arrPlayers.length; i++) {
            this.arrAvatarSlots[i].avatar.setTexture(this._basePlayerTexture);
            this.arrAvatarSlots[i].avatar.setAsCurrentPlayer(false);
            this.arrAvatarSlots[i].avatar.scaleXY = 0.8;
            this.arrAvatarSlots[i].pseudo.text = "";
        }
        this.arrPlayers = [];
    };
    /**
     * Add a VI player
     * @param info : IPlayerInformation
     */
    WaitingRoomPopup.prototype.addLobbyPlayer = function (avatarSlot, isClientPlayer) {
        var playerPosition = this.arrPlayers.length;
        if (this.arrPlayers.includes(avatarSlot.playerId)) {
            return;
        }
        this.arrPlayers.push(avatarSlot.playerId);
        // reset the actual AvatarSlot with the new infos
        var lobbySlot = this.arrAvatarSlots[playerPosition];
        lobbySlot.playerId = avatarSlot.playerId;
        lobbySlot.pseudo.text = avatarSlot.pseudo.text;
        lobbySlot.avatar.setTexture(avatarSlot.avatar.getTexture());
        if (isClientPlayer) {
            lobbySlot.avatar.scaleXY = 1;
            lobbySlot.avatar.setAsCurrentPlayer();
            lobbySlot.pseudo.text = "<size24>".concat(avatarSlot.pseudo.text, "</size24>"); // textfield scale doesn't impact font size
        }
        else {
            lobbySlot.avatar.scaleXY = 0.8;
            lobbySlot.pseudo.text = avatarSlot.pseudo.text;
        }
        var connectedPlayers = this.arrPlayers.length;
        this.readyPlayerText.text = i18next__WEBPACK_IMPORTED_MODULE_2__["t"]("vi.waitingPopup.readyPlayer", {
            connectedPlayers: connectedPlayers,
            maxPlayers: this.maxPlayers,
        });
    };
    /**
     * show the "let's go!" text before the game start
     * @returns a promise when done
     */
    WaitingRoomPopup.prototype.letsGoAnim = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_4__["TweenUtils"].to(this.timer, 0.15, {
                            scaleXY: 0,
                        })];
                    case 1:
                        _a.sent();
                        this.timer.txt.visible = false;
                        this.timer.txtGo.visible = true;
                        this.timer.timerText.visible = false;
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_4__["TweenUtils"].to(this.timer, 0.15, {
                                scaleXY: 1.15,
                            })];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_4__["TweenUtils"].to(this.timer, 0.04, {
                                scaleXY: 1,
                            })];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, _game__WEBPACK_IMPORTED_MODULE_4__["TweenUtils"].wait(0.5)];
                    case 4:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * close the popup
     * @returns a promise when done
     */
    WaitingRoomPopup.prototype.close = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve) {
                            new gsap__WEBPACK_IMPORTED_MODULE_1__["TimelineMax"]()
                                .to(_this._overlay, 0.5, { alpha: 0 }, 0)
                                .to(_this._topOverlay, 0.5, { alpha: 0 }, 0)
                                .to(_this, 0.5, {
                                scaleXY: 0,
                                onComplete: resolve,
                            }, 0);
                        })];
                    case 1:
                        _a.sent();
                        this.visible = false;
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Close the popup without animation
     */
    WaitingRoomPopup.prototype.forceClose = function () {
        this.visible = false;
    };
    Object.defineProperty(WaitingRoomPopup.prototype, "maxPlayers", {
        get: function () {
            return this._maxPlayers;
        },
        /**
         * Set the max player quantity from config()
         * Modify the height of the avatarsCntatiner depending the max player quantity
         * to diplay them on 1 line or 2 (for 4 and more players)
         */
        set: function (n) {
            this._maxPlayers = n;
            var connectedPlayers = this.arrPlayers.length;
            this.readyPlayerText.text = i18next__WEBPACK_IMPORTED_MODULE_2__["t"]("vi.waitingPopup.readyPlayer", {
                connectedPlayers: connectedPlayers,
                maxPlayers: this.maxPlayers,
            });
            // add avatar_nobody images
            this.avatarsContainer.removeChildren();
            for (var i = 0; i < n; i++) {
                var avatarSlot = _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__["AssetStore"].instanciatePrefab("avatarSlot", new _avatarSlot__WEBPACK_IMPORTED_MODULE_6__["default"]());
                avatarSlot.docking.x = this.arrPositions[n - 2][i].x;
                avatarSlot.docking.y = this.arrPositions[n - 2][i].y;
                avatarSlot.avatar.setStatus(_game__WEBPACK_IMPORTED_MODULE_4__["EAvatarStatus"].none);
                avatarSlot.avatar.scaleXY = 0.8;
                this.arrAvatarSlots[i] = avatarSlot;
                this.avatarsContainer.addChild(avatarSlot);
            }
            this._basePlayerTexture = this.arrAvatarSlots[0].avatar.getTexture();
            if (this._maxPlayers < 4) {
                // only one row of avatar
                this._baseBackgroundHeight = 625;
                this.timer.y = this._baseTimerY;
                this.jeuResponsable.y = this._baseJeuResponsableY;
            }
            else {
                // two rows of avatar
                this._baseBackgroundHeight = 794;
                this.timer.y = this._baseTimerY + 80;
                this.jeuResponsable.y = this._baseJeuResponsableY + 80;
            }
        },
        enumerable: false,
        configurable: true
    });
    return WaitingRoomPopup;
}(pixi_js__WEBPACK_IMPORTED_MODULE_3__["Container"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/winPurse.ts":
/*!*********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/components/winPurse.ts ***!
  \*********************************************************************************/
/*! exports provided: WinPurse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WinPurse", function() { return WinPurse; });
/* harmony import */ var _purse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./purse */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var WinPurse = /** @class */ (function (_super) {
    __extends(WinPurse, _super);
    function WinPurse() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
    }
    /**
     * Set the purse value
     * @param value
     */
    WinPurse.prototype.setPurse = function (value) {
        this.purseText.text = ":   ".concat(value.toString({ minimumFractionDigits: 0 }));
        this.background.width =
            this.background.leftWidth +
                this.label.width +
                this.purseText.width +
                this.background.rightWidth;
        this.dockingBounds.width = this.background.width;
    };
    return WinPurse;
}(_purse__WEBPACK_IMPORTED_MODULE_0__["Purse"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/index.ts":
/*!*******************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/index.ts ***!
  \*******************************************************************/
/*! exports provided: LoadingView, IntroductionView, InGameView, LockView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _views_loadingView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./views/loadingView */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/loadingView.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadingView", function() { return _views_loadingView__WEBPACK_IMPORTED_MODULE_0__["LoadingView"]; });

/* harmony import */ var _views_introductionView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./views/introductionView */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/introductionView.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntroductionView", function() { return _views_introductionView__WEBPACK_IMPORTED_MODULE_1__["IntroductionView"]; });

/* harmony import */ var _views_inGameView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/inGameView */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/inGameView.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InGameView", function() { return _views_inGameView__WEBPACK_IMPORTED_MODULE_2__["InGameView"]; });

/* harmony import */ var _views_lockView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/lockView */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/lockView.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LockView", function() { return _views_lockView__WEBPACK_IMPORTED_MODULE_3__["LockView"]; });







/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/inGameView.ts":
/*!******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/views/inGameView.ts ***!
  \******************************************************************************/
/*! exports provided: InGameView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InGameView", function() { return InGameView; });
/* harmony import */ var _falcon_bridge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @falcon/bridge */ "@falcon/bridge");
/* harmony import */ var _falcon_bridge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_falcon_bridge__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @gdk/core */ "@gdk/core");
/* harmony import */ var _gdk_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_gdk_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixi.js */ "pixi.js");
/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pixi_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _game_wizz__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../game/wizz */ "./src/game/wizz/index.ts");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../events */ "./src/adaptativeVisualIdentity/events.ts");
/* harmony import */ var _components_avatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/avatar */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatar.ts");
/* harmony import */ var _components_betPopup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/betPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/betPopup.ts");
/* harmony import */ var _components_bottomBanner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/bottomBanner */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/bottomBanner.ts");
/* harmony import */ var _components_rules__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/rules */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/rules.ts");
/* harmony import */ var _components_settingsComponent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/settingsComponent */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/settingsComponent.ts");
/* harmony import */ var _components_topBanner__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/topBanner */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/topBanner.ts");
/* harmony import */ var _components_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/twoButtonsPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/twoButtonsPopup.ts");
/* harmony import */ var _components_waitingRoomPopup__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/waitingRoomPopup */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/waitingRoomPopup.ts");
/* harmony import */ var _components_avatarSlot__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/avatarSlot */ "./src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatarSlot.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (undefined && undefined.__values) || function(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};















/**
 * From where was the quit popup opened
 */
var QuitFrom;
(function (QuitFrom) {
    QuitFrom[QuitFrom["TopBanner"] = 0] = "TopBanner";
    QuitFrom[QuitFrom["SettingsComponent"] = 1] = "SettingsComponent";
    QuitFrom[QuitFrom["CancelPopup"] = 2] = "CancelPopup";
    QuitFrom[QuitFrom["ReconnectionPopup"] = 3] = "ReconnectionPopup";
})(QuitFrom || (QuitFrom = {}));
var InGameView = /** @class */ (function (_super) {
    __extends(InGameView, _super);
    /**
     * Constructor
     * @param vi: the adaptative visual identity reference
     */
    function InGameView(vi) {
        var _this = 
        // LoadedView
        _super.call(this) || this;
        _this.vi = vi;
        /**
         * Overlay
         */
        _this.overlay = null;
        /**
         * Top Overlay
         */
        _this.topOverlay = null;
        /**
         * Top banner with purses quit and settings buttons
         */
        _this.topBanner = new _components_topBanner__WEBPACK_IMPORTED_MODULE_11__["TopBanner"]();
        /**
         * Bottom banner with information and timer
         */
        _this.bottomBanner = new _components_bottomBanner__WEBPACK_IMPORTED_MODULE_8__["BottomBanner"]();
        /**
         * Popup for quit game
         */
        _this.quitPopup = new _components_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_12__["TwoButtonsPopup"]();
        /**
         * Popup for room canceled
         */
        _this.canceledPopup = new _components_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_12__["TwoButtonsPopup"]();
        /**
         * Popup for room stopped
         */
        _this.stoppedPopup = new _components_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_12__["TwoButtonsPopup"]();
        /**
         * Popup for reconnection case
         */
        _this.reconnectionPopup = new _components_twoButtonsPopup__WEBPACK_IMPORTED_MODULE_12__["TwoButtonsPopup"]();
        /**
         * Rules of the game
         */
        _this.rules = new _components_rules__WEBPACK_IMPORTED_MODULE_9__["Rules"]();
        /**
         * Waiting room popup
         */
        _this.waitingRoomPopup = new _components_waitingRoomPopup__WEBPACK_IMPORTED_MODULE_13__["WaitingRoomPopup"]();
        // Components
        _this.settingsComponent = new _components_settingsComponent__WEBPACK_IMPORTED_MODULE_10__["SettingsComponent"](_this.vi);
        _this.betPopup = new _components_betPopup__WEBPACK_IMPORTED_MODULE_7__["BetPopup"](vi.game.com);
        return _this;
    }
    /**
     * OnLoad
     */
    InGameView.prototype.onLoad = function () {
        // Empty
    };
    /**
     * Once the view is loaded
     */
    InGameView.prototype.onLoaded = function () {
        var _this = this;
        // Tracking
        this.quitPopup.setTracking("quit:yes", "quit:no");
        this.reconnectionPopup.setTracking("reconnect:yes", "reconnect:no");
        this.canceledPopup.setTracking("canceled:new", "canceled:quit");
        this.stoppedPopup.setTracking("stopped:new", "stopped:quit");
        this.on("posttransform", function () {
            _this.updateSize();
        });
        this.overlay.visible = false;
        // Create new overlay to fade in/out when it needs to be over or under the top banner
        this.topOverlay = this.overlay.clone();
        this.topOverlay.docking = this.overlay.docking;
        this.topOverlay.dockingBounds = this.overlay.dockingBounds;
        this.topOverlay.resize = this.overlay.resize;
        this.topOverlay.visible = false;
        this.topOverlay.alpha = 0;
        this.topOverlay.interactive = true;
        // Set the two overlays for the components who need them for their open/close tweens
        var popUps = [
            this.settingsComponent,
            this.rules,
            this.quitPopup,
            this.canceledPopup,
            this.stoppedPopup,
            this.reconnectionPopup,
        ];
        popUps.forEach(function (popUp) {
            popUp.setOverlay = _this.overlay;
            popUp.setTopOverlay = _this.topOverlay;
            // Link other popUps as to check which overlay to tween, if any at all.
            popUp.setBetPopUp = _this.betPopup;
            popUp.setWaitingPopUp = _this.waitingRoomPopup;
            popUp.setCanceledPopUp = _this.canceledPopup;
            popUp.setStoppedPopUp = _this.stoppedPopup;
        });
        this.waitingRoomPopup.setOverlay = this.overlay;
        this.waitingRoomPopup.setTopOverlay = this.topOverlay;
        this.topBanner.setDisplay(this.vi.parameters.withRealPurse);
        this.topBanner.onBackButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.betPopup.visible || this.waitingRoomPopup.visible) {
                            this.setTopBannerOverOverlay(true);
                        }
                        else {
                            this.setTopBannerOverOverlay(false);
                            this.topOverlay.alpha = 0;
                        }
                        this.overlay.visible = true;
                        this.topOverlay.visible = true;
                        return [4 /*yield*/, this.openQuitPopup(QuitFrom.TopBanner)];
                    case 1:
                        _a.sent();
                        this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].ShowSettings);
                        return [2 /*return*/];
                }
            });
        }); };
        this.topBanner.onSettingsButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.betPopup.visible || this.waitingRoomPopup.visible) {
                            this.setTopBannerOverOverlay(true);
                        }
                        else {
                            this.setTopBannerOverOverlay(false);
                            this.topOverlay.alpha = 0;
                        }
                        this.overlay.visible = true;
                        this.topOverlay.visible = true;
                        return [4 /*yield*/, this.settingsComponent.open()];
                    case 1:
                        _a.sent();
                        this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].ShowSettings);
                        return [2 /*return*/];
                }
            });
        }); };
        this.bottomBanner.setTimerKey("vi.timer");
        this.bottomBanner.visible = !this.vi.parameters.withRealPurse;
        this.settingsComponent.visible = false;
        this.settingsComponent.onFirstButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.betPopup.visible || this.waitingRoomPopup.visible) {
                            this.setTopBannerOverOverlay(true);
                        }
                        else {
                            this.setTopBannerOverOverlay(false);
                        }
                        this.overlay.visible = true;
                        return [4 /*yield*/, this.rules.open()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); };
        this.settingsComponent.onSecondButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.betPopup.visible || this.waitingRoomPopup.visible) {
                            this.setTopBannerOverOverlay(true);
                        }
                        else {
                            this.setTopBannerOverOverlay(false);
                        }
                        return [4 /*yield*/, this.openQuitPopup(QuitFrom.SettingsComponent)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); };
        this.settingsComponent.onCloseButton = function () {
            if (_this.reconnectionPopup.visible) {
                _this.setTopBannerOverOverlay(false);
                _this.overlay.visible = true;
            }
            else {
                _this.setTopBannerOverOverlay(true);
                _this.overlay.visible = _this.betPopup.visible || _this.waitingRoomPopup.visible;
            }
            _this.topOverlay.visible = false;
            _this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].HideSettings);
        };
        this.quitPopup.visible = false;
        this.quitPopup.onFirstButton = function () {
            _gdk_core__WEBPACK_IMPORTED_MODULE_2__["tracker"].track(new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["GameQuit"]());
            _this.vi.game.com.bridge.executeAction("CLOSE_GAME");
        };
        this.quitPopup.onSecondButton = function () { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this.quitFrom;
                        switch (_a) {
                            case QuitFrom.CancelPopup: return [3 /*break*/, 1];
                            case QuitFrom.ReconnectionPopup: return [3 /*break*/, 3];
                            case QuitFrom.TopBanner: return [3 /*break*/, 5];
                            case QuitFrom.SettingsComponent: return [3 /*break*/, 7];
                        }
                        return [3 /*break*/, 9];
                    case 1:
                        this.setTopBannerOverOverlay(false);
                        return [4 /*yield*/, this.canceledPopup.open()];
                    case 2:
                        _b.sent();
                        return [3 /*break*/, 11];
                    case 3:
                        this.setTopBannerOverOverlay(false);
                        return [4 /*yield*/, this.reconnectionPopup.open()];
                    case 4:
                        _b.sent();
                        return [3 /*break*/, 11];
                    case 5:
                        this.setTopBannerOverOverlay(true);
                        return [4 /*yield*/, this.quitPopup.close()];
                    case 6:
                        _b.sent();
                        return [3 /*break*/, 11];
                    case 7:
                        this.setTopBannerOverOverlay(true);
                        return [4 /*yield*/, this.quitPopup.close()];
                    case 8:
                        _b.sent();
                        this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].HideSettings);
                        return [3 /*break*/, 11];
                    case 9:
                        this.setTopBannerOverOverlay(true);
                        return [4 /*yield*/, this.quitPopup.close()];
                    case 10:
                        _b.sent();
                        this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].HideSettings);
                        return [3 /*break*/, 11];
                    case 11: return [2 /*return*/];
                }
            });
        }); };
        this.canceledPopup.visible = false;
        this.canceledPopup.onFirstButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.setTopBannerOverOverlay(true);
                        this.overlay.visible = true;
                        this.topOverlay.visible = true;
                        this.overlay.alpha = 0;
                        this.topOverlay.alpha = 1;
                        return [4 /*yield*/, this.canceledPopup.close()];
                    case 1:
                        _a.sent();
                        this.topOverlay.visible = false;
                        this.betPopup.open();
                        return [2 /*return*/];
                }
            });
        }); };
        this.canceledPopup.onSecondButton = function () {
            _gdk_core__WEBPACK_IMPORTED_MODULE_2__["tracker"].track(new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["GameQuit"]());
            _this.vi.game.com.bridge.executeAction("CLOSE_GAME");
        };
        this.stoppedPopup.visible = false;
        this.stoppedPopup.onFirstButton = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.setTopBannerOverOverlay(true);
                        this.overlay.visible = true;
                        this.topOverlay.visible = true;
                        this.overlay.alpha = 0;
                        this.topOverlay.alpha = 1;
                        return [4 /*yield*/, this.stoppedPopup.close()];
                    case 1:
                        _a.sent();
                        this.topOverlay.visible = false;
                        this.betPopup.open();
                        return [2 /*return*/];
                }
            });
        }); };
        this.stoppedPopup.onSecondButton = function () {
            _gdk_core__WEBPACK_IMPORTED_MODULE_2__["tracker"].track(new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["GameQuit"]());
            _this.vi.game.com.bridge.executeAction("CLOSE_GAME");
        };
        this.reconnectionPopup.visible = false;
        this.reconnectionPopup.onSecondButton = function () {
            _this.overlay.visible = true;
            _gdk_core__WEBPACK_IMPORTED_MODULE_2__["tracker"].track(new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["GameQuit"]());
            _this.vi.game.com.bridge.executeAction("CLOSE_GAME");
        };
        this.rules.visible = false;
        this.rules.onCloseButton = function () {
            _this.setTopBannerOverOverlay(true);
            _this.overlay.visible = _this.betPopup.visible || _this.waitingRoomPopup.visible;
            _this.topOverlay.visible = false;
            _this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].HideSettings);
        };
        this.betPopup.visible = false;
        this.waitingRoomPopup.visible = false;
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzSetRules, function (rules) {
            _this.rules.setSlides(rules);
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzGetBottomContainer, function (callback) {
            callback(_this.bottomBanner);
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzGetWaitingContainer, function (callback) {
            callback(_this.waitingRoomPopup);
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzGetPursesContainers, function (callback) {
            callback(_this.topBanner.getPurses());
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzSetConfig, function (config) {
            if (config.bottom) {
                _this.bottomBanner.setTextures(config.bottom);
            }
            if (config.bet) {
                _this.betPopup.setTextures(config.bet);
            }
            if (config.waiting) {
                _this.waitingRoomPopup.config(config.waiting);
            }
            _this.betPopup.updateTexts(config.amount);
            _this.betPopup.onBetButtonDown = function () {
                _this.topBanner.setButtonsInteractive(false); // disable top buttons during the animation/loading
            };
            _this.betPopup.onBetButtonUp = function () { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, config.onBet()];
                        case 1:
                            _a.sent();
                            this.topBanner.setButtonsInteractive(true); // disable top buttons during the animation/loading
                            return [2 /*return*/];
                    }
                });
            }); };
            _this.reconnectionPopup.onFirstButton = function () { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, config.onReconnect()];
                        case 1:
                            _a.sent();
                            return [4 /*yield*/, this.reconnectionPopup.close()];
                        case 2:
                            _a.sent();
                            this.setTopBannerOverOverlay(true);
                            this.overlay.visible = false;
                            this.topOverlay.visible = false;
                            this.vi.emitter.emit(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityEvent"].HideSettings);
                            return [2 /*return*/];
                    }
                });
            }); };
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzOpenCanceled, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.forceCloseAllPopups();
                        this.setTopBannerOverOverlay(false);
                        if (this.topOverlay.alpha !== 1) {
                            this.topOverlay.alpha = 1;
                            this.overlay.alpha = 0;
                        }
                        else {
                            this.overlay.alpha = 1;
                        }
                        this.topOverlay.visible = true;
                        this.overlay.visible = true;
                        return [4 /*yield*/, this.canceledPopup.open()];
                    case 1:
                        _a.sent();
                        this.waitingRoomPopup.reset();
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzOpenStopped, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.forceCloseAllPopups();
                        this.setTopBannerOverOverlay(false);
                        if (this.topOverlay.alpha !== 1) {
                            this.topOverlay.alpha = 1;
                            this.overlay.alpha = 0;
                        }
                        else {
                            this.overlay.alpha = 1;
                        }
                        this.topOverlay.visible = true;
                        this.overlay.visible = true;
                        return [4 /*yield*/, this.stoppedPopup.open()];
                    case 1:
                        _a.sent();
                        this.waitingRoomPopup.reset();
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzOpenReconnection, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.forceCloseAllPopups();
                        this.setTopBannerOverOverlay(false);
                        if (!this.overlay.visible) {
                            this.overlay.alpha = 0;
                        }
                        this.overlay.visible = true;
                        this.topOverlay.visible = false;
                        return [4 /*yield*/, this.reconnectionPopup.open()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzCloseReconnection, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.reconnectionPopup.close()];
                    case 1:
                        _a.sent();
                        this.overlay.visible = false;
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzCloseAllPopups, function () {
            _this.forceCloseAllPopups();
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzOpenBet, function () {
            _this.forceCloseAllPopups();
            _this.betPopup.open();
            _this.setTopBannerOverOverlay(true);
            _this.overlay.visible = true;
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzOpenWaitingRoom, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.forceCloseAllPopups();
                        this.setTopBannerOverOverlay(true);
                        this.overlay.visible = true;
                        return [4 /*yield*/, this.waitingRoomPopup.open()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzCloseWaitingRoom, function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.waitingRoomPopup.letsGoAnim()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.waitingRoomPopup.close()];
                    case 2:
                        _a.sent();
                        this.waitingRoomPopup.reset();
                        this.overlay.visible = false;
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].SetPurse, function (purse) {
            _this.topBanner.setPurse(purse);
            _this.updateTokenPurses();
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzUpdatePurse, function () {
            _this.updateTokenPurses();
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzUpdateGain, function (amount) {
            _this.topBanner.updateGain(amount);
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzGetAvatars, function (ids, callback) { return __awaiter(_this, void 0, void 0, function () {
            var avatars;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getAvatarsMap(ids)];
                    case 1:
                        avatars = _a.sent();
                        callback(avatars);
                        return [2 /*return*/];
                }
            });
        }); });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzAddLobbyPlayer, function (avatarSlot, isClientPlayer) {
            _this.waitingRoomPopup.addLobbyPlayer(avatarSlot, isClientPlayer);
        });
        this.vi.emitter.on(_events__WEBPACK_IMPORTED_MODULE_5__["EVisualIdentityAction"].WizzGetAvatarSlots, this.getAvatarSlots.bind(this));
    };
    InGameView.prototype.getAvatarSlots = function (pInfo, currentPlayerId, callback) {
        return __awaiter(this, void 0, void 0, function () {
            var idList, avatars, avatarsSlots, pInfo_1, pInfo_1_1, pi, isClientPlayer, avatarSlot, avatar, pseudo;
            var e_1, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        idList = pInfo.map(function (p) { return p.avatarCode; });
                        return [4 /*yield*/, this.getAvatarsMap(idList)];
                    case 1:
                        avatars = _b.sent();
                        avatarsSlots = {};
                        try {
                            for (pInfo_1 = __values(pInfo), pInfo_1_1 = pInfo_1.next(); !pInfo_1_1.done; pInfo_1_1 = pInfo_1.next()) {
                                pi = pInfo_1_1.value;
                                isClientPlayer = pi.playerId === currentPlayerId;
                                avatarSlot = _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__["AssetStore"].instanciatePrefab("avatarSlot", new _components_avatarSlot__WEBPACK_IMPORTED_MODULE_14__["default"]());
                                avatar = avatars[pi.avatarCode];
                                // visual difference for the client player
                                if (isClientPlayer) {
                                    avatarSlot.avatar.setAsCurrentPlayer();
                                }
                                pseudo = pi.alias;
                                if (pseudo.length >= 7) {
                                    pseudo = "".concat(pseudo.substring(0, 5), "...");
                                }
                                avatarSlot.pseudo.text = pseudo;
                                avatarSlot.playerId = pi.playerId;
                                // set avatar informations
                                if (avatars[pi.avatarCode] !== undefined) {
                                    avatarSlot.avatar.setTexture(avatars[pi.avatarCode].getTexture());
                                }
                                avatarSlot.avatar.setStatus(_game_wizz__WEBPACK_IMPORTED_MODULE_4__["EAvatarStatus"].none);
                                avatarsSlots[pi.playerId] = avatarSlot;
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (pInfo_1_1 && !pInfo_1_1.done && (_a = pInfo_1.return)) _a.call(pInfo_1);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        callback(avatarsSlots);
                        return [2 /*return*/];
                }
            });
        });
    };
    InGameView.prototype.forceCloseAllPopups = function () {
        this.overlay.visible = false;
        this.topOverlay.visible = false;
        this.reconnectionPopup.forceClose();
        this.quitPopup.forceClose();
        this.rules.forceClose();
        this.settingsComponent.forceClose();
        this.waitingRoomPopup.forceClose();
    };
    /**
     * Open the quit popup
     * @param from the quit popup opener
     */
    InGameView.prototype.openQuitPopup = function (from) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.overlay.visible = true;
                        this.quitFrom = from;
                        return [4 /*yield*/, this.quitPopup.open()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Update the top banner size
     */
    InGameView.prototype.updateSize = function () {
        var width = Math.abs(this.vi.game._lastRendererWidth / this.worldTransform.a);
        var ratio = Math.abs(this.vi.game._lastRendererHeight / this.worldTransform.a) /
            Math.abs(this.vi.game._lastRendererWidth / this.worldTransform.a);
        this.topBanner.setWidth(width, ratio);
        this.bottomBanner.setWidth(width, ratio);
    };
    /**
     * Set the top bar over or under the black overlay. a.k.a are top settings buttons not clickable?
     * @param over
     */
    InGameView.prototype.setTopBannerOverOverlay = function (over) {
        if (over) {
            this.addChildAt(this.topOverlay, 0);
            this.addChildAt(this.topBanner, 0);
            this.addChildAt(this.betPopup, 0);
            this.addChildAt(this.waitingRoomPopup, 0);
            this.addChildAt(this.overlay, 0);
        }
        else {
            this.addChildAt(this.betPopup, 0);
            this.addChildAt(this.waitingRoomPopup, 0);
            this.addChildAt(this.overlay, 0);
            this.addChildAt(this.topBanner, 0);
            this.addChildAt(this.topOverlay, 0);
        }
        this.addChildAt(this.bottomBanner, 0);
    };
    InGameView.prototype.getAvatarsMap = function (ids) {
        var e_2, _a;
        var avatars = {};
        var avatarsLoader = new pixi_js__WEBPACK_IMPORTED_MODULE_3__["loaders"].Loader();
        var loadMap = {};
        try {
            for (var ids_1 = __values(ids), ids_1_1 = ids_1.next(); !ids_1_1.done; ids_1_1 = ids_1.next()) {
                var id = ids_1_1.value;
                avatars[id] = _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__["AssetStore"].instanciatePrefab("avatar", new _components_avatar__WEBPACK_IMPORTED_MODULE_6__["Avatar"]());
                if (id) {
                    var avatarUrl = this.vi.game.com.getAvatarUrl(id);
                    loadMap[avatarUrl] = id;
                    if (avatarsLoader.resources[id] === undefined) {
                        // pixi throw error when loaded the same ressource twice
                        avatarsLoader.add(id, avatarUrl);
                    }
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (ids_1_1 && !ids_1_1.done && (_a = ids_1.return)) _a.call(ids_1);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return new Promise(function (solve) {
            avatarsLoader.onError.add(function (err, loader, resource) {
                delete loadMap[resource.url];
            });
            avatarsLoader.load(function (loader, resources) {
                var e_3, _a;
                try {
                    for (var _b = __values(Object.values(loadMap)), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var id = _c.value;
                        avatars[id].setTexture(resources[id].texture);
                    }
                }
                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_3) throw e_3.error; }
                }
                solve(avatars);
            });
        });
    };
    InGameView.prototype.updateTokenPurses = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, currency, promo, common, currency_1, currency_1_1, currencyPart;
            var e_4, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        if (!!this.player) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.vi.game.com.getCurrentPlayerInformations()];
                    case 1:
                        _a.player = _c.sent();
                        _c.label = 2;
                    case 2: return [4 /*yield*/, this.vi.game.com.getPlayerCurrency("XTK", this.player.playerId, {
                            serviceName: this.vi.game.gameConfig.lotteryGameCode,
                        })];
                    case 3:
                        currency = _c.sent();
                        promo = new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["Amount"]({ currency: "XTK", value: 0 });
                        common = new _gdk_core__WEBPACK_IMPORTED_MODULE_2__["Amount"]({ currency: "XTK", value: 0 });
                        if (currency) {
                            try {
                                for (currency_1 = __values(currency), currency_1_1 = currency_1.next(); !currency_1_1.done; currency_1_1 = currency_1.next()) {
                                    currencyPart = currency_1_1.value;
                                    if (currencyPart.type === _falcon_bridge__WEBPACK_IMPORTED_MODULE_0__["ECurrencyPurseType"].GIFT) {
                                        promo = promo.sum(currencyPart.balance);
                                    }
                                    else {
                                        common = common.sum(currencyPart.balance);
                                    }
                                }
                            }
                            catch (e_4_1) { e_4 = { error: e_4_1 }; }
                            finally {
                                try {
                                    if (currency_1_1 && !currency_1_1.done && (_b = currency_1.return)) _b.call(currency_1);
                                }
                                finally { if (e_4) throw e_4.error; }
                            }
                        }
                        this.topBanner.setTokenPurses(promo, common);
                        return [2 /*return*/];
                }
            });
        });
    };
    return InGameView;
}(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_1__["LoadedView"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/introductionView.ts":
/*!************************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/views/introductionView.ts ***!
  \************************************************************************************/
/*! exports provided: IntroductionView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntroductionView", function() { return IntroductionView; });
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var IntroductionView = /** @class */ (function (_super) {
    __extends(IntroductionView, _super);
    /**
     * Constructor
     */
    function IntroductionView(vi) {
        var _this = _super.call(this) || this;
        _this.vi = vi;
        return _this;
    }
    /**
     * OnLoad
     */
    IntroductionView.prototype.onLoad = function () {
        // Empty
    };
    /**
     * On the view will appear
     * @param done
     */
    IntroductionView.prototype.onWillAppear = function (done) {
        this.visible = !this.vi.parameters.skipIntroduction;
        done();
    };
    /**
     * Animate the introduction (here nothing)
     * @param done
     */
    IntroductionView.prototype.animate = function (done) {
        if (this.vi.parameters.skipIntroduction) {
            done();
        }
        else {
            gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(3, done);
        }
    };
    return IntroductionView;
}(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__["LoadedView"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/loadingView.ts":
/*!*******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/views/loadingView.ts ***!
  \*******************************************************************************/
/*! exports provided: LoadingView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingView", function() { return LoadingView; });
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "gsap");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(gsap__WEBPACK_IMPORTED_MODULE_1__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var AWAITER_ANIMATION_PART_TIME = 0.2;
var AWAITER_ANIMATION_WAIT_TIME = 0.15;
var LoadingView = /** @class */ (function (_super) {
    __extends(LoadingView, _super);
    /**
     * Constructor
     */
    function LoadingView() {
        var _this = _super.call(this) || this;
        /**
         * The left awaiter point
         */
        _this.point0 = null;
        /**
         * The middle awaiter point
         */
        _this.point1 = null;
        /**
         * The right awaiter point
         */
        _this.point2 = null;
        /**
         * The awaiter animation
         */
        _this.awaiterTimeline = null;
        return _this;
    }
    /**
     * OnLoad
     */
    LoadingView.prototype.onLoad = function () {
        this.point0.alpha = 0;
        this.point1.alpha = 0;
        this.point2.alpha = 0;
    };
    /**
     * On the view will appear
     */
    LoadingView.prototype.onWillAppear = function () {
        this.visible = true;
    };
    /**
     * On the view did appear. Register "once" event on playButton.
     */
    LoadingView.prototype.onDidAppear = function () {
        this.awaiterTimeline = new gsap__WEBPACK_IMPORTED_MODULE_1__["TimelineMax"]();
        this.awaiterTimeline
            .to(this.point0, AWAITER_ANIMATION_PART_TIME, { alpha: 1, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone }, AWAITER_ANIMATION_WAIT_TIME)
            .to(this.point0, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone });
        this.awaiterTimeline
            .to(this.point1, AWAITER_ANIMATION_PART_TIME, { alpha: 1, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone }, AWAITER_ANIMATION_WAIT_TIME * 2)
            .to(this.point1, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone });
        this.awaiterTimeline
            .to(this.point2, AWAITER_ANIMATION_PART_TIME, { alpha: 1, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone }, AWAITER_ANIMATION_WAIT_TIME * 3)
            .to(this.point2, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Linear"].easeNone });
        this.awaiterTimeline.repeat(-1).play();
    };
    /**
     * On the view will disappear
     */
    LoadingView.prototype.onWillDisappear = function () {
        if (this.awaiterTimeline) {
            this.awaiterTimeline.kill();
        }
    };
    /**
     * On the view did disappear
     */
    LoadingView.prototype.onDidDisappear = function () {
        this.visible = false;
    };
    /**
     * Defines the function called each time a file is loaded
     * @param percentage the percentage of files already loaded
     */
    LoadingView.prototype.onProgress = function (percentage) {
        // Does nothing awaiter is a loop animation.
    };
    return LoadingView;
}(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__["LoadedView"]));



/***/ }),

/***/ "./src/adaptativeVisualIdentity/identities/fdj_wizz/views/lockView.ts":
/*!****************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fdj_wizz/views/lockView.ts ***!
  \****************************************************************************/
/*! exports provided: LockView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LockView", function() { return LockView; });
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @gdk/core-pixi */ "@gdk/core-pixi");
/* harmony import */ var _gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var LockView = /** @class */ (function (_super) {
    __extends(LockView, _super);
    /**
     * Constructor
     */
    function LockView() {
        return _super.call(this) || this;
    }
    /**
     * OnLoad
     */
    LockView.prototype.onLoad = function () {
        this.visible = true;
    };
    return LockView;
}(_gdk_core_pixi__WEBPACK_IMPORTED_MODULE_0__["LoadedView"]));



/***/ })

}]);
//# sourceMappingURL=gamekit.fdj_wizz.js.map