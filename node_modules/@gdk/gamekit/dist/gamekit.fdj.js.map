{"version":3,"sources":["webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/components/purse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/components/settingsComponent.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/index.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/views/inGameView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/views/introductionView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/views/loadingView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj/views/lockView.ts"],"names":[],"mappings":"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","file":"gamekit.fdj.js","sourcesContent":["import { Container, Rectangle } from \"pixi.js\";\nimport { DockingBounds } from \"@gdk/core-pixi\";\nimport type { mesh } from \"pixi.js\";\nimport type { Amount } from \"@gdk/core\";\nimport type { TextField } from \"@gdk/core-pixi\";\n\nexport class Purse extends Container {\n\t/**\n\t * Label textfield used to draw the purse value (from the editor)\n\t */\n\tpublic label: TextField = null;\n\t/**\n\t * Nine slice plane used as a background for the purse textfield (from the editor)\n\t */\n\tpublic background: mesh.NineSlicePlane = null;\n\n\tprivate _padding: Rectangle = new Rectangle(15, 10, 15, 10);\n\tprivate _nineSlice: Rectangle = new Rectangle(32, 32, 32, 32);\n\n\tprivate _amount: Amount;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Called by the project loader once the container has been\n\t * imported\n\t */\n\tpublic onLoaded(): void {\n\t\t// Background\n\t\tthis.background.texture.baseTexture.mipmap = false;\n\t\t// Default purse value\n\t\tthis.amount = null;\n\t}\n\n\t/**\n\t * Sets the purse amount\n\t */\n\tpublic set amount(value: Amount) {\n\t\tthis._amount = value;\n\n\t\t// apply amount text\n\t\tthis.label.text = this._amount ? this._amount.toString() : \"-\";\n\n\t\t// resize background\n\t\tthis.background.width = Math.max(\n\t\t\tthis._nineSlice.right,\n\t\t\tthis.label.width + this._padding.left + this._padding.right\n\t\t);\n\t\tthis.background.height = Math.max(\n\t\t\tthis._nineSlice.bottom,\n\t\t\tthis.label.height + this._padding.top + this._padding.bottom\n\t\t);\n\n\t\t// update viewport\n\t\tthis.dockingBounds = new DockingBounds(this.background.width, this.background.height);\n\t}\n\n\t/**\n\t * Returns the purse amount\n\t */\n\tpublic get amount(): Amount {\n\t\treturn this._amount;\n\t}\n}\n","import { Container, Graphics, interaction } from \"pixi.js\";\nimport i18n from \"i18next\";\nimport { isLeftPointerTap } from \"@gdk/core-pixi\";\nimport type { Button } from \"@gdk/core-pixi\";\n\nimport { EVisualIdentityEvent, EVisualIdentityAction } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class SettingsComponent extends Container {\n\t/**\n\t * Close button used to close the popin (from the editor)\n\t */\n\tpublic closeButton: Button = null;\n\t/**\n\t * Rules button used to show game's rules (from the editor)\n\t */\n\tpublic rulesButton: Button = null;\n\t/**\n\t * Sound on button (from the editor)\n\t */\n\tpublic muteButton: Button = null;\n\t/**\n\t * Sound off button (from the editor)\n\t */\n\tpublic unmuteButton: Button = null;\n\t/**\n\t * Button for tutorial (specific for some games)\n\t */\n\tpublic tutorialButton: Button = null;\n\t/**\n\t * Main rules button (from the editor)\n\t */\n\tpublic mainRulesButton: Button = null;\n\t/**\n\t * Quit button (from the editor)\n\t */\n\tpublic quitButton: Button = null;\n\n\t/**\n\t * Dynamic background (graphics) used as popin background\n\t */\n\tprotected background: Graphics;\n\n\t/**\n\t * Constructor\n\t * @param config: the configuration of the settings component for customization\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\t// PIXI.Container\n\t\tsuper();\n\n\t\t// Generate background for popup\n\t\tthis.background = new Graphics();\n\t\tthis.background.beginFill(0xffffff, 255);\n\t\tthis.background.drawRoundedRect(0, 0, 550, 410, 16);\n\t\tthis.background.endFill();\n\t\tthis.addChild(this.background);\n\t}\n\n\t/**\n\t * Called by the project loader once the container has\n\t * been imported\n\t */\n\tpublic onLoaded(): void {\n\t\t// Force unvisible\n\t\tthis.visible = false;\n\n\t\t// Close button\n\t\tthis.closeButton.setName(\"settings:close\");\n\n\t\t// Rules button\n\t\tthis.rulesButton = this.getChildByName(\"rulesButton\") as Button;\n\t\tthis.rulesButton.setName(\"settings:rules\");\n\t\tthis.rulesButton.text.text = i18n.t(\"vi.button.rulesBtn\");\n\n\t\t// Sound buttons\n\t\tthis.muteButton.setName(\"settings:soundOff\");\n\n\t\tthis.unmuteButton.setName(\"settings:sound\");\n\t\tthis.unmuteButton.visible = false;\n\n\t\t// Tutorial button\n\t\tthis.tutorialButton.setName(\"settings:tutorial\");\n\t\tthis.tutorialButton.text.text = i18n.t(\"vi.button.tutorial\");\n\n\t\t// Main rules\n\t\tthis.mainRulesButton.setName(\"settings:mainRules\");\n\t\tthis.mainRulesButton.text.text = i18n.t(\"vi.button.mainRulesBtn\");\n\n\t\t// Quit button\n\t\tthis.quitButton.setName(\"settings:quit\");\n\t\tthis.quitButton.text.text = i18n.t(\"vi.button.quitBtn\");\n\n\t\t// Bind events\n\t\tthis._bindEvents();\n\t}\n\n\t/**\n\t * Resizes the settings background according to the\n\t * visible buttons. Also resets the Y position of buttons\n\t */\n\tpublic resizeBackground(): void {\n\t\tconst positions = [10, 105, 210, 310, 410];\n\t\tconst width = 550;\n\n\t\tlet height = 510;\n\t\tlet index = 0;\n\n\t\tconst buttons = [\n\t\t\tthis.rulesButton,\n\t\t\tthis.muteButton.visible ? this.muteButton : this.unmuteButton,\n\t\t\tthis.tutorialButton,\n\t\t\tthis.mainRulesButton,\n\t\t\tthis.quitButton,\n\t\t];\n\t\tconst offset = height / buttons.length;\n\n\t\tbuttons.forEach((b) => {\n\t\t\tb.y = positions[index];\n\n\t\t\tif (!b.visible) {\n\t\t\t\theight -= offset;\n\t\t\t} else {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\n\t\tthis.background.beginFill(0xffffff, 255);\n\t\tthis.background.drawRoundedRect(0, 0, width, height, 16);\n\t\tthis.background.endFill();\n\n\t\tthis.dockingBounds.setBounds(this.background.width, this.background.height);\n\t}\n\n\t/**\n\t * Binds the events related to the buttons\n\t */\n\tprivate _bindEvents(): void {\n\t\tthis.closeButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tif (this.vi.parameters.soundButtonEnabled ?? true) {\n\t\t\tthis.muteButton.on(\"pointertap\", () => {\n\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, false);\n\t\t\t});\n\n\t\t\tthis.unmuteButton.on(\"pointertap\", () => {\n\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, true);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.muteButton.enabled = false;\n\t\t\tthis.unmuteButton.enabled = false;\n\t\t}\n\n\t\tthis.rulesButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowRules);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.mainRulesButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowMainRules);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.quitButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\tthis.vi.emitter.emit(\"quitgame\");\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.tutorialButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.Tutorial);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.TutorialVisible,\n\t\t\t(isVisible: boolean = true, isEnabled: boolean = true) => {\n\t\t\t\tthis.tutorialVisible = isVisible;\n\t\t\t\tthis.tutorialEnabled = isEnabled;\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.SoundStatusChanged, () => {\n\t\t\tthis.muteButton.visible = this.vi.game.soundStatus;\n\t\t\tthis.unmuteButton.visible = !this.vi.game.soundStatus;\n\t\t});\n\t}\n\n\t/**\n\t * Show close button & resize background\n\t */\n\tpublic show(): void {\n\t\t// reset close button\n\t\tthis.closeButton.enabled = true;\n\n\t\t(window as any).settingsComponent = this;\n\t\t// Resize the settings background\n\t\tthis.resizeBackground();\n\t}\n\n\t/**\n\t * Show or hide the tutorial button\n\t */\n\tpublic set tutorialVisible(visible: boolean) {\n\t\tconst wasVisible: boolean = this.tutorialButton.visible;\n\t\tthis.tutorialButton.visible = visible;\n\n\t\tif (visible && !wasVisible) {\n\t\t\tthis.mainRulesButton.docking.y = this.tutorialButton.docking.y + 100;\n\t\t\tthis.quitButton.docking.y = this.mainRulesButton.docking.y + 100;\n\t\t} else if (!visible && wasVisible) {\n\t\t\tthis.mainRulesButton.docking.y = this.tutorialButton.docking.y;\n\t\t\tthis.quitButton.docking.y = this.mainRulesButton.docking.y + 100;\n\t\t}\n\n\t\tthis.resizeBackground();\n\t}\n\n\t/**\n\t * Set if the tutorial button is enabled\n\t */\n\tpublic set tutorialEnabled(enabled: boolean) {\n\t\tthis.tutorialButton.enabled = enabled;\n\n\t\tif (!this.tutorialButton.visible) {\n\t\t\tthis.tutorialVisible = true;\n\t\t}\n\t}\n\n\t/**\n\t * Returns if the rules buttons are enabled\n\t */\n\tpublic get rulesEnabled(): boolean {\n\t\treturn this.rulesButton.enabled && this.mainRulesButton.enabled;\n\t}\n\n\t/**\n\t * Sets if the rules buttons are enabled\n\t */\n\tpublic set rulesEnabled(enabled: boolean) {\n\t\tthis.rulesButton.enabled = enabled;\n\t\tthis.tutorialButton.enabled = enabled;\n\t\tthis.mainRulesButton.enabled = enabled;\n\t}\n}\n","export * from \"./views/loadingView\";\nexport * from \"./views/introductionView\";\nexport * from \"./views/inGameView\";\nexport * from \"./views/lockView\";\n","import { LoadedView, Docking, isLeftPointerTap } from \"@gdk/core-pixi\";\nimport { tracker, SettingsEvent, ESettingsEvent } from \"@gdk/core\";\nimport type { interaction } from \"pixi.js\";\nimport type { Amount } from \"@gdk/core\";\nimport type { Button } from \"@gdk/core-pixi\";\n\nimport { SettingsComponent } from \"../components/settingsComponent\";\nimport { Purse } from \"../components/purse\";\nimport { EVisualIdentityEvent, EVisualIdentityAction } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IAdaptativeInGameView } from \"../../../identity\";\n\nexport class InGameView extends LoadedView implements IAdaptativeInGameView {\n\t/**\n\t * Settings button used to show settings popin (from the editor)\n\t */\n\tpublic settingsButton: Button = null;\n\t/**\n\t * Purse container used to draw the purse amount text (from the editor)\n\t */\n\tpublic purse: Purse = new Purse();\n\t/**\n\t * Settings component (popin) (from the editor)\n\t */\n\tpublic settingsComponent: SettingsComponent;\n\n\t/**\n\t * Callback reference on the user taps on the settings button\n\t */\n\tprotected onClickCallback: () => void = null;\n\n\t/**\n\t * Constructor\n\t * @param vi: the adaptative visual identity reference\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\t// LoadedView\n\t\tsuper();\n\n\t\t// Components\n\t\tthis.settingsComponent = new SettingsComponent(this.vi);\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t\tthis.settingsButton.on(\"pointertap\", this._onSettingsClick);\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tthis.visible = false;\n\t\tthis.settingsButton.removeListener(\"pointertap\", this._onSettingsClick);\n\t}\n\n\t/**\n\t * When user hsa clicked on the settings button\n\t * @param e the click event\n\t */\n\tprivate _onSettingsClick = (e: interaction.InteractionEvent) => {\n\t\tif (isLeftPointerTap(e) && this.onClickCallback) {\n\t\t\tthis.onClickCallback();\n\t\t}\n\t};\n\n\t/**\n\t * Sets the purse\n\t * @param purse the purse to set\n\t */\n\tpublic setPurse(value: Amount): void {\n\t\tthis.purse.amount = value;\n\t}\n\n\t/**\n\t * Returns the purse value\n\t */\n\tpublic getPurse(): Amount {\n\t\treturn this.purse.amount;\n\t}\n\n\t/**\n\t * Called once the view is loaded\n\t */\n\tpublic onLoad(): void {\n\t\t// Events\n\t\tthis.onClickCallback = () => {\n\t\t\tthis.vi.emitter.once(EVisualIdentityEvent.HideSettings, () => {\n\t\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Hide));\n\t\t\t\t// reset settingsButton texture.\n\t\t\t\tthis.settingsButton.enabled = true;\n\t\t\t});\n\n\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Show));\n\t\t\tthis.settingsComponent.visible = true;\n\t\t\tthis.settingsButton.enabled = false;\n\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowSettings);\n\n\t\t\t// show settings component\n\t\t\tthis.settingsComponent.show();\n\t\t};\n\n\t\t// Actions\n\t\tthis.vi.emitter.on(EVisualIdentityAction.SetPurse, (purse) => this.setPurse(purse));\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.SettingsEnabled,\n\t\t\t(enabled) => (this.settingsButton.enabled = enabled)\n\t\t);\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.RulesEnabled,\n\t\t\t(enabled) => (this.settingsComponent.rulesEnabled = enabled)\n\t\t);\n\n\t\t// rollback settings button to legacy position.\n\t\tif (this.vi.parameters.settingsButtonLegacyPosition) {\n\t\t\tthis.settingsButton.docking = new Docking(Docking.topLeft, 0, 56);\n\t\t}\n\t}\n}\n","import { Graphics } from \"pixi.js\";\nimport { LoadedView } from \"@gdk/core-pixi\";\nimport type { spine, WebGLRenderer, CanvasRenderer } from \"pixi.js\";\nimport type { Timeline } from \"@gdk/core-pixi\";\n\nimport { EVisualIdentityEvent } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class IntroductionView extends LoadedView {\n\t/**\n\t * Illiko introduction timeline (from the editor)\n\t */\n\tpublic intro: Timeline = null;\n\n\t/**\n\t * Defines if the illiko introduction should be skipped\n\t */\n\tpublic skipIntro: boolean = false;\n\n\t/**\n\t * White background generated for the view\n\t */\n\tprotected background: Graphics;\n\n\tprivate _onNextStateCallback: () => void;\n\tprivate _viewWidth: number = 0;\n\tprivate _viewHeight: number = 0;\n\tprivate _background: spine.core.Bone = null;\n\tprivate _noscale: spine.core.Bone = null;\n\tprivate _bottomRight: spine.core.Bone = null;\n\tprivate _viewportWidth: number = 0;\n\tprivate _viewportHeight: number = 0;\n\tprivate _margin: number = 4;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\n\t\t// Background\n\t\tthis.background = new Graphics();\n\t\tthis.background.interactive = true;\n\t\tthis.addChild(this.background);\n\t}\n\n\t/**\n\t * Animate the clip\n\t * @param speed the speed affected to it\n\t */\n\tpublic animate(nextState: () => void): void {\n\t\tthis._onNextStateCallback = nextState;\n\n\t\tif (this.skipIntro) {\n\t\t\tthis.visible = false;\n\t\t\tthis._onNextState();\n\t\t\tnextState();\n\t\t} else if (this.intro.timeScale > 0.001) {\n\t\t\tthis.intro.play();\n\t\t} else {\n\t\t\tthis.visible = false;\n\t\t\tthis._onNextState();\n\t\t}\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\t// Just override to the view not be set to \"visible = false\" as we need to keep it visible\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Configure\n\t\tthis.intro.setAnimations([\n\t\t\t{\n\t\t\t\tname: \"responsible\",\n\t\t\t\tlabel: \"responsible\",\n\t\t\t\tdelay: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"illiko\",\n\t\t\t\tlabel: \"illiko\",\n\t\t\t\tdelay: 200,\n\t\t\t},\n\t\t]);\n\n\t\tthis._bottomRight = this.intro.skeleton.findBone(\"bottom_right\");\n\t\tthis._noscale = this.intro.skeleton.findBone(\"noscale\");\n\t\tthis._background = this.intro.skeleton.findBone(\"background\");\n\n\t\t// init some values\n\t\tthis._viewportWidth = Math.round(this.intro.dockingBounds.width) - this._margin;\n\t\tthis._viewportHeight = Math.round(this.intro.dockingBounds.height) - this._margin;\n\n\t\t// Intro illiko events\n\t\tthis.intro.onComplete(() => {\n\t\t\tthis.visible = false;\n\t\t\tthis.vi.emit(EVisualIdentityEvent.IntroductionComplete);\n\t\t});\n\t\tthis.intro.onAnimationEvent((e) => {\n\t\t\tif (e.params.name === \"nextState\") {\n\t\t\t\tthis.background.visible = false;\n\t\t\t\tthis._onNextState();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Render text with WebGL\n\t * @param renderer the pixi.js renderer (WebGLRenderer)\n\t * @override PIXI.Sprite.renderWebGL\n\t */\n\tpublic renderWebGL(renderer: WebGLRenderer): void {\n\t\tthis._resizeBackground(\n\t\t\trenderer.width / renderer.resolution,\n\t\t\trenderer.height / renderer.resolution\n\t\t);\n\t\tsuper.renderWebGL(renderer);\n\t}\n\n\t/**\n\t * Render text with Canvas renderer\n\t * @param renderer the pixi.js renderer (CanvasRenderer)\n\t * @override PIXI.Sprite._renderCanvas\n\t */\n\tpublic _renderCanvas(renderer: CanvasRenderer): void {\n\t\tthis._resizeBackground(\n\t\t\trenderer.width / renderer.resolution,\n\t\t\trenderer.height / renderer.resolution\n\t\t);\n\t\tsuper._renderCanvas(renderer);\n\t}\n\n\t// Resizes the background\n\tprivate _resizeBackground(viewWidth: number, viewHeight: number): void {\n\t\tif (this._viewWidth !== viewWidth || (this._viewHeight !== viewHeight && this._background)) {\n\t\t\tconst ratio = Math.min(\n\t\t\t\tviewWidth / this.vi.skin.introduction.width,\n\t\t\t\tviewHeight / this.vi.skin.introduction.height\n\t\t\t);\n\t\t\tconst centerX = viewWidth * 0.5;\n\t\t\tconst centerY = viewHeight * 0.5;\n\n\t\t\t// resize all elements (if present)\n\t\t\tif (this._noscale) {\n\t\t\t\tthis._noscale.scaleX = ratio;\n\t\t\t\tthis._noscale.scaleY = ratio;\n\t\t\t}\n\n\t\t\t// resize -18 sprite (if present)\n\t\t\tif (this._bottomRight) {\n\t\t\t\tconst invertRatio = 1 / ratio;\n\t\t\t\tthis._bottomRight.data.x = centerX * invertRatio;\n\t\t\t\tthis._bottomRight.data.y = centerY * invertRatio * -1;\n\t\t\t}\n\n\t\t\t// resize background (if present)\n\t\t\tif (this._background) {\n\t\t\t\tconst ratioHorizontal = viewWidth / this._viewportWidth;\n\t\t\t\tconst ratioVertical = viewHeight / this._viewportHeight;\n\n\t\t\t\tthis._background.scaleX = ratioHorizontal;\n\t\t\t\tthis._background.scaleY = ratioVertical;\n\t\t\t}\n\n\t\t\t// center animation\n\t\t\tthis.intro.docking.x = centerX;\n\t\t\tthis.intro.docking.y = centerY;\n\n\t\t\t// Background\n\t\t\tthis.background.beginFill(0xffffff, 1);\n\t\t\tthis.background.clear();\n\t\t\tthis.background.drawRect(0, 0, viewWidth, viewHeight);\n\t\t\tthis.background.endFill();\n\n\t\t\t// store values\n\t\t\tthis._viewWidth = viewWidth;\n\t\t\tthis._viewHeight = viewHeight;\n\t\t}\n\t}\n\n\t// Called once an illiko introduction animation has finished\n\tprivate _onNextState(): void {\n\t\tif (this._onNextStateCallback && this.visible) {\n\t\t\tthis._onNextStateCallback();\n\t\t}\n\t}\n}\n","import { Graphics } from \"pixi.js\";\nimport { LoadedView, Resize, Docking } from \"@gdk/core-pixi\";\nimport i18n from \"i18next\";\nimport type { TextField, TextArea } from \"@gdk/core-pixi\";\nimport type { Sprite } from \"pixi.js\";\n\nimport type { IAdaptativeLoadingView } from \"../../../identity\";\n\nexport class LoadingView extends LoadedView implements IAdaptativeLoadingView {\n\t/**\n\t * The spinner sprite rotating according to the loading progress (from the editor)\n\t */\n\tprotected spinner: Sprite = null;\n\t/**\n\t * The percentage text of loaded files (from the editor)\n\t */\n\tprotected percentage: TextField = null;\n\t/**\n\t * Dynamic background used to be drawn behing the bottom text (created in the class)\n\t */\n\tprotected bottomBackground: Graphics = null;\n\t/**\n\t * Bottom text above the bottom background (from the editor)\n\t */\n\tprotected bottomText: TextArea = null;\n\t/**\n\t * White background generated for the view\n\t */\n\tprotected background: Graphics;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\n\t\t// Background\n\t\tthis.background = new Graphics();\n\t\tthis.background.resize = new Resize(Resize.cover);\n\t\tthis.background.interactive = true;\n\t\tthis.background.beginFill(0xffffff, 1);\n\t\tthis.background.clear();\n\t\tthis.background.drawRect(0, 0, 1, 1);\n\t\tthis.background.endFill();\n\t\tthis.addChild(this.background);\n\t}\n\n\t/**\n\t * Defines the function called each time a file is loaded\n\t * @param percentage the percentage of files already loaded\n\t */\n\tpublic onProgress(percentage: number): void {\n\t\tthis.percentage.text = `${percentage} %`;\n\t\tthis.spinner.rotation = (percentage * Math.PI * 2) / 100;\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Configure bottom text\n\t\tthis.bottomText.text = i18n.t(\"vi.footnote\");\n\n\t\t// Percentage\n\t\tthis.percentage.keepCanvasReference = true;\n\n\t\t// Bottom mention graphics\n\t\tthis.bottomBackground = new Graphics();\n\t\tthis.bottomBackground.beginFill(0x0, 255);\n\n\t\tthis.bottomBackground.drawRect(0, 0, screen.width * 4, this.bottomText.height + 10);\n\t\tthis.bottomBackground.docking = new Docking(Docking.bottomCenterHorizontal);\n\t\tthis.addChild(this.bottomBackground);\n\n\t\t// Add bottom text in front of all other nodes\n\t\tthis.addChild(this.bottomText);\n\t}\n}\n","import i18n from \"i18next\";\nimport { EOrientation } from \"@gdk/core\";\nimport { LoadedView } from \"@gdk/core-pixi\";\nimport type { TextField } from \"@gdk/core-pixi\";\nimport type { Container } from \"pixi.js\";\n\nexport class LockView extends LoadedView {\n\t// Public members\n\tpublic portrait: Container = null;\n\tpublic landscape: Container = null;\n\n\tpublic text: TextField = null;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Sets the orientation of the game and then what message to show\n\t */\n\tpublic set orientation(orientation: EOrientation) {\n\t\tif (orientation === EOrientation.Landscape) {\n\t\t\t// Landscape\n\t\t\tthis.landscape.visible = true;\n\t\t\tthis.portrait.visible = false;\n\n\t\t\tthis.text.text = i18n.t(\"vi.orientationHint\", {\n\t\t\t\treplace: {\n\t\t\t\t\torientation: i18n.t(\"vi.orientation.landscape\"),\n\t\t\t\t\tdevice: i18n.t(\"vi.device.mobile\"),\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (orientation === EOrientation.Portrait) {\n\t\t\t// Portrait\n\t\t\tthis.landscape.visible = false;\n\t\t\tthis.portrait.visible = true;\n\n\t\t\tthis.text.text = i18n.t(\"vi.orientationHint\", {\n\t\t\t\treplace: {\n\t\t\t\t\torientation: i18n.t(\"vi.orientation.portrait\"),\n\t\t\t\t\tdevice: i18n.t(\"vi.device.mobile\"),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Force visible\n\t\tthis.visible = true;\n\t}\n}\n"],"sourceRoot":""}