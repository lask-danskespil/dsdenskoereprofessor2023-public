{"version":3,"sources":["webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/components/purse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/components/settingsComponent.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/index.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/views/inGameView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/views/introductionView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/views/loadingView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fgs/views/lockView.ts"],"names":[],"mappings":"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","file":"gamekit.fgs.js","sourcesContent":["import { Container, Rectangle } from \"pixi.js\";\nimport { DockingBounds } from \"@gdk/core-pixi\";\nimport type { mesh } from \"pixi.js\";\nimport type { Amount, ICurrencyOptions } from \"@gdk/core\";\nimport type { TextField } from \"@gdk/core-pixi\";\n\nexport class Purse extends Container {\n\t/**\n\t * Label textfield used to draw the purse value (from the editor)\n\t */\n\tpublic label: TextField = null;\n\t/**\n\t * Nine slice plane used as a background for the purse textfield (from the editor)\n\t */\n\tpublic background: mesh.NineSlicePlane = null;\n\n\tpublic formatOptions?: ICurrencyOptions;\n\n\tprotected _padding: Rectangle = new Rectangle(15, 10, 15, 10);\n\tprotected _nineSlice: Rectangle = new Rectangle(32, 32, 32, 32);\n\n\tprotected _amount: Amount;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(formatOptions?: ICurrencyOptions) {\n\t\tsuper();\n\t\tthis.formatOptions = formatOptions;\n\t}\n\n\t/**\n\t * Called by the project loader once the container has been\n\t * imported\n\t */\n\tpublic onLoaded(): void {\n\t\t// Background\n\t\tthis.background.texture.baseTexture.mipmap = false;\n\t\t// Default purse value\n\t\tthis.amount = null;\n\t}\n\n\t/**\n\t * Sets the purse amount\n\t */\n\tpublic set amount(value: Amount) {\n\t\tthis._amount = value;\n\n\t\t// apply amount text\n\t\tthis.label.text = this._amount ? this._amount.toString(this.formatOptions) : \"-\";\n\n\t\t// resize background\n\t\tthis.background.width = Math.max(\n\t\t\tthis._nineSlice.right,\n\t\t\tthis.label.width + this._padding.left + this._padding.right\n\t\t);\n\t\tthis.background.height = Math.max(\n\t\t\tthis._nineSlice.bottom,\n\t\t\tthis.label.height + this._padding.top + this._padding.bottom\n\t\t);\n\n\t\t// update viewport\n\t\tthis.dockingBounds = new DockingBounds(this.background.width, this.background.height);\n\t}\n\n\t/**\n\t * Returns the purse amount\n\t */\n\tpublic get amount(): Amount {\n\t\treturn this._amount;\n\t}\n}\n","import { Container, Rectangle } from \"pixi.js\";\nimport i18next from \"i18next\";\nimport type { Button } from \"@gdk/core-pixi\";\nimport type { mesh } from \"pixi.js\";\n\nimport { EVisualIdentityEvent, EVisualIdentityAction } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\ninterface IButton {\n\t[name: string]: Button;\n}\n\nexport interface IMenuButtonOptions {\n\tname: string;\n\tlabel?: string;\n\tvalue: any;\n\ttype: string;\n}\n\nexport interface IMenuOptions {\n\tpadding: {\n\t\tleft: number;\n\t\ttop: number;\n\t\tright: number;\n\t\tbottom: number;\n\t};\n\tbuttonsSpacing: number;\n\tbuttons: IMenuButtonOptions[];\n}\n\nexport class SettingsComponent extends Container {\n\t/**\n\t * Close button used to close the popin (generated from i18n)\n\t */\n\tpublic closeButton: Button = null;\n\t/**\n\t * Rules button used to show game's rules (generated from i18n)\n\t */\n\tpublic rulesButton: Button = null;\n\t/**\n\t * Main rules button (generated from i18n)\n\t */\n\tpublic mainRulesButton: Button = null;\n\t/**\n\t * Sound on button (generated from i18n)\n\t */\n\tpublic muteButton: Button = null;\n\t/**\n\t * Sound off button (generated from i18n)\n\t */\n\tpublic unmuteButton: Button = null;\n\n\t/**\n\t * Dynamic background (graphics) used as popin background\n\t */\n\tpublic background: mesh.NineSlicePlane = null;\n\n\tpublic padding: Rectangle = new Rectangle(35, 40, 35, 40);\n\tpublic buttonsSpacing: number = 15;\n\n\tprivate _soundEnabled: boolean = true;\n\tprivate _hidden: boolean = false;\n\n\tprivate _primary: Button = null;\n\tprivate _secondary: Button = null;\n\tprivate _cancel: Button = null;\n\tprivate _mute: Button = null;\n\tprivate _unmute: Button = null;\n\tprivate _close: Button = null;\n\tprivate _buttonsStackMinSize: number;\n\tprivate _buttonsStack: Button[] = [];\n\tprivate _buttons: Button[] = [];\n\tprivate _buttonsByName: IButton[] = []; // Button[] = [];\n\tprivate _rulesEnabled: boolean = false;\n\t/**\n\t * Constructor\n\t * @param config: the configuration of the settings component for customization\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\t// PIXI.Container\n\t\tsuper();\n\t}\n\n\t/**\n\t * Called by the project loader once the container has\n\t * been imported\n\t */\n\tpublic onLoaded(): void {\n\t\tconst buttonsTemplates = [\n\t\t\tthis._primary,\n\t\t\tthis._secondary,\n\t\t\tthis._cancel,\n\t\t\tthis._close,\n\t\t\tthis._unmute,\n\t\t\tthis._mute,\n\t\t];\n\t\tbuttonsTemplates.forEach((button) => {\n\t\t\tif (button.nineSliceMinSize) {\n\t\t\t\tthis._buttonsStackMinSize = Math.max(this._buttonsStackMinSize, button.nineSliceMinSize.x);\n\t\t\t}\n\n\t\t\tbutton.visible = false;\n\t\t\tthis.removeChild(button);\n\t\t});\n\n\t\tconst menuDatas: IMenuOptions = i18next.t(\"vi.menu\", {\n\t\t\treturnObjects: true,\n\t\t\tdefaultValue: null,\n\t\t});\n\n\t\tthis.padding = new Rectangle(\n\t\t\tmenuDatas.padding.left,\n\t\t\tmenuDatas.padding.top,\n\t\t\tmenuDatas.padding.right,\n\t\t\tmenuDatas.padding.bottom\n\t\t);\n\t\tthis.buttonsSpacing = menuDatas.buttonsSpacing;\n\t\tmenuDatas.buttons.forEach((datas) => this.instanciateButton(datas));\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.SoundStatusChanged, () => {\n\t\t\tthis.muteButton.visible = this.vi.game.soundStatus;\n\t\t\tthis.unmuteButton.visible = !this.vi.game.soundStatus;\n\t\t});\n\n\t\t// Force unvisible\n\t\tthis.hide(0);\n\t\tthis.unmuteButton.visible = false;\n\t}\n\n\tprivate instanciateButton(datas: IMenuButtonOptions): Button {\n\t\t// get a new button from the prefabs\n\t\tconst button = this[`_${datas.type}`].clone();\n\n\t\tif (button) {\n\t\t\t// for the tracking :\n\t\t\tbutton.setName(`settings:${datas.name}`);\n\t\t\t// configure the button\n\t\t\tbutton.visible = true;\n\t\t\tthis.addChild(button);\n\n\t\t\tif (button.label) {\n\t\t\t\tbutton.label = datas.label;\n\t\t\t}\n\n\t\t\tif (datas.type !== \"close\") {\n\t\t\t\tthis._buttonsStack.push(button);\n\t\t\t}\n\n\t\t\tthis._buttons.push(button);\n\t\t\tthis._buttonsByName[datas.name] = button;\n\t\t\tthis[datas.name] = button;\n\n\t\t\tif (datas.type !== \"mute\" && datas.type !== \"unmute\") {\n\t\t\t\tbutton.on(\"pointertap\", async () => {\n\t\t\t\t\tthis.hide();\n\n\t\t\t\t\tdatas.value.split(\",\").forEach((eventName) => {\n\t\t\t\t\t\tconst event = EVisualIdentityEvent[eventName];\n\t\t\t\t\t\tthis.vi.emitter.emit(event ? event : eventName);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (this.vi.parameters.soundButtonEnabled ?? true) {\n\t\t\t\tbutton.on(\"pointertap\", async () => {\n\t\t\t\t\tif (datas.type === \"mute\") {\n\t\t\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tdatas.value.split(\",\").forEach((eventName) => {\n\t\t\t\t\t\tconst event = EVisualIdentityEvent[eventName];\n\t\t\t\t\t\tthis.vi.emitter.emit(event ? event : eventName);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbutton.enabled = false;\n\t\t\t}\n\t\t}\n\n\t\treturn button;\n\t}\n\n\t/**\n\t * Resizes the settings background according to the\n\t * visible buttons. Also resets the Y position of buttons\n\t */\n\tpublic resizeBackground(): void {\n\t\tconst buttons = this.getButtons();\n\n\t\tlet maxButtonWidth = 0;\n\t\tlet maxButtonHeight = 0;\n\n\t\tbuttons.forEach((button) => {\n\t\t\tif (button.visible) {\n\t\t\t\tmaxButtonWidth = Math.max(maxButtonWidth, button.width);\n\t\t\t\tmaxButtonHeight = Math.max(maxButtonHeight, button.height);\n\t\t\t}\n\t\t});\n\n\t\tconst totalHeight =\n\t\t\tbuttons.length * maxButtonHeight + this.buttonsSpacing * (buttons.length - 1);\n\n\t\tbuttons.forEach((button, index) => {\n\t\t\tif (button.visible) {\n\t\t\t\tbutton.docking.y = (maxButtonHeight + this.buttonsSpacing) * index + this.padding.y;\n\t\t\t\tbutton.enabled = true;\n\t\t\t}\n\t\t});\n\n\t\tthis.background.width = maxButtonWidth + this.padding.x + this.padding.width;\n\t\tthis.background.height = totalHeight + this.padding.y + this.padding.height;\n\t\tthis.dockingBounds.setBounds(this.background.width, this.background.height);\n\t}\n\n\tprivate getButtons(): Button[] {\n\t\treturn this._buttonsStack.filter((button) => button.visible);\n\t}\n\n\t/**\n\t * Show close button & resize background\n\t */\n\tpublic show(duration: number = 0.2): Promise<void> {\n\t\treturn new Promise((resolve) => {\n\t\t\t// reset close button\n\t\t\tif (this.closeButton) {\n\t\t\t\tthis.closeButton.enabled = true;\n\t\t\t}\n\t\t\t// Resize the settings background\n\t\t\tthis.resizeBackground();\n\n\t\t\tif (this.muteButton.visible) {\n\t\t\t\tthis.unmuteButton.docking.position.set(\n\t\t\t\t\tthis.muteButton.docking.position.x,\n\t\t\t\t\tthis.muteButton.docking.position.y\n\t\t\t\t);\n\t\t\t} else if (this.unmuteButton.visible) {\n\t\t\t\tthis.muteButton.docking.position.set(\n\t\t\t\t\tthis.unmuteButton.docking.position.x,\n\t\t\t\t\tthis.unmuteButton.docking.position.y\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this._hidden) {\n\t\t\t\tthis.visible = true;\n\t\t\t\t/*\n\t\t\t\t// TODO: Tweenmax is paused at the same time so my show/hide tween are paused\n\t\t\t\tTweenMax.fromTo(this, duration,\n\t\t\t\t\t{ scaleXY: .85, alpha: 0 },\n\t\t\t\t\t{ scaleXY: 1, alpha: 1, ease: Cubic.easeOut, onComplete: () => resolve() });\n\t\t\t\t*/\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\tthis._hidden = false;\n\t\t});\n\t}\n\n\t/**\n\t * Hide close button & resize background\n\t */\n\tpublic hide(duration: number = 0.2): Promise<void> {\n\t\treturn new Promise((resolve) => {\n\t\t\tif (this.closeButton) {\n\t\t\t\tthis.closeButton.enabled = false;\n\t\t\t}\n\t\t\t/*\n\t\t\t// TODO: Tweenmax is paused at the same time so my show/hide tween are paused\n\t\t\tTweenMax.fromTo(this, duration, { scaleXY: 1, alpha: 1 }, {\n\t\t\t\tscaleXY: 1.075, alpha: 0, ease: Cubic.easeOut,\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tthis.visible = false;\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t});\n\t\t\t*/\n\t\t\tthis.visible = false;\n\t\t\tthis._hidden = true;\n\t\t});\n\t}\n\n\t/**\n\t * Returns if the rules buttons are enabled\n\t */\n\tpublic get rulesEnabled(): boolean {\n\t\treturn this._rulesEnabled;\n\t}\n\n\t/**\n\t * Sets if the rules buttons are enabled\n\t */\n\tpublic set rulesEnabled(enabled: boolean) {\n\t\tthis._rulesEnabled = enabled;\n\n\t\tif (this.rulesButton) {\n\t\t\tthis.rulesButton.enabled = this._rulesEnabled;\n\t\t}\n\t\tif (this.mainRulesButton) {\n\t\t\tthis.rulesButton.enabled = this._rulesEnabled;\n\t\t}\n\t}\n\n\tprivate buttonsSetEnabled(value: boolean): void {\n\t\t// this.closeButton.interactive = value;\n\t\tthis._buttons.forEach((button) => (button.enabled = value));\n\t}\n\n\tprivate buttonsSetInteractive(value: boolean): void {\n\t\t// this.closeButton.interactive = value;\n\t\tthis._buttons.forEach((button) => (button.interactive = value));\n\t}\n\n\tprivate removeButtons(): void {\n\t\tthis._buttons.forEach((button) => {\n\t\t\tif (button.parent) {\n\t\t\t\tthis.removeChild(button);\n\t\t\t\tbutton.interactive = false;\n\t\t\t\tbutton.removeAllListeners();\n\t\t\t\tbutton.destroy();\n\t\t\t}\n\t\t});\n\n\t\tthis._buttonsStack = [];\n\t\tthis._buttons = [];\n\t}\n}\n","export * from \"./views/loadingView\";\nexport * from \"./views/introductionView\";\nexport * from \"./views/inGameView\";\nexport * from \"./views/lockView\";\n","import { LoadedView, Docking } from \"@gdk/core-pixi\";\nimport { tracker, SettingsEvent, ESettingsEvent } from \"@gdk/core\";\nimport type { Amount } from \"@gdk/core\";\nimport type { Button } from \"@gdk/core-pixi\";\n\nimport { SettingsComponent } from \"../components/settingsComponent\";\nimport { Purse } from \"../components/purse\";\nimport { EVisualIdentityEvent, EVisualIdentityAction } from \"../../../events\";\nimport { Time } from \"../../danskeSpil/components/time\";\nimport { MessagePopin } from \"../components/messagePopin\";\nimport type { IAdaptativeInGameView } from \"../../../identity\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class InGameView extends LoadedView implements IAdaptativeInGameView {\n\t/**\n\t * Settings button used to show settings popin (from the editor)\n\t */\n\tpublic settingsButton: Button = null;\n\t/**\n\t * Purse container used to draw the purse amount text (from the editor)\n\t */\n\tpublic purse: Purse = new Purse();\n\t/**\n\t * Clock container used to draw the clock (from the editor)\n\t */\n\tpublic clock: Time = new Time();\n\t/**\n\t * Settings component (popin) (from the editor)\n\t */\n\tpublic settingsComponent: SettingsComponent;\n\n\t/**\n\t * Popin component (popin)\n\t */\n\tpublic popin: MessagePopin = new MessagePopin();\n\n\t/**\n\t * Callback reference on the user taps on the settings button\n\t */\n\tprotected onClickCallback: () => void = null;\n\n\t/**\n\t * Constructor\n\t * @param vi: the adaptative visual identity reference\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\t// LoadedView\n\t\tsuper();\n\n\t\t// Components\n\t\tthis.settingsComponent = new SettingsComponent(this.vi);\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t\tthis.settingsButton.on(\"pointertap\", this.onClickCallback);\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tthis.visible = false;\n\t\tthis.settingsButton.removeListener(\"pointertap\", this.onClickCallback);\n\t}\n\n\t/**\n\t * Sets the purse\n\t * @param purse the purse to set\n\t */\n\tpublic setPurse(value: Amount): void {\n\t\tthis.purse.amount = value;\n\t}\n\n\t/**\n\t * Returns the purse value\n\t */\n\tpublic getPurse(): Amount {\n\t\treturn this.purse.amount;\n\t}\n\n\t/**\n\t * Called once the view is loaded\n\t */\n\tpublic onLoad(): void {\n\t\t// Events\n\t\tthis.onClickCallback = () => {\n\t\t\tthis.settingsComponent.once(EVisualIdentityEvent.HideSettings, () => {\n\t\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Hide));\n\t\t\t\t// reset settingsButton texture.\n\t\t\t\tthis.settingsButton.enabled = true;\n\t\t\t});\n\n\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Show));\n\t\t\tthis.settingsComponent.visible = true;\n\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowSettings);\n\n\t\t\t// show settings component\n\t\t\tthis.settingsComponent.show();\n\t\t};\n\n\t\t// Actions\n\t\tthis.vi.emitter.on(EVisualIdentityAction.SetPurse, (purse) => this.setPurse(purse));\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.SettingsEnabled,\n\t\t\t(enabled) => (this.settingsButton.enabled = enabled)\n\t\t);\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.RulesEnabled,\n\t\t\t(enabled) => (this.settingsComponent.rulesEnabled = enabled)\n\t\t);\n\n\t\t// rollback settings button to legacy position.\n\t\tif (this.vi.parameters.settingsButtonLegacyPosition) {\n\t\t\tthis.settingsButton.docking = new Docking(Docking.topLeft, 0, 56);\n\t\t}\n\n\t\tconst parameters = this.vi.parameters as any;\n\t\t// set the clock visibility\n\t\tthis.showClock = parameters.clock !== undefined;\n\t\t// sets the clock color\n\t\tthis.clockColor = parameters.clock ? parameters.clock.color : \"#000000\";\n\t\t// set the purse visibility\n\t\tthis.showPurse = parameters.showPurse !== false;\n\n\t\t// allow settings button to be positionned from conf file\n\t\tif (parameters.settingsButton && !this.vi.parameters.settingsButtonLegacyPosition) {\n\t\t\tthis.settingsButton.docking = new Docking(\n\t\t\t\tDocking[\n\t\t\t\t\tparameters.settingsButton.docking ? parameters.settingsButton.docking : Docking.topRight\n\t\t\t\t],\n\t\t\t\tparameters.settingsButton.x ? parameters.settingsButton.x : -4,\n\t\t\t\tparameters.settingsButton.y ? parameters.settingsButton.y : 60\n\t\t\t);\n\t\t}\n\t}\n\n\tpublic set showClock(value: boolean) {\n\t\tthis.clock.visible = value;\n\t}\n\n\tpublic set clockColor(value: string) {\n\t\tthis.clock.color = value;\n\t}\n\n\tpublic set showPurse(value: boolean) {\n\t\tthis.purse.visible = value;\n\t}\n}\n","import { spine, WebGLRenderer, CanvasRenderer, Graphics } from \"pixi.js\";\nimport {\n\tLoadedView,\n\tTimeline,\n\tTimelineEvent,\n\tETimelineEventsType,\n\tESpineTimelineEvent,\n\tISpineTimelineSequence,\n\tResize,\n\tDocking,\n\tDockingBounds,\n} from \"@gdk/core-pixi\";\nimport { TweenMax } from \"gsap\";\nimport type { SpineTimeline } from \"@gdk/core-pixi\";\nimport type { Sprite } from \"pixi.js\";\n\nimport { EVisualIdentityEvent } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class IntroductionView extends LoadedView {\n\t/**\n\t * Illiko introduction timeline (from the editor)\n\t */\n\tpublic intro: SpineTimeline = null;\n\t/**\n\t * Defines if the illiko introduction should be skipped\n\t */\n\tpublic skipIntro: boolean = false;\n\n\t/**\n\t * White background generated for the view\n\t */\n\tprotected background: Sprite = null;\n\n\tprivate _onNextStateCallback: () => void;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Animate the clip\n\t * @param speed the speed affected to it\n\t */\n\tpublic animate(nextState: () => void): void {\n\t\tthis._onNextStateCallback = nextState;\n\n\t\tif (this.skipIntro) {\n\t\t\tthis.visible = false;\n\t\t\tthis._onNextState();\n\t\t\tnextState();\n\t\t} else if (this.intro.timeScale > 0.001) {\n\t\t\tthis.intro.play(\"introduction\");\n\t\t\tTweenMax.to(this.intro, 0.4, { delay: 0.2, alpha: 1 });\n\t\t} else {\n\t\t\tthis.visible = false;\n\t\t\tthis._onNextState();\n\t\t}\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t\tthis.intro.alpha = 0;\n\t}\n\n\t/**\n\t * On the view disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\t// Just override to the view not be set to \"visible = false\" as we need to keep it visible\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Intro illiko events\n\t\tthis.intro.once(ESpineTimelineEvent.Complete, () => {\n\t\t\tthis.visible = false;\n\t\t\tthis.vi.emit(EVisualIdentityEvent.IntroductionComplete);\n\t\t});\n\n\t\tthis.intro.once(ESpineTimelineEvent.Event, (e) => {\n\t\t\tif (e.name === \"nextState\") {\n\t\t\t\t// this.background.visible = false;\n\t\t\t\tthis._onNextState();\n\t\t\t\tthis.fadeBackground();\n\t\t\t}\n\t\t});\n\n\t\tthis.intro.once(ESpineTimelineEvent.StartAnimation, (e) => {\n\t\t\tif (e === \"FGS\" && this.skipIntro) {\n\t\t\t\tthis._onNextState();\n\t\t\t\tthis.visible = false;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async fadeBackground(duration: number = 0.4): Promise<void> {\n\t\treturn new Promise((resolve) => {\n\t\t\tTweenMax.to(this.background, duration, {\n\t\t\t\tdelay: 0.1,\n\t\t\t\talpha: 0,\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tthis.visible = false;\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t// Called once an illiko introduction animation has finished\n\tprivate _onNextState(): void {\n\t\tif (this._onNextStateCallback && this.visible) {\n\t\t\tthis._onNextStateCallback();\n\t\t}\n\t}\n}\n","import { LoadedView, Resize, Docking } from \"@gdk/core-pixi\";\nimport i18n from \"i18next\";\nimport { TweenMax } from \"gsap\";\nimport type { TextField, TextArea } from \"@gdk/core-pixi\";\nimport type { Sprite, Graphics, mesh } from \"pixi.js\";\n\nimport type { IAdaptativeLoadingView } from \"../../../identity\";\n\nexport class LoadingView extends LoadedView implements IAdaptativeLoadingView {\n\t/**\n\t * The spinner sprite rotating according to the loading progress (from the editor)\n\t */\n\tprotected spinner: Sprite = null;\n\t/**\n\t * The percentage text of loaded files (from the editor)\n\t */\n\tprotected percentage: TextField = null;\n\t/**\n\t * Dynamic background used to be drawn behing the bottom text (created in the class)\n\t */\n\tprotected bottomBackground: Graphics = null;\n\t/**\n\t * Bottom text above the bottom background (from the editor)\n\t */\n\tprotected bottomText: TextArea = null;\n\n\t/**\n\t * White background generated for the view\n\t */\n\tprotected background: Sprite | mesh.NineSlicePlane = null;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Defines the function called each time a file is loaded\n\t * @param percentage the percentage of files already loaded\n\t */\n\tpublic onProgress(percentage: number): void {\n\t\tthis.percentage.text = `<numbers>${percentage}</numbers>%`;\n\t\tthis.spinner.rotation = (percentage * Math.PI * 2) / 100;\n\n\t\tif (percentage >= 100) {\n\t\t\tTweenMax.to(this, 0.5, {\n\t\t\t\tdelay: 0.2,\n\t\t\t\talpha: 0,\n\t\t\t\tonComplete: () => {\n\t\t\t\t\tthis.visible = false;\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\t// OVERRIDE TO DO NOTHING (BECAUSE IT'S CALLED TWICE)\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Emty\n\t}\n}\n","import i18n from \"i18next\";\nimport { EOrientation } from \"@gdk/core\";\nimport { LoadedView } from \"@gdk/core-pixi\";\nimport type { TextField } from \"@gdk/core-pixi\";\nimport type { Container } from \"pixi.js\";\n\nexport class LockView extends LoadedView {\n\t// Public members\n\tpublic portrait: Container = null;\n\tpublic landscape: Container = null;\n\n\tpublic text: TextField = null;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Sets the orientation of the game and then what message to show\n\t */\n\tpublic set orientation(orientation: EOrientation) {\n\t\tif (orientation === EOrientation.Landscape) {\n\t\t\t// Landscape\n\t\t\tthis.landscape.visible = true;\n\t\t\tthis.portrait.visible = false;\n\n\t\t\tthis.text.text = i18n.t(\"vi.orientationHint\", {\n\t\t\t\treplace: {\n\t\t\t\t\torientation: i18n.t(\"vi.orientation.landscape\"),\n\t\t\t\t\tdevice: i18n.t(\"vi.device.mobile\"),\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (orientation === EOrientation.Portrait) {\n\t\t\t// Portrait\n\t\t\tthis.landscape.visible = false;\n\t\t\tthis.portrait.visible = true;\n\n\t\t\tthis.text.text = i18n.t(\"vi.orientationHint\", {\n\t\t\t\treplace: {\n\t\t\t\t\torientation: i18n.t(\"vi.orientation.portrait\"),\n\t\t\t\t\tdevice: i18n.t(\"vi.device.mobile\"),\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// Force visible\n\t\tthis.visible = true;\n\t}\n}\n"],"sourceRoot":""}