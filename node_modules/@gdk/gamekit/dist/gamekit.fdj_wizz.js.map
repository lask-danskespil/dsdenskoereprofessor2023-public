{"version":3,"sources":["webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatar.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/avatarSlot.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/betPopup.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/bottomBanner.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/bulletsContainer.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/closableTwoButtonsPopup.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/currencyPurse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/purse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/rules.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/settingsComponent.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/tokenPurse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/topBanner.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/twoButtonsPopup.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/waitingRoomPopup.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/components/winPurse.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/index.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/views/inGameView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/views/introductionView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/views/loadingView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/fdj_wizz/views/lockView.ts"],"names":[],"mappings":"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","file":"gamekit.fdj_wizz.js","sourcesContent":["import { Docking } from \"@gdk/core-pixi\";\nimport { Container } from \"pixi.js\";\nimport type { extras, Sprite, Texture } from \"pixi.js\";\n\nimport { EAvatarStatus } from \"../../../../game/wizz\";\nimport type { IAvatar } from \"../../../../game/wizz\";\n\nexport class Avatar extends Container implements IAvatar {\n\tprotected background: Sprite = null;\n\tprotected avatar: Sprite = null;\n\tprotected status: extras.AnimatedSprite = null;\n\n\t/**\n\t * Set the current avatar texture\n\t * @param texture\n\t */\n\tpublic setTexture(texture: Texture): void {\n\t\tthis.avatar.texture = texture;\n\t}\n\t/**\n\t * Get the current avatar texture\n\t */\n\tpublic getTexture(): Texture {\n\t\treturn this.avatar.texture;\n\t}\n\n\t/**\n\t * Set as the current player\n\t */\n\tpublic setAsCurrentPlayer(flag: boolean = true): void {\n\t\tthis.background.visible = flag;\n\t}\n\n\t/**\n\t * Set the status icon on the avatar\n\t * @param status\n\t */\n\tpublic setStatus(status: EAvatarStatus): void {\n\t\tif (status === EAvatarStatus.none) {\n\t\t\tthis.status.visible = false;\n\t\t} else {\n\t\t\tthis.status.visible = true;\n\t\t\tthis.status.gotoAndStop(status);\n\t\t}\n\t}\n}\n","import { Linear } from \"gsap\";\nimport { Container, Sprite } from \"pixi.js\";\nimport type { TextField } from \"@gdk/core-pixi\";\n\nimport { TweenUtils } from \"../../../../game\";\nimport { Avatar } from \"./avatar\";\nimport type { IAvatarSlot } from \"../../../../game\";\n\nexport default class AvatarSlot extends Container implements IAvatarSlot {\n\tpublic pseudo: TextField = null;\n\tpublic avatar: Avatar = new Avatar();\n\tpublic playerId: string;\n\n\t/**\n\t * On loaded event\n\t */\n\tpublic onLoaded(): void {\n\t\tthis.reset();\n\t}\n\n\t/**\n\t * Reset\n\t */\n\tpublic reset(): void {\n\t\tthis.pseudo.alpha = 1;\n\t}\n\n\t/**\n\t * Enter room anim\n\t */\n\tpublic async enterRoomAnim(): Promise<void> {\n\t\tconst avatarFinalScale = this.avatar.scaleXY;\n\t\tthis.avatar.scaleXY = 0;\n\t\tthis.pseudo.alpha = 0;\n\t\tawait TweenUtils.wait(0.5);\n\n\t\t// avatar scale 0%->108% in 233ms then 108%->100% in 200ms\n\t\tTweenUtils.to(this.avatar, 0.233, {\n\t\t\tscaleXY: avatarFinalScale * 1.08,\n\t\t\tease: Linear.easeNone,\n\t\t}).then(() => {\n\t\t\tTweenUtils.to(this.avatar, 0.2, { scaleXY: avatarFinalScale, ease: Linear.easeNone });\n\t\t});\n\n\t\t// 233ms pause then nickname opacity 0%->100% in 200ms\n\t\tawait TweenUtils.wait(0.233);\n\t\tawait TweenUtils.to(this.pseudo, 0.2, { alpha: 1.0, ease: Linear.easeNone });\n\t}\n}\n","import { Loader } from \"@gdk/core\";\nimport { EAlign } from \"@gdk/core-pixi\";\nimport { TweenMax } from \"gsap\";\nimport * as i18n from \"i18next\";\nimport { Container } from \"pixi.js\";\nimport type { Texture } from \"pixi.js\";\nimport type { Button, TextField } from \"@gdk/core-pixi\";\nimport type { Amount } from \"@gdk/core\";\nimport type { Howl } from \"howler\";\n\nimport type { Com } from \"../../../../com\";\nimport { TweenUtils } from \"../../../../game\";\n\nconst BET_SOUND: string = \"wizz_miser.mp3\";\n\nexport interface IBetPopupTextures {\n\tidle?: Texture;\n\tover?: Texture;\n\tclick?: Texture;\n\tdisabled?: Texture;\n}\n\nexport class BetPopup extends Container {\n\t/**\n\t * First bet callback down\n\t */\n\tpublic onBetButtonDown: () => void;\n\t/**\n\t * First bet callback up\n\t */\n\tpublic onBetButtonUp: () => Promise<void>;\n\t/**\n\t * The game agreement\n\t */\n\tprivate content: TextField = null;\n\t/**\n\t * General rules link\n\t */\n\tprivate generalRules: TextField = null;\n\t/**\n\t * Game rules link\n\t */\n\tprivate gameRules: TextField = null;\n\t/**\n\t * The bet button\n\t */\n\tprivate bet: Button = null;\n\n\tpublic constructor(private com: Com) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * On loaded event\n\t */\n\tpublic onLoaded(): void {\n\t\t// Tracking\n\t\tthis.bet.setName(\"rules:agreement:bet\");\n\t\tthis.generalRules.setName(\"rules:agreement:generalRules\");\n\t\tthis.gameRules.setName(\"rules:agreement:gameRules\");\n\n\t\tthis.generalRules.on(\"link\", () => this.com.trigger(\"GLOBAL_RULES\"));\n\t\tthis.gameRules.on(\"link\", () => this.com.trigger(\"GAME_RULES\"));\n\n\t\tthis.bet.text.align = EAlign.Justify;\n\t\tthis.bet.text.wordWrap = true;\n\t\tthis.bet.text.width = 220;\n\n\t\tthis.bet.on(\"pointertap\", async () => {\n\t\t\tthis.enable(false);\n\t\t\tif (this.onBetButtonDown) {\n\t\t\t\tthis.onBetButtonDown();\n\t\t\t}\n\n\t\t\tLoader.get<Howl>(BET_SOUND).play();\n\n\t\t\tTweenMax.to(this, 0.5, {\n\t\t\t\tscaleXY: 0,\n\t\t\t\tonComplete: async () => {\n\t\t\t\t\tthis.visible = false;\n\t\t\t\t\tif (this.onBetButtonUp) {\n\t\t\t\t\t\tawait this.onBetButtonUp();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Set the bet button textures\n\t * @param bet IBetPopupTextures\n\t */\n\tpublic setTextures(bet: IBetPopupTextures): void {\n\t\tif (bet.idle) {\n\t\t\tthis.bet.idleTexture = bet.idle;\n\t\t\tthis.bet.disabledTexture = bet.idle;\n\t\t}\n\t\tif (bet.over) {\n\t\t\tthis.bet.overTexture = bet.over;\n\t\t}\n\t\tif (bet.click) {\n\t\t\tthis.bet.clickedTexture = bet.click;\n\t\t}\n\t\tif (bet.disabled) {\n\t\t\tthis.bet.disabledTexture = bet.disabled;\n\t\t}\n\t}\n\n\t/**\n\t * Open the popup\n\t */\n\tpublic async open(): Promise<void> {\n\t\tthis.enable(false);\n\t\tthis.visible = true;\n\t\tthis.scaleXY = 0;\n\t\tawait TweenUtils.to(this, 0.5, {\n\t\t\tscaleXY: 1,\n\t\t});\n\t\tthis.enable(true);\n\t}\n\n\t/**\n\t * Update texts for content and bet\n\t * @param amount\n\t */\n\tpublic updateTexts(amount: Amount): void {\n\t\tthis.content.text = i18n.t(\"vi.agreements.content\", {\n\t\t\tcount: amount.value,\n\t\t});\n\t\tthis.bet.getChildByName<TextField>(\"count\").text = amount.toString();\n\t}\n\n\tprivate enable(enable: boolean): void {\n\t\tthis.bet.enabled = enable;\n\t}\n}\n","import { Container } from \"pixi.js\";\nimport type { TextField } from \"@gdk/core-pixi\";\nimport type { mesh, Texture } from \"pixi.js\";\n\nimport { Timer } from \"../../../../game/ui\";\nimport { R16_9, R16_9_SCALE, R4_3, R4_3_SCALE } from \"./topBanner\";\nimport type { IBottomBanner } from \"../../../../game/wizz\";\n\nexport interface IBottomBannerTextures {\n\ttitle?: Texture;\n\tbackground?: Texture;\n}\n\nconst BANNER_BACKGROUND_HEIGHT_R4_3: number = 152;\nconst BANNER_BACKGROUND_HEIGHT_R16_9: number = BANNER_BACKGROUND_HEIGHT_R4_3 * R16_9_SCALE;\nconst BANNER_CONTEXT_HEIGHT_R4_3: number = 60;\nconst BANNER_CONTEXT_HEIGHT_R16_9: number = BANNER_CONTEXT_HEIGHT_R4_3 * R16_9_SCALE;\n\nexport class BottomBanner extends Container implements IBottomBanner {\n\t/**\n\t * Banner background (nine Slice)\n\t */\n\tprotected background: mesh.NineSlicePlane = null;\n\n\t/**\n\t * Context bar at top with information (nine Slice)\n\t */\n\tprotected contextBar: mesh.NineSlicePlane = null;\n\n\t/**\n\t * The game bottom content\n\t */\n\tpublic content: Container;\n\n\t/**\n\t * The text\n\t */\n\tpublic contextText: TextField = null;\n\n\t/**\n\t * The timer\n\t */\n\tpublic timer: Timer = new Timer();\n\n\t/**\n\t * Set the component width\n\t * @param width\n\t * @param ratio\n\t */\n\tpublic setWidth(width: number, ratio: number): void {\n\t\tthis.dockingBounds.width = width;\n\n\t\tif (ratio <= R4_3) {\n\t\t\tthis.dockingBounds.height = BANNER_BACKGROUND_HEIGHT_R4_3 + BANNER_CONTEXT_HEIGHT_R4_3;\n\t\t\tthis.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;\n\t\t\tthis.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;\n\t\t\tthis.background.y = BANNER_CONTEXT_HEIGHT_R4_3;\n\t\t\tthis.background.width = width;\n\t\t\tthis.contextBar.width = width;\n\n\t\t\tfor (const element of [this.contextText, this.timer, this.contextBar, this.background]) {\n\t\t\t\telement.scaleXY = R4_3_SCALE;\n\t\t\t}\n\n\t\t\tif (this.content) {\n\t\t\t\tthis.content.scaleXY = R4_3_SCALE;\n\t\t\t}\n\t\t} else if (ratio >= R16_9) {\n\t\t\tthis.dockingBounds.height = BANNER_BACKGROUND_HEIGHT_R16_9 + BANNER_CONTEXT_HEIGHT_R16_9;\n\t\t\tthis.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;\n\t\t\tthis.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;\n\t\t\tthis.background.y = BANNER_CONTEXT_HEIGHT_R16_9;\n\t\t\tthis.background.width = width / R16_9_SCALE;\n\t\t\tthis.contextBar.width = width / R16_9_SCALE;\n\n\t\t\tfor (const element of [this.contextText, this.timer, this.contextBar, this.background]) {\n\t\t\t\telement.scaleXY = R16_9_SCALE;\n\t\t\t}\n\n\t\t\tif (this.content) {\n\t\t\t\tthis.content.scaleXY = R16_9_SCALE;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.dockingBounds.height =\n\t\t\t\t(BANNER_BACKGROUND_HEIGHT_R16_9 + BANNER_CONTEXT_HEIGHT_R16_9) * (ratio / R16_9);\n\t\t\tthis.background.height = BANNER_BACKGROUND_HEIGHT_R4_3;\n\t\t\tthis.contextBar.height = BANNER_CONTEXT_HEIGHT_R4_3;\n\t\t\tthis.background.y = BANNER_CONTEXT_HEIGHT_R16_9 * (ratio / R16_9);\n\t\t\tthis.background.width = width / (R16_9_SCALE * (ratio / R16_9));\n\t\t\tthis.contextBar.width = width / (R16_9_SCALE * (ratio / R16_9));\n\n\t\t\tconst purseScale = R16_9_SCALE * (ratio / R16_9);\n\t\t\tfor (const element of [this.contextText, this.timer, this.contextBar, this.background]) {\n\t\t\t\telement.scaleXY = purseScale;\n\t\t\t}\n\n\t\t\tif (this.content) {\n\t\t\t\tthis.content.scaleXY = purseScale;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * set the timer format string key\n\t * @param key\n\t */\n\tpublic setTimerKey(key: string): void {\n\t\tthis.timer.key = key;\n\t}\n\n\t/**\n\t * set textures from game assets\n\t * @param bottom IBottomBanner\n\t */\n\tpublic setTextures(bottom: IBottomBannerTextures): void {\n\t\tif (bottom.title) {\n\t\t\tthis.contextBar.texture = bottom.title;\n\t\t}\n\t\tif (bottom.background) {\n\t\t\tthis.background.texture = bottom.background;\n\t\t}\n\t}\n}\n","import { DockingBounds } from \"@gdk/core-pixi\";\nimport { Container, extras, Texture } from \"pixi.js\";\n\nexport class BulletsContainer extends Container {\n\tprotected bullets: extras.AnimatedSprite[] = [];\n\n\t/**\n\t * Add a bullet to the container\n\t */\n\tpublic addBullet(): void {\n\t\tconst bullet = new extras.AnimatedSprite([\n\t\t\tTexture.fromFrame(\"ico_regle_list_00.png\"),\n\t\t\tTexture.fromFrame(\"ico_regle_list_01.png\"),\n\t\t]);\n\t\tthis.addChild(bullet);\n\n\t\tif (this.bullets.length) {\n\t\t\tconst previousBullet = this.bullets[this.bullets.length - 1];\n\t\t\tbullet.x = previousBullet.x + previousBullet.width;\n\t\t}\n\n\t\tthis.bullets.push(bullet);\n\n\t\tthis.dockingBounds = new DockingBounds(\n\t\t\tthis.bullets[0].width * this.bullets.length,\n\t\t\tthis.bullets[0].height\n\t\t);\n\t}\n\n\t/**\n\t * Set current bullet index\n\t * @param index\n\t */\n\tpublic setCurrentBullet(index: number): void {\n\t\tfor (const bullet of this.bullets) {\n\t\t\tbullet.gotoAndStop(0);\n\t\t}\n\n\t\tthis.bullets[index].gotoAndStop(1);\n\t}\n}\n","import { Loader } from \"@gdk/core\";\nimport { TimelineMax } from \"gsap\";\nimport type { Button } from \"@gdk/core-pixi\";\nimport type { Howl } from \"howler\";\n\nimport { TwoButtonsPopup } from \"./twoButtonsPopup\";\n\nconst CLOSE_SOUND: string = \"wizz_menu_disappear.mp3\";\n\nexport class ClosableTwoButtonsPopup extends TwoButtonsPopup {\n\t/**\n\t * Close button callback\n\t */\n\tpublic onCloseButton: () => void | Promise<void>;\n\n\t/**\n\t * Close popup button\n\t */\n\tprotected closeButton: Button = null;\n\n\t/**\n\t * On loaded call\n\t */\n\tpublic onLoaded(): void {\n\t\tsuper.onLoaded();\n\n\t\tthis.closeButton.on(\"pointertap\", async () => {\n\t\t\tif (this.onCloseButton) {\n\t\t\t\tawait this.onCloseButton();\n\t\t\t}\n\n\t\t\tthis.visible = false;\n\t\t\tLoader.get<Howl>(CLOSE_SOUND).play();\n\t\t});\n\t}\n\n\t/**\n\t * Open the popup\n\t */\n\tpublic async open(): Promise<void> {\n\t\tthis.closeButton.enabled = false;\n\t\tconst finalPosition: number = 70;\n\t\tthis.closeButton.docking.x = finalPosition + this.closeButton.width;\n\t\tthis.closeButton.alpha = 0;\n\n\t\tawait super.open();\n\n\t\tawait new Promise<void>((resolve) => {\n\t\t\tnew TimelineMax().to(this.closeButton, 0.5, { alpha: 1 }, 0).to(\n\t\t\t\tthis.closeButton.docking,\n\t\t\t\t0.5,\n\t\t\t\t{\n\t\t\t\t\tx: finalPosition,\n\t\t\t\t\tonComplete: resolve,\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\n\t\tthis.closeButton.enabled = true;\n\t}\n\n\t/**\n\t * Close the popup\n\t * @param waitClose Wait for the pop up close animation after the close button exit animation finishes.\n\t */\n\tpublic async close(waitClose: boolean = true): Promise<void> {\n\t\t// hide close button\n\t\tthis.closeButton.enabled = false;\n\t\tconst finalPosition: number = this.closeButton.docking.x + this.closeButton.width;\n\t\tthis.closeButton.alpha = 1;\n\n\t\tawait new Promise<void>((resolve) => {\n\t\t\tnew TimelineMax().to(this.closeButton, 0.25, { alpha: 0 }, 0).to(\n\t\t\t\tthis.closeButton.docking,\n\t\t\t\t0.25,\n\t\t\t\t{\n\t\t\t\t\tx: finalPosition,\n\t\t\t\t\tonComplete: resolve,\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\t\t});\n\n\t\tif (waitClose) {\n\t\t\tawait super.close();\n\t\t} else {\n\t\t\tsuper.close();\n\t\t}\n\t}\n}\n","import type { Amount } from \"@gdk/core\";\n\nimport { Purse } from \"./purse\";\n\nexport class CurrencyPurse extends Purse {\n\t/**\n\t * Set the purse value\n\t * @param value\n\t */\n\tpublic setPurse(value: Amount): void {\n\t\tthis.purseText.text = value.toString({\n\t\t\tminimumFractionDigits: value.value % 100 === 0 ? 0 : 2,\n\t\t});\n\t\tthis.background.width =\n\t\t\tthis.background.leftWidth + this.purseText.width + this.background.rightWidth;\n\t\tthis.dockingBounds.width = this.background.width;\n\t}\n}\n","import { Container } from \"pixi.js\";\nimport type { TextField } from \"@gdk/core-pixi\";\nimport type { Amount } from \"@gdk/core\";\nimport type { mesh } from \"pixi.js\";\n\nimport type { IPurse } from \"../../../../game/wizz\";\n\nexport abstract class Purse extends Container implements IPurse {\n\t/**\n\t * Background of the purse\n\t */\n\tprotected background: mesh.NineSlicePlane = null;\n\n\t/**\n\t * Purse value display\n\t */\n\tprotected purseText: TextField = null;\n\n\t/**\n\t * Update the purse value\n\t * @param value\n\t */\n\tpublic abstract setPurse(value: Amount): void;\n}\n","import { Loader } from \"@gdk/core\";\nimport type { Container } from \"pixi.js\";\nimport type { Howl } from \"howler\";\n\nimport { BulletsContainer } from \"./bulletsContainer\";\nimport { ClosableTwoButtonsPopup } from \"./closableTwoButtonsPopup\";\n\nconst CLOSE_SOUND: string = \"wizz_menu_disappear.mp3\";\nconst SWIPE_SOUND: string = \"wizz_Swipe L to R.mp3\";\n\nexport class Rules extends ClosableTwoButtonsPopup {\n\t/**\n\t * The rules slides\n\t */\n\tprotected slides: Container[];\n\n\t/**\n\t * The current slide index\n\t */\n\tprotected currentSlide: number;\n\n\tprotected bullets: BulletsContainer = new BulletsContainer();\n\n\t/**\n\t * On loaded event\n\t */\n\tpublic onLoaded(): void {\n\t\t// Tracking\n\t\tthis.setTracking(\"rules:previous\", \"rules:next\");\n\t\tthis.closeButton.setName(\"rules:close\");\n\n\t\tthis.firstButton.visible = false;\n\t\tthis.secondButton.visible = false;\n\n\t\tthis.firstButton.on(\"pointertap\", async () => {\n\t\t\tthis.setSlide(this.currentSlide - 1);\n\t\t\tLoader.get<Howl>(SWIPE_SOUND).play();\n\t\t});\n\n\t\tthis.secondButton.on(\"pointertap\", async () => {\n\t\t\tthis.setSlide(this.currentSlide + 1);\n\t\t\tLoader.get<Howl>(SWIPE_SOUND).play();\n\t\t});\n\n\t\tthis.closeButton.on(\"pointertap\", async () => {\n\t\t\tLoader.get<Howl>(CLOSE_SOUND).play();\n\t\t\tawait this.close();\n\n\t\t\tif (this.onCloseButton) {\n\t\t\t\tawait this.onCloseButton();\n\t\t\t}\n\n\t\t\tthis.visible = false;\n\t\t});\n\t}\n\n\t/**\n\t * Set the rules slides.\n\t * @param slides Container[] the slides of the rules\n\t */\n\tpublic setSlides(slides: Container[]): void {\n\t\tthis.slides = slides;\n\n\t\tfor (const slide of slides) {\n\t\t\tslide.visible = false;\n\t\t\tthis.addChild(slide);\n\t\t\tthis.bullets.addBullet();\n\t\t}\n\n\t\tthis.bullets.visible = this.slides.length > 1;\n\n\t\tthis.currentSlide = 0;\n\t\tthis.setSlide(this.currentSlide);\n\t\tthis.reset();\n\t}\n\n\t/**\n\t * Set the current slide\n\t * @param index the slide index number\n\t */\n\tpublic setSlide(index: number): void {\n\t\tthis.slides[this.currentSlide].visible = false;\n\t\tthis.slides[index].visible = true;\n\t\tthis.currentSlide = index;\n\t\tthis.firstButton.visible = this.currentSlide > 0;\n\t\tthis.secondButton.visible = this.currentSlide < this.slides.length - 1;\n\t\tthis.bullets.setCurrentBullet(index);\n\t}\n\n\t/**\n\t * reset the component\n\t */\n\tpublic reset(): void {\n\t\tif (this.slides) {\n\t\t\tfor (const slide of this.slides) {\n\t\t\t\tslide.visible = false;\n\t\t\t}\n\n\t\t\tthis.setSlide(0);\n\t\t}\n\t}\n\n\t/**\n\t * Open the rules\n\t */\n\tpublic async open(): Promise<void> {\n\t\tif (this.slides) {\n\t\t\tthis.setSlide(0);\n\t\t}\n\n\t\tawait super.open();\n\t}\n}\n","import { Loader } from \"@gdk/core\";\nimport type { Button } from \"@gdk/core-pixi/ui/baseui/ui/button\";\nimport type { Howl } from \"howler\";\n\nimport { EVisualIdentityEvent, EVisualIdentityAction } from \"../../../events\";\nimport { ClosableTwoButtonsPopup } from \"./closableTwoButtonsPopup\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nconst WIZZ_SOUND: string = \"wizz_chat_button_click.mp3\";\nconst CLOSE_SOUND: string = \"wizz_menu_disappear.mp3\";\nconst BUTTON_SOUND: string = \"wizz_menu_button_click.mp3\";\n\nexport class SettingsComponent extends ClosableTwoButtonsPopup {\n\t/**\n\t * Rules status\n\t */\n\tprivate _rulesEnabled: boolean;\n\n\t/**\n\t * Vi to interact with events\n\t */\n\tprotected vi: AdaptativeVisualIdentity;\n\n\t/**\n\t * Sound button when sound on\n\t */\n\tprotected soundOnButton: Button = null;\n\n\t/**\n\t * Sound button when sound off\n\t */\n\tprotected soundOffButton: Button = null;\n\n\t/**\n\t * Enable rules or not\n\t * @param value enable\n\t */\n\tpublic set rulesEnabled(value: boolean) {\n\t\tthis._rulesEnabled = value;\n\t}\n\n\t/**\n\t * Are rules enabled\n\t */\n\tpublic get rulesEnabled(): boolean {\n\t\treturn this._rulesEnabled;\n\t}\n\n\tpublic constructor(vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\n\t\tthis.vi = vi;\n\t}\n\n\t/**\n\t * On loaded call\n\t */\n\tpublic onLoaded(): void {\n\t\t// Tracking\n\t\tthis.closeButton.setName(\"settings:close\");\n\t\tthis.setTracking(\"settings:rules\", \"settings:quit\");\n\t\tthis.soundOnButton.setName(\"settings:soundOff\");\n\t\tthis.soundOffButton.setName(\"settings:soundOn\");\n\n\t\tthis.soundOffButton.visible = false;\n\n\t\tif (this.vi.parameters.soundButtonEnabled ?? true) {\n\t\t\tthis.soundOnButton.on(\"pointertap\", () => {\n\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, false);\n\t\t\t});\n\n\t\t\tthis.soundOffButton.on(\"pointertap\", () => {\n\t\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, true);\n\t\t\t\tLoader.get<Howl>(WIZZ_SOUND).play();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.soundOnButton.enabled = false;\n\t\t\tthis.soundOffButton.enabled = false;\n\t\t}\n\n\t\tthis.closeButton.on(\"pointertap\", async () => {\n\t\t\tLoader.get<Howl>(CLOSE_SOUND).play();\n\t\t\tawait this.close();\n\n\t\t\tif (this.onCloseButton) {\n\t\t\t\tawait this.onCloseButton();\n\t\t\t}\n\t\t});\n\n\t\tthis.firstButton.on(\"pointertap\", async () => {\n\t\t\tthis.enable(false);\n\t\t\tLoader.get<Howl>(WIZZ_SOUND).play();\n\t\t\tif (this.onFirstButton) {\n\t\t\t\tawait this.close(false);\n\t\t\t\tawait this.onFirstButton();\n\t\t\t}\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.secondButton.on(\"pointertap\", async () => {\n\t\t\tthis.enable(false);\n\t\t\tLoader.get<Howl>(WIZZ_SOUND).play();\n\t\t\tif (this.onSecondButton) {\n\t\t\t\tawait this.close(false);\n\t\t\t\tawait this.onSecondButton();\n\t\t\t}\n\n\t\t\tthis.visible = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.SoundStatusChanged, () => {\n\t\t\tthis.soundOnButton.visible = this.vi.game.soundStatus;\n\t\t\tthis.soundOffButton.visible = !this.vi.game.soundStatus;\n\t\t});\n\t}\n}\n","import type { Amount } from \"@gdk/core\";\n\nimport { Purse } from \"./purse\";\n\nexport class TokenPurse extends Purse {\n\t/**\n\t * Set the purse value\n\t * @param value\n\t */\n\tpublic setPurse(value: Amount): void {\n\t\tthis.purseText.text = value.toString({\n\t\t\tminimumFractionDigits: 0,\n\t\t});\n\t\tthis.background.width =\n\t\t\tthis.background.leftWidth + this.purseText.width + this.background.rightWidth;\n\t\tthis.dockingBounds.width = this.background.width;\n\t}\n\n\t/**\n\t * hide the purse for the empty optionnal purses\n\t * @param value\n\t */\n\tpublic hidePurse(): void {\n\t\tthis.purseText.text = \"\";\n\t\tthis.dockingBounds.width = 0;\n\t\tthis.background.width = 0;\n\t}\n}\n","import { Amount } from \"@gdk/core\";\nimport { Container } from \"pixi.js\";\nimport type { mesh } from \"pixi.js\";\nimport type { Button } from \"@gdk/core-pixi\";\n\nimport { CurrencyPurse } from \"./currencyPurse\";\nimport { TokenPurse } from \"./tokenPurse\";\nimport { WinPurse } from \"./winPurse\";\nimport type { Purse } from \"./purse\";\nimport type { IPurses } from \"../../../../game/wizz\";\n\nexport const R4_3: number = 4 / 3;\nexport const R16_9: number = 16 / 9;\nexport const R4_3_SCALE: number = 1;\nexport const R16_9_SCALE: number = R16_9 / R4_3;\n\nconst LEFT_PURSE_POSITION: number = 54;\nconst PURSE_MARGIN: number = 8;\nconst BANNER_HEIGHT_R4_3: number = 110;\nconst BANNER_HEIGHT_R16_9: number = BANNER_HEIGHT_R4_3 * R16_9_SCALE;\n\nexport class TopBanner extends Container {\n\t/**\n\t * Banner background (nine Slice)\n\t */\n\tprotected background: mesh.NineSlicePlane = null;\n\n\t/**\n\t * Back button callback\n\t */\n\tpublic onBackButton: () => void;\n\n\t/**\n\t * Back button (quick quit)\n\t */\n\tprotected backButton: Button = null;\n\n\t/**\n\t * Settings button callback\n\t */\n\tpublic onSettingsButton: () => void;\n\n\t/**\n\t * Settings button (open settings container)\n\t */\n\tprotected settingsButton: Button = null;\n\n\t/**\n\t * Promo Token purse (promotional tokens)\n\t */\n\tprotected promoTokenPurse: TokenPurse = new TokenPurse();\n\n\t/**\n\t * Token purse (tokens)\n\t */\n\tprotected tokenPurse: TokenPurse = new TokenPurse();\n\n\t/**\n\t * Gain in game\n\t */\n\tprotected gameWin: WinPurse = new WinPurse();\n\n\t/**\n\t * Purse in currency\n\t */\n\tprotected purse: CurrencyPurse = new CurrencyPurse();\n\n\t/**\n\t * Does it display real purse\n\t */\n\tprotected withRealPurse: boolean;\n\n\t/**\n\t * All purses\n\t */\n\tprivate purses: Purse[];\n\n\t/**\n\t * On loaded call\n\t */\n\tpublic onLoaded(): void {\n\t\tthis.promoTokenPurse.setPurse(new Amount({ currency: \"XTK\", value: 0 }));\n\t\tthis.tokenPurse.setPurse(new Amount({ currency: \"XTK\", value: 0 }));\n\t\tthis.purse.setPurse(Amount.fromNumber(0));\n\t\tthis.gameWin.setPurse(new Amount({ currency: \"XTK\", value: 0 }));\n\n\t\tthis.purses = [this.promoTokenPurse, this.tokenPurse, this.purse, this.gameWin];\n\n\t\t// Tracking\n\t\tthis.backButton.setName(\"top:quit\");\n\t\tthis.settingsButton.setName(\"top:settings\");\n\n\t\tthis.backButton.on(\"pointertap\", () => {\n\t\t\tif (this.onBackButton) {\n\t\t\t\tthis.onBackButton();\n\t\t\t}\n\t\t});\n\n\t\tthis.settingsButton.on(\"pointertap\", () => {\n\t\t\tif (this.onSettingsButton) {\n\t\t\t\tthis.onSettingsButton();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Set the display layout\n\t * @param withRealPurse\n\t */\n\tpublic setDisplay(withRealPurse: boolean): void {\n\t\tthis.withRealPurse = withRealPurse;\n\t\tthis.updatePursesPosition();\n\t}\n\n\tprotected updatePursesPosition(): void {\n\t\tif (this.withRealPurse) {\n\t\t\tthis.promoTokenPurse.visible = false;\n\t\t\tthis.gameWin.visible = false;\n\n\t\t\tthis.tokenPurse.docking.x = LEFT_PURSE_POSITION;\n\t\t\tconst tokenPurseRight =\n\t\t\t\tLEFT_PURSE_POSITION + this.tokenPurse.dockingBounds.width * this.tokenPurse.scaleXY;\n\t\t\tthis.purse.docking.x = tokenPurseRight + PURSE_MARGIN;\n\t\t} else {\n\t\t\tthis.purse.visible = false;\n\n\t\t\tthis.promoTokenPurse.docking.x = LEFT_PURSE_POSITION;\n\t\t\tconst promoTokenRight =\n\t\t\t\tLEFT_PURSE_POSITION +\n\t\t\t\tthis.promoTokenPurse.dockingBounds.width * this.promoTokenPurse.scaleXY;\n\n\t\t\tthis.tokenPurse.docking.x = promoTokenRight + PURSE_MARGIN;\n\t\t\tconst tokenPurseRight =\n\t\t\t\tpromoTokenRight +\n\t\t\t\tPURSE_MARGIN +\n\t\t\t\tthis.tokenPurse.dockingBounds.width * this.tokenPurse.scaleXY;\n\t\t\tthis.gameWin.docking.x = tokenPurseRight + PURSE_MARGIN;\n\t\t}\n\t}\n\n\t/**\n\t * Set the component width\n\t * @param width\n\t * @param ratio\n\t */\n\tpublic setWidth(width: number, ratio: number): void {\n\t\tthis.dockingBounds.width = width;\n\t\tthis.background.width = width;\n\n\t\tif (ratio <= R4_3) {\n\t\t\tthis.dockingBounds.height = BANNER_HEIGHT_R4_3;\n\t\t\tthis.background.height = BANNER_HEIGHT_R4_3;\n\n\t\t\tfor (const purse of this.purses) {\n\t\t\t\tpurse.scaleXY = R4_3_SCALE;\n\t\t\t}\n\t\t\tthis.backButton.scaleXY = R4_3_SCALE;\n\t\t\tthis.settingsButton.scaleXY = R4_3_SCALE;\n\t\t} else if (ratio >= R16_9) {\n\t\t\tthis.dockingBounds.height = BANNER_HEIGHT_R16_9;\n\t\t\tthis.background.height = BANNER_HEIGHT_R16_9;\n\n\t\t\tfor (const purse of this.purses) {\n\t\t\t\tpurse.scaleXY = R16_9_SCALE;\n\t\t\t}\n\t\t\tthis.backButton.scaleXY = R16_9_SCALE;\n\t\t\tthis.settingsButton.scaleXY = R16_9_SCALE;\n\t\t} else {\n\t\t\tthis.dockingBounds.height = BANNER_HEIGHT_R16_9 * (ratio / R16_9);\n\t\t\tthis.background.height = BANNER_HEIGHT_R16_9 * (ratio / R16_9);\n\n\t\t\tconst purseScale = R16_9_SCALE * (ratio / R16_9);\n\t\t\tfor (const purse of this.purses) {\n\t\t\t\tpurse.scaleXY = purseScale;\n\t\t\t}\n\t\t\tthis.backButton.scaleXY = purseScale;\n\t\t\tthis.settingsButton.scaleXY = purseScale;\n\t\t}\n\n\t\tthis.updatePursesPosition();\n\t}\n\n\t/**\n\t * return purses containers\n\t */\n\tpublic getPurses(): IPurses {\n\t\treturn {\n\t\t\tgameWin: this.gameWin,\n\t\t\tgift: this.promoTokenPurse,\n\t\t\tstandard: this.purse,\n\t\t\ttoken: this.tokenPurse,\n\t\t};\n\t}\n\n\t/**\n\t * Set purses for tokens purses\n\t * @param promo\n\t * @param common\n\t */\n\tpublic setTokenPurses(promo: Amount, common: Amount): void {\n\t\tif (promo.value === 0) {\n\t\t\tthis.promoTokenPurse.hidePurse();\n\t\t\tthis.promoTokenPurse.visible = false;\n\t\t} else {\n\t\t\tthis.promoTokenPurse.visible = true;\n\t\t\tthis.promoTokenPurse.setPurse(promo);\n\t\t}\n\n\t\tthis.tokenPurse.setPurse(common);\n\t\tthis.updatePursesPosition();\n\t}\n\n\t/**\n\t * Set purse for the standard purse\n\t * @param amount\n\t */\n\tpublic setPurse(amount: Amount): void {\n\t\tthis.purse.setPurse(amount);\n\t}\n\n\t/**\n\t * update game gain\n\t * @param amount\n\t */\n\tpublic updateGain(amount: Amount): void {\n\t\tthis.gameWin.setPurse(amount);\n\t}\n\n\t/**\n\t * change the interactive value of the children buttons\n\t * @param isInteractive\n\t */\n\tpublic setButtonsInteractive(isInteractive: boolean): void {\n\t\tthis.backButton.interactive = isInteractive;\n\t\tthis.settingsButton.interactive = isInteractive;\n\t}\n}\n","import { Container } from \"pixi.js\";\nimport { Loader } from \"@gdk/core\";\nimport { TimelineMax, TweenMax } from \"gsap\";\nimport type { Graphics } from \"pixi.js\";\nimport type { Button } from \"@gdk/core-pixi\";\nimport type { Howl } from \"howler\";\n\nimport type { WaitingRoomPopup } from \"./waitingRoomPopup\";\nimport type { BetPopup } from \"./betPopup\";\n\nconst OPEN_SOUND: string = \"wizz_menu_appear.mp3\";\nconst CLOSE_SOUND: string = \"wizz_menu_disappear.mp3\";\nconst BUTTON_SOUND: string = \"wizz_menu_button_click.mp3\";\nconst WIZZ_SOUND: string = \"wizz_chat_button_click.mp3\";\n\nexport class TwoButtonsPopup extends Container {\n\t/**\n\t * First button callback\n\t */\n\tpublic onFirstButton: () => void | Promise<void>;\n\n\t/**\n\t * Second button callback\n\t */\n\tpublic onSecondButton: () => void | Promise<void>;\n\n\t/**\n\t * First popup button\n\t */\n\tprotected firstButton: Button = null;\n\n\t/**\n\t * Second popup button\n\t */\n\tprotected secondButton: Button = null;\n\n\t/**\n\t * Bet popup\n\t */\n\tprotected _betPopUp: BetPopup = null;\n\n\t/**\n\t * Waiting popup\n\t */\n\tprotected _waitingPopUp: WaitingRoomPopup = null;\n\n\t/**\n\t * Canceled popup\n\t */\n\tprotected _canceledPopUp: TwoButtonsPopup = null;\n\n\t/**\n\t * Stopped popup\n\t */\n\tprotected _stoppedPopUp: TwoButtonsPopup = null;\n\n\t/**\n\t * GameView Overlay\n\t */\n\tprotected _overlay: Graphics = null;\n\n\t/**\n\t * GameView Overlay\n\t */\n\tprotected _topOverlay: Graphics = null;\n\n\t/**\n\t * @param overlay graphics\n\t */\n\tpublic set setOverlay(overlay: Graphics) {\n\t\tthis._overlay = overlay;\n\t}\n\n\t/**\n\t * @param overlay graphics\n\t */\n\tpublic set setTopOverlay(topOverlay: Graphics) {\n\t\tthis._topOverlay = topOverlay;\n\t}\n\n\t/**\n\t * @param betPopUp BetPopup\n\t */\n\tpublic set setBetPopUp(betPopUp: BetPopup) {\n\t\tthis._betPopUp = betPopUp;\n\t}\n\n\t/**\n\t * @param waitingPopUp WaitingRoomPopup\n\t */\n\tpublic set setWaitingPopUp(waitingPopUp: WaitingRoomPopup) {\n\t\tthis._waitingPopUp = waitingPopUp;\n\t}\n\n\t/**\n\t * @param canceledPopUp TwoButtonsPopup\n\t */\n\tpublic set setCanceledPopUp(canceledPopUp: TwoButtonsPopup) {\n\t\tthis._canceledPopUp = canceledPopUp;\n\t}\n\n\t/**\n\t * @param stoppedPopUp TwoButtonsPopup\n\t */\n\tpublic set setStoppedPopUp(stoppedPopUp: TwoButtonsPopup) {\n\t\tthis._stoppedPopUp = stoppedPopUp;\n\t}\n\n\t/**\n\t * On loaded call\n\t */\n\tpublic onLoaded(): void {\n\t\tthis.firstButton.on(\"pointertap\", async () => {\n\t\t\tthis.enable(false);\n\t\t\tthis.interactive = false;\n\t\t\tLoader.get<Howl>(WIZZ_SOUND).play();\n\t\t\tif (this.onFirstButton) {\n\t\t\t\tawait this.onFirstButton();\n\t\t\t}\n\n\t\t\tthis.visible = false;\n\t\t\tLoader.get<Howl>(CLOSE_SOUND).play();\n\t\t});\n\n\t\tthis.secondButton.on(\"pointertap\", async () => {\n\t\t\tthis.enable(false);\n\t\t\tthis.interactive = false;\n\t\t\tLoader.get<Howl>(WIZZ_SOUND).play();\n\t\t\tif (this.onSecondButton) {\n\t\t\t\tawait this.onSecondButton();\n\t\t\t}\n\n\t\t\tthis.visible = false;\n\t\t\tLoader.get<Howl>(CLOSE_SOUND).play();\n\t\t});\n\t}\n\n\t/**\n\t * Set the tracking names for buttons\n\t * @param firstButtonName tracking name\n\t * @param secondButtonName tracking name\n\t */\n\tpublic setTracking(firstButtonName: string, secondButtonName: string): void {\n\t\tthis.firstButton.setName(firstButtonName);\n\t\tthis.secondButton.setName(secondButtonName);\n\t}\n\n\t/**\n\t * Open the popup\n\t */\n\tpublic async open(): Promise<void> {\n\t\tthis.enable(true);\n\t\tthis.interactive = false;\n\t\tthis.scaleXY = 0;\n\t\tthis.visible = true;\n\n\t\tlet newAlpha = 1;\n\n\t\tif (this._betPopUp.visible || this._waitingPopUp.visible) {\n\t\t\tnewAlpha = 0;\n\t\t}\n\n\t\tLoader.get<Howl>(OPEN_SOUND).play();\n\n\t\tawait new Promise<void>((resolve) => {\n\t\t\tnew TimelineMax()\n\t\t\t\t.to(this._overlay, 0.5, { alpha: newAlpha }, 0)\n\t\t\t\t.to(this._topOverlay, 0.5, { alpha: 1 - newAlpha }, 0)\n\t\t\t\t.to(\n\t\t\t\t\tthis,\n\t\t\t\t\t0.5,\n\t\t\t\t\t{\n\t\t\t\t\t\tscaleXY: 1,\n\t\t\t\t\t\tonComplete: resolve,\n\t\t\t\t\t},\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t});\n\n\t\tthis.interactive = true;\n\t}\n\n\t/**\n\t * Close the popup with animation\n\t */\n\tpublic async close(): Promise<void> {\n\t\tthis.enable(false);\n\n\t\tlet newAlpha = 0;\n\n\t\tif (\n\t\t\tthis._betPopUp.visible ||\n\t\t\tthis._waitingPopUp.visible ||\n\t\t\tthis._canceledPopUp.visible ||\n\t\t\tthis._stoppedPopUp.visible\n\t\t) {\n\t\t\tnewAlpha = 1;\n\t\t\tthis._overlay.visible = this._overlay.alpha === 0;\n\t\t}\n\n\t\tawait new Promise<void>((resolve) => {\n\t\t\tnew TimelineMax()\n\t\t\t\t.to(this._overlay, 0.5, { alpha: newAlpha }, 0)\n\t\t\t\t.to(this._topOverlay, 0.5, { alpha: 0 }, 0)\n\t\t\t\t.to(\n\t\t\t\t\tthis,\n\t\t\t\t\t0.5,\n\t\t\t\t\t{\n\t\t\t\t\t\tscaleXY: 0,\n\t\t\t\t\t\tonComplete: resolve,\n\t\t\t\t\t},\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t});\n\n\t\tthis._overlay.visible = this._overlay.alpha !== 0;\n\t\tthis._topOverlay.visible = this._topOverlay.alpha !== 0;\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Close the popup without animation\n\t */\n\tpublic forceClose(): void {\n\t\tthis.enable(false);\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * enable or disable the buttons\n\t * @param enable true or false\n\t */\n\tprotected enable(enable: boolean): void {\n\t\tthis.firstButton.enabled = enable;\n\t\tthis.secondButton.enabled = enable;\n\t}\n}\n","import { AssetStore } from \"@gdk/core-pixi\";\nimport { TimelineMax, TweenMax } from \"gsap\";\nimport * as i18n from \"i18next\";\nimport { Container, Point } from \"pixi.js\";\nimport type { Graphics, mesh, Texture } from \"pixi.js\";\nimport type { TextField, NineSliceContainer } from \"@gdk/core-pixi\";\n\nimport { EAvatarStatus, TweenUtils } from \"../../../../game\";\nimport { Timer } from \"../../../../game/ui\";\nimport AvatarSlot from \"./avatarSlot\";\n\nexport interface IWaitingPopup {\n\tmaxPlayers: number;\n}\n\nexport class WaitingRoomPopup extends Container {\n\t/**\n\t * Background of the popup\n\t * Get from the editor\n\t */\n\tpublic background: mesh.NineSlicePlane = null;\n\n\t/**\n\t * Ready player\n\t * Container with the text : \"players ready : 0 / 4\"\n\t */\n\tpublic readyPlayerText: TextField;\n\n\t/**\n\t * Container of the avatars\n\t * Will be modify depending the max players quantity\n\t */\n\tpublic avatarsContainer: Container;\n\n\t/**\n\t * Nine slice with the text in the bottom of the popup\n\t */\n\tpublic jeuResponsable: NineSliceContainer = null;\n\n\t/**\n\t * Jeu responsable text, display a random text\n\t * title and body of the text are in the same textfield\n\t */\n\tpublic jeuResponsableText: TextField;\n\n\t/**\n\t * Array of the players\n\t */\n\tpublic arrPlayers: string[];\n\n\t/**\n\t * Array of the player avatars\n\t */\n\tprivate arrAvatarSlots: AvatarSlot[] = [];\n\n\t/**\n\t * The timer\n\t */\n\tpublic timer: Timer = new Timer();\n\n\t/**\n\t * Max player quatity\n\t */\n\tprivate _maxPlayers: number;\n\n\t/**\n\t * The texture displayed for empty slots\n\t */\n\tprivate _basePlayerTexture: Texture;\n\n\t/**\n\t * GameView Overlay\n\t */\n\tprotected _overlay: Graphics = null;\n\n\t/**\n\t * GameView Overlay\n\t */\n\tprotected _topOverlay: Graphics = null;\n\n\t/**\n\t * Enable rules or not\n\t * @param overlay graphics\n\t */\n\tpublic set setOverlay(overlay: Graphics) {\n\t\tthis._overlay = overlay;\n\t}\n\n\t/**\n\t * Enable rules or not\n\t * @param overlay graphics\n\t */\n\tpublic set setTopOverlay(topOverlay: Graphics) {\n\t\tthis._topOverlay = topOverlay;\n\t}\n\n\t/**\n\t * The size of the popup including avatars and minimum \"jeu responable\" height\n\t */\n\tprivate _baseBackgroundHeight: number;\n\n\t/**\n\t * timer y position for 3 players\n\t */\n\tprivate _baseTimerY: number;\n\n\t/**\n\t * jeu responsable y position for 3 players\n\t */\n\tprivate _baseJeuResponsableY: number;\n\n\t/**\n\t * positions of the avatars for the differents max players configuration\n\t * 576 = avatars container width\n\t */\n\tprivate arrPositions: Point[][] = [\n\t\t[new Point(-106, 120), new Point(106, 120)],\n\t\t[new Point(-176, 120), new Point(0, 120), new Point(176, 120)],\n\t\t[new Point(-106, 120), new Point(106, 120), new Point(-106, 293), new Point(106, 293)],\n\t\t[\n\t\t\tnew Point(-176, 120),\n\t\t\tnew Point(0, 120),\n\t\t\tnew Point(176, 120),\n\t\t\tnew Point(-106, 293),\n\t\t\tnew Point(106, 293),\n\t\t],\n\t\t[\n\t\t\tnew Point(-176, 120),\n\t\t\tnew Point(0, 120),\n\t\t\tnew Point(176, 120),\n\t\t\tnew Point(-176, 293),\n\t\t\tnew Point(0, 293),\n\t\t\tnew Point(176, 293),\n\t\t],\n\t];\n\n\t/**\n\t * On loaded event\n\t */\n\tpublic onLoaded(): void {\n\t\tthis.arrPlayers = [];\n\t\tthis.timer.txtGo.visible = false;\n\t\tthis.timer.txt.visible = true;\n\n\t\tthis.readyPlayerText = this.background.getChildByName(\"readyPlayerText\");\n\t\tthis.avatarsContainer = this.background.getChildByName(\"avatarsContainer\");\n\t\tthis.jeuResponsableText = this.jeuResponsable.getChildByName(\"jeuResponsableText\");\n\n\t\tthis._baseJeuResponsableY = this.jeuResponsable.y;\n\t\tthis._baseTimerY = this.timer.y;\n\t}\n\n\t/**\n\t * Set the config for the waiting popup (maxPlayers)\n\t * @param conf : IWaitingPopup\n\t */\n\tpublic config(conf: IWaitingPopup): void {\n\t\tthis.maxPlayers = conf.maxPlayers;\n\t}\n\n\t/**\n\t * Open the popup\n\t */\n\tpublic async open(): Promise<void> {\n\t\tthis.setJeuResponsable();\n\t\tthis.scaleXY = 0;\n\t\tthis.timer.txt.visible = true;\n\t\tthis.timer.txtGo.visible = false;\n\t\tthis.visible = true;\n\t\tawait TweenUtils.to(this, 0.5, {\n\t\t\tscaleXY: 1,\n\t\t});\n\t}\n\n\t/**\n\t * Set randomly a text to display\n\t */\n\tprivate setJeuResponsable(): void {\n\t\tconst jrString: number = Math.floor(Math.random() * 6);\n\n\t\t// the nine slice jeu responsable has a minimum size of 240, growing with the text inside. the text is always centered vertically\n\t\tthis.jeuResponsableText.text = i18n.t(`vi.waitingPopup.jeuResponsable.advice${jrString}`);\n\t\tthis.jeuResponsableText.centerPivotOnceUpdated = true;\n\t\tthis.jeuResponsableText.update();\n\n\t\tconst sizeT = Math.max(this.jeuResponsableText.pivot.y + 10, 90);\n\t\tthis.jeuResponsableText.y = sizeT + 60;\n\n\t\tconst jrContainerHeightDifference = Math.max(this.jeuResponsableText.pivot.y * 2 - 150, 0);\n\t\tthis.jeuResponsable.height = 240 + jrContainerHeightDifference;\n\n\t\tthis.background.height = this._baseBackgroundHeight + jrContainerHeightDifference;\n\t\tthis.background.pivot.y = (this._baseBackgroundHeight + jrContainerHeightDifference) / 2;\n\t}\n\n\t/**\n\t * reset the component\n\t */\n\tpublic reset(): void {\n\t\tfor (let i = 0; i < this.arrPlayers.length; i++) {\n\t\t\tthis.arrAvatarSlots[i].avatar.setTexture(this._basePlayerTexture);\n\t\t\tthis.arrAvatarSlots[i].avatar.setAsCurrentPlayer(false);\n\t\t\tthis.arrAvatarSlots[i].avatar.scaleXY = 0.8;\n\t\t\tthis.arrAvatarSlots[i].pseudo.text = \"\";\n\t\t}\n\t\tthis.arrPlayers = [];\n\t}\n\n\t/**\n\t * Add a VI player\n\t * @param info : IPlayerInformation\n\t */\n\tpublic addLobbyPlayer(avatarSlot: AvatarSlot, isClientPlayer: boolean): void {\n\t\tconst playerPosition = this.arrPlayers.length;\n\n\t\tif (this.arrPlayers.includes(avatarSlot.playerId)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.arrPlayers.push(avatarSlot.playerId);\n\n\t\t// reset the actual AvatarSlot with the new infos\n\t\tconst lobbySlot = this.arrAvatarSlots[playerPosition];\n\t\tlobbySlot.playerId = avatarSlot.playerId;\n\t\tlobbySlot.pseudo.text = avatarSlot.pseudo.text;\n\t\tlobbySlot.avatar.setTexture(avatarSlot.avatar.getTexture());\n\t\tif (isClientPlayer) {\n\t\t\tlobbySlot.avatar.scaleXY = 1;\n\t\t\tlobbySlot.avatar.setAsCurrentPlayer();\n\t\t\tlobbySlot.pseudo.text = `<size24>${avatarSlot.pseudo.text}</size24>`; // textfield scale doesn't impact font size\n\t\t} else {\n\t\t\tlobbySlot.avatar.scaleXY = 0.8;\n\t\t\tlobbySlot.pseudo.text = avatarSlot.pseudo.text;\n\t\t}\n\n\t\tconst connectedPlayers: number = this.arrPlayers.length;\n\t\tthis.readyPlayerText.text = i18n.t(\"vi.waitingPopup.readyPlayer\", {\n\t\t\tconnectedPlayers,\n\t\t\tmaxPlayers: this.maxPlayers,\n\t\t});\n\t}\n\n\t/**\n\t * show the \"let's go!\" text before the game start\n\t * @returns a promise when done\n\t */\n\tpublic async letsGoAnim(): Promise<void> {\n\t\tawait TweenUtils.to(this.timer, 0.15, {\n\t\t\tscaleXY: 0,\n\t\t});\n\t\tthis.timer.txt.visible = false;\n\t\tthis.timer.txtGo.visible = true;\n\t\tthis.timer.timerText.visible = false;\n\t\tawait TweenUtils.to(this.timer, 0.15, {\n\t\t\tscaleXY: 1.15,\n\t\t});\n\t\tawait TweenUtils.to(this.timer, 0.04, {\n\t\t\tscaleXY: 1,\n\t\t});\n\t\tawait TweenUtils.wait(0.5);\n\t}\n\n\t/**\n\t * close the popup\n\t * @returns a promise when done\n\t */\n\tpublic async close(): Promise<void> {\n\t\tawait new Promise<void>((resolve) => {\n\t\t\tnew TimelineMax()\n\t\t\t\t.to(this._overlay, 0.5, { alpha: 0 }, 0)\n\t\t\t\t.to(this._topOverlay, 0.5, { alpha: 0 }, 0)\n\t\t\t\t.to(\n\t\t\t\t\tthis,\n\t\t\t\t\t0.5,\n\t\t\t\t\t{\n\t\t\t\t\t\tscaleXY: 0,\n\t\t\t\t\t\tonComplete: resolve,\n\t\t\t\t\t},\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t});\n\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Close the popup without animation\n\t */\n\tpublic forceClose(): void {\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Set the max player quantity from config()\n\t * Modify the height of the avatarsCntatiner depending the max player quantity\n\t * to diplay them on 1 line or 2 (for 4 and more players)\n\t */\n\tpublic set maxPlayers(n: number) {\n\t\tthis._maxPlayers = n;\n\t\tconst connectedPlayers: number = this.arrPlayers.length;\n\t\tthis.readyPlayerText.text = i18n.t(\"vi.waitingPopup.readyPlayer\", {\n\t\t\tconnectedPlayers,\n\t\t\tmaxPlayers: this.maxPlayers,\n\t\t});\n\n\t\t// add avatar_nobody images\n\t\tthis.avatarsContainer.removeChildren();\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tconst avatarSlot: AvatarSlot = AssetStore.instanciatePrefab(\"avatarSlot\", new AvatarSlot());\n\t\t\tavatarSlot.docking.x = this.arrPositions[n - 2][i].x;\n\t\t\tavatarSlot.docking.y = this.arrPositions[n - 2][i].y;\n\t\t\tavatarSlot.avatar.setStatus(EAvatarStatus.none);\n\t\t\tavatarSlot.avatar.scaleXY = 0.8;\n\t\t\tthis.arrAvatarSlots[i] = avatarSlot;\n\t\t\tthis.avatarsContainer.addChild(avatarSlot);\n\t\t}\n\t\tthis._basePlayerTexture = this.arrAvatarSlots[0].avatar.getTexture();\n\n\t\tif (this._maxPlayers < 4) {\n\t\t\t// only one row of avatar\n\t\t\tthis._baseBackgroundHeight = 625;\n\t\t\tthis.timer.y = this._baseTimerY;\n\t\t\tthis.jeuResponsable.y = this._baseJeuResponsableY;\n\t\t} else {\n\t\t\t// two rows of avatar\n\t\t\tthis._baseBackgroundHeight = 794;\n\t\t\tthis.timer.y = this._baseTimerY + 80;\n\t\t\tthis.jeuResponsable.y = this._baseJeuResponsableY + 80;\n\t\t}\n\t}\n\n\tpublic get maxPlayers(): number {\n\t\treturn this._maxPlayers;\n\t}\n}\n","import type { TextField } from \"@gdk/core-pixi\";\nimport type { Amount } from \"@gdk/core\";\n\nimport { Purse } from \"./purse\";\n\nexport class WinPurse extends Purse {\n\tprotected label: TextField = null;\n\n\t/**\n\t * Set the purse value\n\t * @param value\n\t */\n\tpublic setPurse(value: Amount): void {\n\t\tthis.purseText.text = `:   ${value.toString({ minimumFractionDigits: 0 })}`;\n\t\tthis.background.width =\n\t\t\tthis.background.leftWidth +\n\t\t\tthis.label.width +\n\t\t\tthis.purseText.width +\n\t\t\tthis.background.rightWidth;\n\t\tthis.dockingBounds.width = this.background.width;\n\t}\n}\n","export * from \"./views/loadingView\";\nexport * from \"./views/introductionView\";\nexport * from \"./views/inGameView\";\nexport * from \"./views/lockView\";\n","import { ECurrencyPurseType } from \"@falcon/bridge\";\nimport { LoadedView, AssetStore } from \"@gdk/core-pixi\";\nimport { GameQuit, tracker, Amount } from \"@gdk/core\";\nimport { loaders } from \"pixi.js\";\nimport type { Graphics, Container } from \"pixi.js\";\nimport type { IPlayerInformation } from \"@falcon/bridge\";\n\nimport { EAvatarStatus } from \"../../../../game/wizz\";\nimport { EVisualIdentityAction, EVisualIdentityEvent } from \"../../../events\";\nimport { Avatar } from \"../components/avatar\";\nimport { BetPopup } from \"../components/betPopup\";\nimport { BottomBanner } from \"../components/bottomBanner\";\nimport { ClosableTwoButtonsPopup } from \"../components/closableTwoButtonsPopup\";\nimport { Rules } from \"../components/rules\";\nimport { SettingsComponent } from \"../components/settingsComponent\";\nimport { TopBanner } from \"../components/topBanner\";\nimport { TwoButtonsPopup } from \"../components/twoButtonsPopup\";\nimport { WaitingRoomPopup } from \"../components/waitingRoomPopup\";\nimport AvatarSlot from \"../components/avatarSlot\";\nimport type { IWaitingPopup } from \"../components/waitingRoomPopup\";\nimport type { IBottomBannerTextures } from \"../components/bottomBanner\";\nimport type { IBetPopupTextures } from \"../components/betPopup\";\nimport type { IAdaptativeInGameView } from \"../../../identity\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IPurses } from \"../../../../game/wizz\";\n\n/**\n * From where was the quit popup opened\n */\nenum QuitFrom {\n\tTopBanner = 0,\n\tSettingsComponent,\n\tCancelPopup,\n\tReconnectionPopup,\n}\n\n/**\n * Callback using bottom container\n */\nexport type BottomContainerCallback = (container: BottomBanner) => void;\n\n/**\n * Callback using bottom container\n */\nexport type WaitingContainerCallback = (container: WaitingRoomPopup) => void;\n\n/**\n * Callback using purse containers\n */\nexport type PurseContainersCallback = (container: IPurses) => void;\n\nexport interface IVIConfiguration {\n\tbottom?: IBottomBannerTextures;\n\tbet?: IBetPopupTextures;\n\twaiting: IWaitingPopup;\n\tonBet: () => Promise<void>;\n\tonReconnect: () => Promise<void>;\n\tamount: Amount;\n}\n\nexport class InGameView extends LoadedView implements IAdaptativeInGameView {\n\t/**\n\t * Settings component\n\t */\n\tpublic settingsComponent: SettingsComponent;\n\n\t/**\n\t * Overlay\n\t */\n\tprotected overlay: Graphics = null;\n\n\t/**\n\t * Top Overlay\n\t */\n\tprotected topOverlay: Graphics = null;\n\n\t/**\n\t * Top banner with purses quit and settings buttons\n\t */\n\tprotected topBanner: TopBanner = new TopBanner();\n\n\t/**\n\t * Bottom banner with information and timer\n\t */\n\tprotected bottomBanner: BottomBanner = new BottomBanner();\n\n\t/**\n\t * Popup for quit game\n\t */\n\tprotected quitPopup: TwoButtonsPopup = new TwoButtonsPopup();\n\n\t/**\n\t * Popup for room canceled\n\t */\n\tprotected canceledPopup: TwoButtonsPopup = new TwoButtonsPopup();\n\n\t/**\n\t * Popup for room stopped\n\t */\n\tprotected stoppedPopup: TwoButtonsPopup = new TwoButtonsPopup();\n\n\t/**\n\t * Popup for reconnection case\n\t */\n\tprotected reconnectionPopup: TwoButtonsPopup = new TwoButtonsPopup();\n\n\t/**\n\t * Rules of the game\n\t */\n\tprotected rules: Rules = new Rules();\n\n\t/**\n\t * Game bet popup\n\t */\n\tprotected betPopup: BetPopup;\n\n\t/**\n\t * Waiting room popup\n\t */\n\tprotected waitingRoomPopup: WaitingRoomPopup = new WaitingRoomPopup();\n\n\t/**\n\t * From where was the quit popup opened\n\t */\n\tprotected quitFrom: QuitFrom;\n\n\t/**\n\t * The current player information\n\t */\n\tprivate player: IPlayerInformation;\n\n\t/**\n\t * Constructor\n\t * @param vi: the adaptative visual identity reference\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\t// LoadedView\n\t\tsuper();\n\n\t\t// Components\n\t\tthis.settingsComponent = new SettingsComponent(this.vi);\n\t\tthis.betPopup = new BetPopup(vi.game.com);\n\t}\n\n\t/**\n\t * OnLoad\n\t */\n\tpublic onLoad(): void {\n\t\t// Empty\n\t}\n\n\t/**\n\t * Once the view is loaded\n\t */\n\tpublic onLoaded(): void {\n\t\t// Tracking\n\t\tthis.quitPopup.setTracking(\"quit:yes\", \"quit:no\");\n\t\tthis.reconnectionPopup.setTracking(\"reconnect:yes\", \"reconnect:no\");\n\t\tthis.canceledPopup.setTracking(\"canceled:new\", \"canceled:quit\");\n\t\tthis.stoppedPopup.setTracking(\"stopped:new\", \"stopped:quit\");\n\n\t\tthis.on(\"posttransform\", () => {\n\t\t\tthis.updateSize();\n\t\t});\n\n\t\tthis.overlay.visible = false;\n\n\t\t// Create new overlay to fade in/out when it needs to be over or under the top banner\n\t\tthis.topOverlay = this.overlay.clone();\n\t\tthis.topOverlay.docking = this.overlay.docking;\n\t\tthis.topOverlay.dockingBounds = this.overlay.dockingBounds;\n\t\tthis.topOverlay.resize = this.overlay.resize;\n\t\tthis.topOverlay.visible = false;\n\t\tthis.topOverlay.alpha = 0;\n\t\tthis.topOverlay.interactive = true;\n\n\t\t// Set the two overlays for the components who need them for their open/close tweens\n\t\tconst popUps: TwoButtonsPopup[] = [\n\t\t\tthis.settingsComponent,\n\t\t\tthis.rules,\n\t\t\tthis.quitPopup,\n\t\t\tthis.canceledPopup,\n\t\t\tthis.stoppedPopup,\n\t\t\tthis.reconnectionPopup,\n\t\t];\n\t\tpopUps.forEach((popUp) => {\n\t\t\tpopUp.setOverlay = this.overlay;\n\t\t\tpopUp.setTopOverlay = this.topOverlay;\n\t\t\t// Link other popUps as to check which overlay to tween, if any at all.\n\t\t\tpopUp.setBetPopUp = this.betPopup;\n\t\t\tpopUp.setWaitingPopUp = this.waitingRoomPopup;\n\t\t\tpopUp.setCanceledPopUp = this.canceledPopup;\n\t\t\tpopUp.setStoppedPopUp = this.stoppedPopup;\n\t\t});\n\t\tthis.waitingRoomPopup.setOverlay = this.overlay;\n\t\tthis.waitingRoomPopup.setTopOverlay = this.topOverlay;\n\n\t\tthis.topBanner.setDisplay(this.vi.parameters.withRealPurse);\n\t\tthis.topBanner.onBackButton = async () => {\n\t\t\tif (this.betPopup.visible || this.waitingRoomPopup.visible) {\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t} else {\n\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t\tthis.topOverlay.alpha = 0;\n\t\t\t}\n\t\t\tthis.overlay.visible = true;\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tawait this.openQuitPopup(QuitFrom.TopBanner);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowSettings);\n\t\t};\n\t\tthis.topBanner.onSettingsButton = async () => {\n\t\t\tif (this.betPopup.visible || this.waitingRoomPopup.visible) {\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t} else {\n\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t\tthis.topOverlay.alpha = 0;\n\t\t\t}\n\t\t\tthis.overlay.visible = true;\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tawait this.settingsComponent.open();\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowSettings);\n\t\t};\n\n\t\tthis.bottomBanner.setTimerKey(\"vi.timer\");\n\t\tthis.bottomBanner.visible = !this.vi.parameters.withRealPurse;\n\n\t\tthis.settingsComponent.visible = false;\n\t\tthis.settingsComponent.onFirstButton = async () => {\n\t\t\tif (this.betPopup.visible || this.waitingRoomPopup.visible) {\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t} else {\n\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t}\n\t\t\tthis.overlay.visible = true;\n\t\t\tawait this.rules.open();\n\t\t};\n\t\tthis.settingsComponent.onSecondButton = async () => {\n\t\t\tif (this.betPopup.visible || this.waitingRoomPopup.visible) {\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t} else {\n\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t}\n\t\t\tawait this.openQuitPopup(QuitFrom.SettingsComponent);\n\t\t};\n\t\tthis.settingsComponent.onCloseButton = () => {\n\t\t\tif (this.reconnectionPopup.visible) {\n\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t\tthis.overlay.visible = true;\n\t\t\t} else {\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t\tthis.overlay.visible = this.betPopup.visible || this.waitingRoomPopup.visible;\n\t\t\t}\n\t\t\tthis.topOverlay.visible = false;\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t};\n\n\t\tthis.quitPopup.visible = false;\n\t\tthis.quitPopup.onFirstButton = () => {\n\t\t\ttracker.track(new GameQuit());\n\t\t\tthis.vi.game.com.bridge.executeAction(\"CLOSE_GAME\");\n\t\t};\n\t\tthis.quitPopup.onSecondButton = async () => {\n\t\t\tswitch (this.quitFrom) {\n\t\t\t\tcase QuitFrom.CancelPopup:\n\t\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t\t\tawait this.canceledPopup.open();\n\t\t\t\t\tbreak;\n\t\t\t\tcase QuitFrom.ReconnectionPopup:\n\t\t\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\t\t\tawait this.reconnectionPopup.open();\n\t\t\t\t\tbreak;\n\t\t\t\tcase QuitFrom.TopBanner:\n\t\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t\t\tawait this.quitPopup.close();\n\t\t\t\t\tbreak;\n\t\t\t\tcase QuitFrom.SettingsComponent:\n\t\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t\t\tawait this.quitPopup.close();\n\t\t\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t\t\tawait this.quitPopup.close();\n\t\t\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\n\t\tthis.canceledPopup.visible = false;\n\t\tthis.canceledPopup.onFirstButton = async () => {\n\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\tthis.overlay.visible = true;\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tthis.overlay.alpha = 0;\n\t\t\tthis.topOverlay.alpha = 1;\n\t\t\tawait this.canceledPopup.close();\n\t\t\tthis.topOverlay.visible = false;\n\t\t\tthis.betPopup.open();\n\t\t};\n\t\tthis.canceledPopup.onSecondButton = () => {\n\t\t\ttracker.track(new GameQuit());\n\t\t\tthis.vi.game.com.bridge.executeAction(\"CLOSE_GAME\");\n\t\t};\n\n\t\tthis.stoppedPopup.visible = false;\n\t\tthis.stoppedPopup.onFirstButton = async () => {\n\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\tthis.overlay.visible = true;\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tthis.overlay.alpha = 0;\n\t\t\tthis.topOverlay.alpha = 1;\n\t\t\tawait this.stoppedPopup.close();\n\t\t\tthis.topOverlay.visible = false;\n\t\t\tthis.betPopup.open();\n\t\t};\n\t\tthis.stoppedPopup.onSecondButton = () => {\n\t\t\ttracker.track(new GameQuit());\n\t\t\tthis.vi.game.com.bridge.executeAction(\"CLOSE_GAME\");\n\t\t};\n\n\t\tthis.reconnectionPopup.visible = false;\n\t\tthis.reconnectionPopup.onSecondButton = () => {\n\t\t\tthis.overlay.visible = true;\n\t\t\ttracker.track(new GameQuit());\n\t\t\tthis.vi.game.com.bridge.executeAction(\"CLOSE_GAME\");\n\t\t};\n\n\t\tthis.rules.visible = false;\n\t\tthis.rules.onCloseButton = () => {\n\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\tthis.overlay.visible = this.betPopup.visible || this.waitingRoomPopup.visible;\n\t\t\tthis.topOverlay.visible = false;\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t};\n\n\t\tthis.betPopup.visible = false;\n\t\tthis.waitingRoomPopup.visible = false;\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzSetRules, (rules: Container[]) => {\n\t\t\tthis.rules.setSlides(rules);\n\t\t});\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.WizzGetBottomContainer,\n\t\t\t(callback: BottomContainerCallback) => {\n\t\t\t\tcallback(this.bottomBanner);\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.WizzGetWaitingContainer,\n\t\t\t(callback: WaitingContainerCallback) => {\n\t\t\t\tcallback(this.waitingRoomPopup);\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.WizzGetPursesContainers,\n\t\t\t(callback: PurseContainersCallback) => {\n\t\t\t\tcallback(this.topBanner.getPurses());\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzSetConfig, (config: IVIConfiguration) => {\n\t\t\tif (config.bottom) {\n\t\t\t\tthis.bottomBanner.setTextures(config.bottom);\n\t\t\t}\n\t\t\tif (config.bet) {\n\t\t\t\tthis.betPopup.setTextures(config.bet);\n\t\t\t}\n\t\t\tif (config.waiting) {\n\t\t\t\tthis.waitingRoomPopup.config(config.waiting);\n\t\t\t}\n\t\t\tthis.betPopup.updateTexts(config.amount);\n\t\t\tthis.betPopup.onBetButtonDown = () => {\n\t\t\t\tthis.topBanner.setButtonsInteractive(false); // disable top buttons during the animation/loading\n\t\t\t};\n\t\t\tthis.betPopup.onBetButtonUp = async () => {\n\t\t\t\tawait config.onBet();\n\t\t\t\tthis.topBanner.setButtonsInteractive(true); // disable top buttons during the animation/loading\n\t\t\t};\n\n\t\t\tthis.reconnectionPopup.onFirstButton = async () => {\n\t\t\t\tawait config.onReconnect();\n\t\t\t\tawait this.reconnectionPopup.close();\n\t\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\t\tthis.overlay.visible = false;\n\t\t\t\tthis.topOverlay.visible = false;\n\t\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t\t};\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzOpenCanceled, async () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\tif (this.topOverlay.alpha !== 1) {\n\t\t\t\tthis.topOverlay.alpha = 1;\n\t\t\t\tthis.overlay.alpha = 0;\n\t\t\t} else {\n\t\t\t\tthis.overlay.alpha = 1;\n\t\t\t}\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tthis.overlay.visible = true;\n\t\t\tawait this.canceledPopup.open();\n\t\t\tthis.waitingRoomPopup.reset();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzOpenStopped, async () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\tif (this.topOverlay.alpha !== 1) {\n\t\t\t\tthis.topOverlay.alpha = 1;\n\t\t\t\tthis.overlay.alpha = 0;\n\t\t\t} else {\n\t\t\t\tthis.overlay.alpha = 1;\n\t\t\t}\n\t\t\tthis.topOverlay.visible = true;\n\t\t\tthis.overlay.visible = true;\n\t\t\tawait this.stoppedPopup.open();\n\t\t\tthis.waitingRoomPopup.reset();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzOpenReconnection, async () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t\tthis.setTopBannerOverOverlay(false);\n\t\t\tif (!this.overlay.visible) {\n\t\t\t\tthis.overlay.alpha = 0;\n\t\t\t}\n\t\t\tthis.overlay.visible = true;\n\t\t\tthis.topOverlay.visible = false;\n\t\t\tawait this.reconnectionPopup.open();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzCloseReconnection, async () => {\n\t\t\tawait this.reconnectionPopup.close();\n\t\t\tthis.overlay.visible = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzCloseAllPopups, () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzOpenBet, () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t\tthis.betPopup.open();\n\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\tthis.overlay.visible = true;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzOpenWaitingRoom, async () => {\n\t\t\tthis.forceCloseAllPopups();\n\t\t\tthis.setTopBannerOverOverlay(true);\n\t\t\tthis.overlay.visible = true;\n\t\t\tawait this.waitingRoomPopup.open();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzCloseWaitingRoom, async () => {\n\t\t\tawait this.waitingRoomPopup.letsGoAnim();\n\t\t\tawait this.waitingRoomPopup.close();\n\t\t\tthis.waitingRoomPopup.reset();\n\t\t\tthis.overlay.visible = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.SetPurse, (purse: Amount) => {\n\t\t\tthis.topBanner.setPurse(purse);\n\t\t\tthis.updateTokenPurses();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzUpdatePurse, () => {\n\t\t\tthis.updateTokenPurses();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzUpdateGain, (amount: Amount) => {\n\t\t\tthis.topBanner.updateGain(amount);\n\t\t});\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.WizzGetAvatars,\n\t\t\tasync (ids: string[], callback: (avatars: { [name: string]: Container }) => void) => {\n\t\t\t\tconst avatars = await this.getAvatarsMap(ids);\n\t\t\t\tcallback(avatars);\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(\n\t\t\tEVisualIdentityAction.WizzAddLobbyPlayer,\n\t\t\t(avatarSlot: AvatarSlot, isClientPlayer: boolean) => {\n\t\t\t\tthis.waitingRoomPopup.addLobbyPlayer(avatarSlot, isClientPlayer);\n\t\t\t}\n\t\t);\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.WizzGetAvatarSlots, this.getAvatarSlots.bind(this));\n\t}\n\n\tprivate async getAvatarSlots(\n\t\tpInfo: IPlayerInformation[],\n\t\tcurrentPlayerId: string,\n\t\tcallback: (avatarSlots: { [name: string]: AvatarSlot }) => void\n\t): Promise<void> {\n\t\tconst idList = pInfo.map((p) => p.avatarCode);\n\t\tconst avatars = await this.getAvatarsMap(idList);\n\t\tconst avatarsSlots: { [name: string]: AvatarSlot } = {};\n\t\tfor (const pi of pInfo) {\n\t\t\tconst isClientPlayer = pi.playerId === currentPlayerId;\n\t\t\tconst avatarSlot = AssetStore.instanciatePrefab(\"avatarSlot\", new AvatarSlot());\n\t\t\tconst avatar: Avatar = avatars[pi.avatarCode];\n\n\t\t\t// visual difference for the client player\n\t\t\tif (isClientPlayer) {\n\t\t\t\tavatarSlot.avatar.setAsCurrentPlayer();\n\t\t\t}\n\n\t\t\t// set avatarSlots informations\n\t\t\tlet pseudo = pi.alias;\n\t\t\tif (pseudo.length >= 7) {\n\t\t\t\tpseudo = `${pseudo.substring(0, 5)}...`;\n\t\t\t}\n\t\t\tavatarSlot.pseudo.text = pseudo;\n\t\t\tavatarSlot.playerId = pi.playerId;\n\n\t\t\t// set avatar informations\n\t\t\tif (avatars[pi.avatarCode] !== undefined) {\n\t\t\t\tavatarSlot.avatar.setTexture(avatars[pi.avatarCode].getTexture());\n\t\t\t}\n\t\t\tavatarSlot.avatar.setStatus(EAvatarStatus.none);\n\n\t\t\tavatarsSlots[pi.playerId] = avatarSlot;\n\t\t}\n\t\tcallback(avatarsSlots);\n\t}\n\n\tprotected forceCloseAllPopups(): void {\n\t\tthis.overlay.visible = false;\n\t\tthis.topOverlay.visible = false;\n\t\tthis.reconnectionPopup.forceClose();\n\t\tthis.quitPopup.forceClose();\n\t\tthis.rules.forceClose();\n\t\tthis.settingsComponent.forceClose();\n\t\tthis.waitingRoomPopup.forceClose();\n\t}\n\n\t/**\n\t * Open the quit popup\n\t * @param from the quit popup opener\n\t */\n\tprotected async openQuitPopup(from: QuitFrom): Promise<void> {\n\t\tthis.overlay.visible = true;\n\t\tthis.quitFrom = from;\n\t\tawait this.quitPopup.open();\n\t}\n\n\t/**\n\t * Update the top banner size\n\t */\n\tprotected updateSize(): void {\n\t\tconst width = Math.abs((this.vi.game as any)._lastRendererWidth / this.worldTransform.a);\n\t\tconst ratio =\n\t\t\tMath.abs((this.vi.game as any)._lastRendererHeight / this.worldTransform.a) /\n\t\t\tMath.abs((this.vi.game as any)._lastRendererWidth / this.worldTransform.a);\n\t\tthis.topBanner.setWidth(width, ratio);\n\t\tthis.bottomBanner.setWidth(width, ratio);\n\t}\n\n\t/**\n\t * Set the top bar over or under the black overlay. a.k.a are top settings buttons not clickable?\n\t * @param over\n\t */\n\tprotected setTopBannerOverOverlay(over: boolean): void {\n\t\tif (over) {\n\t\t\tthis.addChildAt(this.topOverlay, 0);\n\t\t\tthis.addChildAt(this.topBanner, 0);\n\t\t\tthis.addChildAt(this.betPopup, 0);\n\t\t\tthis.addChildAt(this.waitingRoomPopup, 0);\n\t\t\tthis.addChildAt(this.overlay, 0);\n\t\t} else {\n\t\t\tthis.addChildAt(this.betPopup, 0);\n\t\t\tthis.addChildAt(this.waitingRoomPopup, 0);\n\t\t\tthis.addChildAt(this.overlay, 0);\n\t\t\tthis.addChildAt(this.topBanner, 0);\n\t\t\tthis.addChildAt(this.topOverlay, 0);\n\t\t}\n\n\t\tthis.addChildAt(this.bottomBanner, 0);\n\t}\n\n\tprotected getAvatarsMap(ids: string[]): Promise<{ [name: string]: Avatar }> {\n\t\tconst avatars: { [name: string]: Avatar } = {};\n\t\tconst avatarsLoader = new loaders.Loader();\n\t\tconst loadMap: { [name: string]: string } = {};\n\n\t\tfor (const id of ids) {\n\t\t\tavatars[id] = AssetStore.instanciatePrefab(\"avatar\", new Avatar());\n\n\t\t\tif (id) {\n\t\t\t\tconst avatarUrl = this.vi.game.com.getAvatarUrl(id);\n\t\t\t\tloadMap[avatarUrl] = id;\n\t\t\t\tif (avatarsLoader.resources[id] === undefined) {\n\t\t\t\t\t// pixi throw error when loaded the same ressource twice\n\t\t\t\t\tavatarsLoader.add(id, avatarUrl);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new Promise<{ [name: string]: Avatar }>((solve) => {\n\t\t\tavatarsLoader.onError.add((err, loader, resource: loaders.Resource) => {\n\t\t\t\tdelete loadMap[resource.url];\n\t\t\t});\n\t\t\tavatarsLoader.load((loader, resources) => {\n\t\t\t\tfor (const id of Object.values(loadMap)) {\n\t\t\t\t\tavatars[id].setTexture(resources[id].texture);\n\t\t\t\t}\n\t\t\t\tsolve(avatars);\n\t\t\t});\n\t\t});\n\t}\n\n\tprotected async updateTokenPurses(): Promise<void> {\n\t\tif (!this.player) {\n\t\t\tthis.player = await this.vi.game.com.getCurrentPlayerInformations();\n\t\t}\n\n\t\tconst currency = await this.vi.game.com.getPlayerCurrency(\"XTK\", this.player.playerId, {\n\t\t\tserviceName: this.vi.game.gameConfig.lotteryGameCode,\n\t\t});\n\n\t\tlet promo: Amount = new Amount({ currency: \"XTK\", value: 0 });\n\t\tlet common: Amount = new Amount({ currency: \"XTK\", value: 0 });\n\n\t\tif (currency) {\n\t\t\tfor (const currencyPart of currency) {\n\t\t\t\tif (currencyPart.type === ECurrencyPurseType.GIFT) {\n\t\t\t\t\tpromo = promo.sum(currencyPart.balance);\n\t\t\t\t} else {\n\t\t\t\t\tcommon = common.sum(currencyPart.balance);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.topBanner.setTokenPurses(promo, common);\n\t}\n}\n","import { LoadedView } from \"@gdk/core-pixi\";\nimport { TweenMax } from \"gsap\";\n\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IAdaptativeIntroductionView } from \"../../../identity\";\n\nexport class IntroductionView extends LoadedView implements IAdaptativeIntroductionView {\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * OnLoad\n\t */\n\tpublic onLoad(): void {\n\t\t// Empty\n\t}\n\n\t/**\n\t * On the view will appear\n\t * @param done\n\t */\n\tpublic onWillAppear(done?: () => void): void {\n\t\tthis.visible = !this.vi.parameters.skipIntroduction;\n\t\tdone();\n\t}\n\n\t/**\n\t * Animate the introduction (here nothing)\n\t * @param done\n\t */\n\tpublic animate(done: () => void): void {\n\t\tif (this.vi.parameters.skipIntroduction) {\n\t\t\tdone();\n\t\t} else {\n\t\t\tTweenMax.delayedCall(3, done);\n\t\t}\n\t}\n}\n","import { LoadedView } from \"@gdk/core-pixi\";\nimport { Linear, TimelineMax } from \"gsap\";\nimport type { Sprite } from \"pixi.js\";\n\nimport type { IAdaptativeLoadingView } from \"../../../identity\";\n\nconst AWAITER_ANIMATION_PART_TIME: number = 0.2;\nconst AWAITER_ANIMATION_WAIT_TIME: number = 0.15;\n\nexport class LoadingView extends LoadedView implements IAdaptativeLoadingView {\n\t/**\n\t * The left awaiter point\n\t */\n\tprotected point0: Sprite = null;\n\n\t/**\n\t * The middle awaiter point\n\t */\n\tprotected point1: Sprite = null;\n\n\t/**\n\t * The right awaiter point\n\t */\n\tprotected point2: Sprite = null;\n\n\t/**\n\t * The awaiter animation\n\t */\n\tprotected awaiterTimeline: TimelineMax = null;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * OnLoad\n\t */\n\tpublic onLoad(): void {\n\t\tthis.point0.alpha = 0;\n\t\tthis.point1.alpha = 0;\n\t\tthis.point2.alpha = 0;\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view did appear. Register \"once\" event on playButton.\n\t */\n\tpublic onDidAppear(): void {\n\t\tthis.awaiterTimeline = new TimelineMax();\n\t\tthis.awaiterTimeline\n\t\t\t.to(\n\t\t\t\tthis.point0,\n\t\t\t\tAWAITER_ANIMATION_PART_TIME,\n\t\t\t\t{ alpha: 1, ease: Linear.easeNone },\n\t\t\t\tAWAITER_ANIMATION_WAIT_TIME\n\t\t\t)\n\t\t\t.to(this.point0, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: Linear.easeNone });\n\t\tthis.awaiterTimeline\n\t\t\t.to(\n\t\t\t\tthis.point1,\n\t\t\t\tAWAITER_ANIMATION_PART_TIME,\n\t\t\t\t{ alpha: 1, ease: Linear.easeNone },\n\t\t\t\tAWAITER_ANIMATION_WAIT_TIME * 2\n\t\t\t)\n\t\t\t.to(this.point1, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: Linear.easeNone });\n\t\tthis.awaiterTimeline\n\t\t\t.to(\n\t\t\t\tthis.point2,\n\t\t\t\tAWAITER_ANIMATION_PART_TIME,\n\t\t\t\t{ alpha: 1, ease: Linear.easeNone },\n\t\t\t\tAWAITER_ANIMATION_WAIT_TIME * 3\n\t\t\t)\n\t\t\t.to(this.point2, AWAITER_ANIMATION_PART_TIME, { alpha: 0, ease: Linear.easeNone });\n\t\tthis.awaiterTimeline.repeat(-1).play();\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tif (this.awaiterTimeline) {\n\t\t\tthis.awaiterTimeline.kill();\n\t\t}\n\t}\n\n\t/**\n\t * On the view did disappear\n\t */\n\tpublic onDidDisappear(): void {\n\t\tthis.visible = false;\n\t}\n\n\t/**\n\t * Defines the function called each time a file is loaded\n\t * @param percentage the percentage of files already loaded\n\t */\n\tpublic onProgress(percentage: number): void {\n\t\t// Does nothing awaiter is a loop animation.\n\t}\n}\n","import { LoadedView } from \"@gdk/core-pixi\";\n\nexport class LockView extends LoadedView {\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * OnLoad\n\t */\n\tpublic onLoad(): void {\n\t\tthis.visible = true;\n\t}\n}\n"],"sourceRoot":""}