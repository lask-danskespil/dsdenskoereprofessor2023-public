{"version":3,"sources":["webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/components/settingsComponent.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/index.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/views/inGameView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/views/introductionView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/views/loadingView.ts","webpack://@gdk/gamekit/src/builds/gdk/framework/modules/gamekit/src/adaptativeVisualIdentity/identities/lor/views/lockView.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmC;AAEC;AACQ;AAIkC;AACrB;AAIzD;;GAEG;AACH;IAAuC,qCAAS;IA6B/C;;;OAGG;IACH,2BAAmB,UAAiC,EAAY,EAA6B;QAA7F,YACC,iBAAO,SAEP;QAH+D,QAAE,GAAF,EAAE,CAA2B;QAhC7F;;WAEG;QACI,eAAS,GAAc,IAAI,CAAC;QACnC;;WAEG;QACI,sBAAgB,GAAW,IAAI,CAAC;QACvC;;WAEG;QACI,gBAAU,GAAW,IAAI,CAAC;QACjC;;WAEG;QACI,kBAAY,GAAW,IAAI,CAAC;QACnC;;WAEG;QACI,iBAAW,GAAW,IAAI,CAAC;QAMxB,UAAI,GAAY,KAAK,CAAC;QACtB,gBAAU,GAAY,KAAK,CAAC;QAQrC,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;IAC9B,CAAC;IAED;;;OAGG;IACI,oCAAQ,GAAf;QAAA,iBAuDC;QAtDA,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,kBAAkB;QAClB,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,YAAY,EAAE;YACtC,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE;YAChC,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,6DAAqB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YAChE,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE;YAClC,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,6DAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC/D,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,YAAY,EAAE;;;;wBACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBACjB,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,KAAK,CAAC;wBACjC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,SAAS,CAAC,CAAC;wBACrD,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;wBAExD,6EAA6E;wBAC7E,yCAAyC;wBACzC,qBAAM,2DAAU,CAAC,IAAI,CAAC,GAAG,CAAC;;wBAF1B,6EAA6E;wBAC7E,yCAAyC;wBACzC,SAA0B,CAAC;wBAC3B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;;;;aAClB,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,SAAS,EAAE;YAClD,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,WAAW,CAAC,OAAO,GAAG,KAAK,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,SAAS,EAAE;YAClD,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,gBAAgB;QAChB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAE5E,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,6DAAqB,CAAC,YAAY,EAAE,UAAC,OAAO;YAC9D,KAAI,CAAC,WAAW,CAAC,OAAO,GAAG,OAAO,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,6DAAqB,CAAC,YAAY,EAAE,UAAO,OAAO;;;;wBACpE,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,KAAK,CAAC;wBACpE,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;wBAClC,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC;wBACrC,qBAAM,2DAAU,CAAC,IAAI,CAAC,GAAG,CAAC;;wBAA1B,SAA0B,CAAC;wBAC3B,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC;;;;aACnE,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE;YACnC,KAAI,CAAC,iBAAiB,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACJ,CAAC;IAED;;OAEG;IACU,gCAAI,GAAjB;;;;;gBACC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBAClB,sBAAO;iBACP;gBAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,gDAAM,CAAC,GAAG,CAAO,oBAAoB,CAAC,CAAC,IAAI,EAAE,CAAC;gBAE9C,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,KAAK,CAAC;gBACpC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,KAAK,CAAC;gBACtC,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG,KAAK,CAAC;gBAEpC,QAAQ,GAAG,IAAI,gDAAW,EAAE,CAAC;gBAC7B,IAAI,GAAG,4CAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC5C,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,QAAE,CAAC,CAAC;gBAC1D,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,QAAE,EAAE,GAAG,CAAC,CAAC;gBACnF,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBAErD,sBAAO,IAAI,OAAO,CAAC,UAAC,OAAO;wBAC1B,QAAQ,CAAC,GAAG,CAAC;4BACZ,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;4BACrB,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;4BAClB,OAAO,EAAE,CAAC;wBACX,CAAC,EAAE,MAAM,CAAC,CAAC;oBACZ,CAAC,CAAC,EAAC;;;KACH;IAED;;OAEG;IACU,gCAAI,GAAjB;;;;;gBACC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,CAAC,CAAC;gBACxD,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,CAAC,CAAC;gBAGvB,QAAQ,GAAG,IAAI,gDAAW,EAAE,CAAC;gBACnC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC1E,IAAI,GAAG,4CAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;gBAC/C,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,QAAE,EAAE,IAAI,CAAC,CAAC;gBACpF,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,QAAE,EAAE,IAAI,CAAC,CAAC;gBAEhE,MAAM;gBACN,sBAAO,IAAI,OAAO,CAAC,UAAC,OAAO;wBAC1B,QAAQ,CAAC,GAAG,CAAC;4BACZ,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC;4BAClB,KAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;4BACnC,KAAI,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC;4BACrC,KAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG,IAAI,CAAC;4BACzC,OAAO,EAAE,CAAC;wBACX,CAAC,CAAC,CAAC;oBACJ,CAAC,CAAC,EAAC;;;KACH;IAED;;OAEG;IACI,6CAAiB,GAAxB;QACC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACf,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;SACxD;IACF,CAAC;IACF,wBAAC;AAAD,CAAC,CArKsC,iDAAS,GAqK/C;;;;;;;;;;;;;;ACpLD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoC;AACD;AACM;AACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHgC;AACU;AAMP;AACU;AACrB;AAIzD;IAAgC,8BAAU;IA8BzC;;;OAGG;IACH,oBAA6B,EAA4B;QAAzD,YACC,iBAAO,SAEP;QAH4B,QAAE,GAAF,EAAE,CAA0B;QAjCzD;;WAEG;QACI,gBAAU,GAAW,IAAI,CAAC;QACjC;;WAEG;QACI,oBAAc,GAAW,IAAI,CAAC;QAMrC;;WAEG;QACI,aAAO,GAAa,IAAI,CAAC;QAChC;;WAEG;QACI,kBAAY,GAAW,IAAI,qDAAM,EAAE,CAAC;QAE3C;;WAEG;QACO,uBAAiB,GAAY,KAAK,CAAC;QAEnC,gBAAU,GAAY,KAAK,CAAC;QAQrC,KAAI,CAAC,iBAAiB,GAAG,IAAI,+EAAiB,CAAC,KAAI,EAAE,KAAI,CAAC,EAAE,CAAC,CAAC;;IAC/D,CAAC;IAED;;OAEG;IACI,2BAAM,GAAb;QAAA,iBAgEC;QA/DA,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,YAAY,EAAE;;;;wBACrD,iDAAO,CAAC,KAAK,CAAC,IAAI,uDAAa,CAAC,wDAAc,CAAC,IAAI,CAAC,CAAC,CAAC;wBACtD,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC;wBACxC,qBAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;;wBAAnC,SAAmC,CAAC;wBACpC,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;;;;aACnC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,YAAY,EAAE;;;;wBACrD,iDAAO,CAAC,KAAK,CAAC,IAAI,uDAAa,CAAC,wDAAc,CAAC,IAAI,CAAC,CAAC,CAAC;wBACtD,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,KAAK,CAAC;wBACpC,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC;wBACxC,qBAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;;wBAAnC,SAAmC,CAAC;wBACpC,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC;wBACvC,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;;;;aACnC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,SAAS,EAAE;YAClD,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAEvB,IAAM,cAAc,GAAG,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YAC/C,KAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,SAAS,EAAE;;;gCACpD,qBAAM,2DAAU,CAAC,IAAI,CAAC,GAAG,CAAC;;4BAA1B,SAA0B,CAAC;4BAC3B,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,cAAc,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;;;;iBACpE,CAAC,CAAC;YAEH,KAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,SAAS,EAAE;YAClD,IAAI,CAAC,KAAI,CAAC,UAAU,EAAE;gBACrB,OAAO;aACP;YACD,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,gDAAM,CAAC,GAAG,CAAO,gBAAgB,CAAC,CAAC,IAAI,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,6DAAqB,CAAC,WAAW,EAAE,UAAC,OAAO;YAC7D,KAAI,CAAC,iBAAiB,GAAG,CAAC,OAAO,CAAC;YAClC,KAAI,CAAC,UAAU,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC,KAAI,CAAC,UAAU,IAAI,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC;QACtF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,6DAAqB,CAAC,eAAe,EAAE,UAAC,OAAO;YACjE,oCAAoC;YACpC,IAAI,CAAC,OAAO,EAAE;gBACb,KAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;aAC9B;YACD,KAAI,CAAC,cAAc,CAAC,OAAO,GAAG,OAAO,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,UAAU;QACV,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,YAAY,EAAE;YAClC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzB,KAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;YAC7B,KAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;YAClC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACnC,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAEvE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,4DAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACrF,CAAC;IAED;;OAEG;IACI,kCAAa,GAApB;QACC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAClB,OAAO;SACP;QAED,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACjC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAExB,uCAAuC;QACvC,IAAI,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YACnD,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,KAAK,CAAC;YACvC,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC;SACnC;QAED,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAExB,kCAAkC;QAClC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;IAClC,CAAC;IAED;;OAEG;IACU,iCAAY,GAAzB;;;gBACC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACxB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC;gBAC5E,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC;gBACnC,IAAI,CAAC,iBAAiB,CAAC,OAAO,GAAG,KAAK,CAAC;gBACvC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC;gBAClC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;;;KACpB;IAED;;OAEG;IACI,gCAAW,GAAlB;QACC,QAAQ;IACT,CAAC;IAEO,iCAAY,GAApB;QACC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YAC7B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,4DAAoB,CAAC,SAAS,CAAC,CAAC;YAC7C,OAAO;SACP;QACD,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,UAAU,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;IACjC,CAAC;IAEO,qCAAgB,GAAxB;QACC,gDAAM,CAAC,GAAG,CAAO,mBAAmB,CAAC,CAAC,IAAI,EAAE,CAAC;QAC7C,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,4DAAoB,CAAC,YAAY,CAAC,CAAC;IACzD,CAAC;IAED;;OAEG;IACU,kCAAa,GAA1B;;;;;4BACmB,qBAAM,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE;;wBAAhD,IAAI,GAAQ,SAAoC;wBACtD,sBAAO,IAAI,KAAK,MAAM,EAAC;;;;KACvB;IAED;;OAEG;IACI,oCAAe,GAAtB;QACC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACtB,CAAC;IACF,iBAAC;AAAD,CAAC,CAvL+B,yDAAU,GAuLzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxLuB;AAI+B;AAGvD;IAAsC,oCAAU;IAa/C;;OAEG;IACH,0BAA6B,EAA4B;QAAzD,YACC,iBAAO,SACP;QAF4B,QAAE,GAAF,EAAE,CAA0B;QAfzD;;WAEG;QACI,eAAS,GAAY,KAAK,CAAC;QAElC;;WAEG;QACO,gBAAU,GAAW,IAAI,CAAC;;IASpC,CAAC;IAED;;;OAGG;IACI,kCAAO,GAAd,UAAe,SAAqB;QACnC,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QAErB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,4DAAoB,CAAC,oBAAoB,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,SAAS,EAAE,CAAC;IACb,CAAC;IAED;;OAEG;IACI,uCAAY,GAAnB;QACC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACrB,CAAC;IAED;;OAEG;IACI,0CAAe,GAAtB;QACC,0FAA0F;IAC3F,CAAC;IAED;;OAEG;IACI,iCAAM,GAAb;QACC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,4DAA4D;IACpD,uCAAY,GAApB;QACC,IAAI,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,OAAO,EAAE;YAC9C,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC5B;IACF,CAAC;IACF,uBAAC;AAAD,CAAC,CA5DqC,yDAAU,GA4D/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/E+F;AAQhG;IAAiC,+BAAU;IAI1C;;;OAGG;IACH,qBAA6B,EAA4B;QAAzD,YACC,iBAAO,SACP;QAF4B,QAAE,GAAF,EAAE,CAA0B;QAPlD,gBAAU,GAAc,IAAI,CAAC;QAC7B,kBAAY,GAAa,IAAI,CAAC;;IAQrC,CAAC;IAED;;OAEG;IACI,4BAAM,GAAb;QACC,QAAQ;IACT,CAAC;IAED;;OAEG;IACI,kCAAY,GAAnB;QACC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACrB,CAAC;IAED;;;OAGG;IACI,gCAAU,GAAjB,UAAkB,UAAkB;QACnC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,UAAU,GAAG,IAAI,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,mBAAY,UAAU,gBAAa,CAAC;IAC5D,CAAC;IAED;;OAEG;IACI,qCAAe,GAAtB;QACC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACtB,CAAC;IACF,kBAAC;AAAD,CAAC,CA3CgC,yDAAU,GA2C1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnDqC;AACG;AACG;AAGE;AAI9C;;;GAGG;AACH,IAAI,cAAc,GAAY,KAAK,CAAC;AAEpC;;;;GAIG;AACH,SAAS,kBAAkB,CAE1B,KAAY,EACZ,CAAS,EACT,CAAS;IAET,IAAM,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,CAAC;IAChE,IAAM,oBAAoB,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;IAC7C,SAAoB,IAAI,CAAC,qBAA4B,EAAnD,MAAM,cAAE,KAAK,WAAsC,CAAC;IAE5D,8EAA8E;IAC9E,IAAI,cAAc,EAAE;QACnB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,oBAAoB,CAAC;QACzE,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,oBAAoB,CAAC;KACtF;SAAM;QACN,gBAAgB;QAChB,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,oBAAoB,CAAC;QACxE,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,oBAAoB,CAAC;KACzE;AACF,CAAC;AAED;IAA8B,4BAAU;IAMvC;;;;;OAKG;IACH,kBAA6B,EAA4B;QAAzD,YACC,iBAAO,SAKP;QAN4B,QAAE,GAAF,EAAE,CAA0B;QAXzD;;WAEG;QACI,iBAAW,GAAiB,sDAAY,CAAC,SAAS,CAAC;QAWzD,mFAAmF;QACnF,mDAAW,CAAC,kBAAkB,CAAC,SAAS,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;QACjF,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACtD,CAAC;IAES,+BAAY,GAAtB;QACC,sEAAsE;QACtE,qEAAqE;QACrE,cAAc,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QAElF,IAAI,cAAc,EAAE;YACnB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;gBACxC,SAAS,EAAE,gBAAgB;gBAC3B,GAAG,EAAE,QAAQ;gBACb,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,QAAQ,EAAE,UAAU;gBACpB,eAAe,EAAE,cAAc;aAC/B,CAAC,CAAC;YACH,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;SACrF;aAAM;YACN,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;gBACxC,SAAS,EAAE,EAAE;gBACb,GAAG,EAAE,GAAG;gBACR,KAAK,EAAE,QAAQ;gBACf,KAAK,EAAE,OAAO;gBACd,MAAM,EAAE,OAAO;gBACf,QAAQ,EAAE,UAAU;gBACpB,eAAe,EAAE,cAAc;aAC/B,CAAC,CAAC;YACH,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;SACtB;QAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAC/B,CAAC;IAES,yCAAsB,GAAhC;QACC,IAAM,iBAAiB,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC;QAE5F,IAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC;QACnC,IAAM,eAAe,GAAG,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC;QAEhF,kDAAkD;QAClD,8CAA8C;QAC9C,IAAI,eAAe,KAAK,iBAAiB,EAAE;YAC1C,gDAAK,CAAC,kBAAkB,GAAG,eAAe,CAAC;SAC3C;IACF,CAAC;IAED;;OAEG;IACI,yBAAM,GAAb;QACC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAC/B,CAAC;IACF,eAAC;AAAD,CAAC,CAxE6B,yDAAU,GAwEvC","file":"gamekit.lor.js","sourcesContent":["import { Loader } from \"@gdk/core\";\nimport { Popup } from \"@gdk/core-pixi\";\nimport { Container } from \"pixi.js\";\nimport { TimelineMax, Elastic } from \"gsap\";\nimport type { Button } from \"@gdk/core-pixi\";\nimport type { Howl } from \"howler\";\n\nimport { EVisualIdentityAction, EVisualIdentityEvent } from \"../../../events\";\nimport { TweenUtils } from \"../../../../game/tweenUtils\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IAdaptativeInGameView } from \"../../../identity\";\n\n/**\n * We have to keep this component even if it is empty due to compatibility reasons\n */\nexport class SettingsComponent extends Container {\n\t/**\n\t * container used as the background for the settings menu\n\t */\n\tpublic container: Container = null;\n\t/**\n\t * Settings button used to hide settings menu\n\t */\n\tpublic settingsOnButton: Button = null;\n\t/**\n\t * sound button used to mute sound\n\t */\n\tpublic muteButton: Button = null;\n\t/**\n\t * sound button used to unmute sound\n\t */\n\tpublic unmuteButton: Button = null;\n\t/**\n\t * rules button used to show rules popin\n\t */\n\tpublic rulesButton: Button = null;\n\t/**\n\t * in game view reference\n\t */\n\tpublic inGameView: IAdaptativeInGameView;\n\n\tprotected busy: boolean = false;\n\tprotected isRuleOpen: boolean = false;\n\n\t/**\n\t * Constructor\n\t * @param vi: the adaptative visual identity reference\n\t */\n\tpublic constructor(inGameView: IAdaptativeInGameView, protected vi?: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t\tthis.inGameView = inGameView;\n\t}\n\n\t/**\n\t * Called by the project loader once the container has\n\t * been imported\n\t */\n\tpublic onLoaded(): void {\n\t\tthis.visible = false;\n\n\t\t// buttons actions\n\t\tthis.settingsOnButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t});\n\t\tthis.muteButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, false);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t});\n\t\tthis.unmuteButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityAction.SoundEnabled, true);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t});\n\t\tthis.rulesButton.on(\"pointertap\", async () => {\n\t\t\tthis.busy = true;\n\t\t\tthis.rulesButton.enabled = false;\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowRules);\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\n\t\t\t// settingsComponent is tagged busy for a moment, to prevent the double click\n\t\t\t// to open / close the rules at same time\n\t\t\tawait TweenUtils.wait(0.3);\n\t\t\tthis.busy = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.ShowRules, () => {\n\t\t\tthis.isRuleOpen = true;\n\t\t\tthis.rulesButton.enabled = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.HideRules, () => {\n\t\t\tthis.isRuleOpen = false;\n\t\t\tthis.rulesButton.enabled = true;\n\t\t});\n\n\t\t// event actions\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.ShowSettings, this.show.bind(this));\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.RulesEnabled, (enabled) => {\n\t\t\tthis.rulesButton.enabled = enabled;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.SoundEnabled, async (enabled) => {\n\t\t\tthis.muteButton.interactive = this.unmuteButton.interactive = false;\n\t\t\tthis.muteButton.visible = enabled;\n\t\t\tthis.unmuteButton.visible = !enabled;\n\t\t\tawait TweenUtils.wait(0.3);\n\t\t\tthis.muteButton.interactive = this.unmuteButton.interactive = true;\n\t\t});\n\n\t\tthis.vi.background.on(\"pointertap\", () => {\n\t\t\tthis.onBackgroundClick();\n\t\t});\n\t}\n\n\t/**\n\t * hide the settings component\n\t */\n\tpublic async hide(): Promise<void> {\n\t\tif (!this.visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.busy = true;\n\t\tLoader.get<Howl>(\"settings_close.mp3\").play();\n\n\t\tthis.muteButton.interactive = false;\n\t\tthis.unmuteButton.interactive = false;\n\t\tthis.settingsOnButton.interactive = false;\n\n\t\tconst timeline = new TimelineMax();\n\t\tconst ease = Elastic.easeIn.config(1, 0.75);\n\t\ttimeline.to(this.rulesButton, 0.15, { scaleXY: 0, ease });\n\t\ttimeline.to([this.muteButton, this.unmuteButton], 0.15, { scaleXY: 0, ease }, 0.1);\n\t\ttimeline.to(this.container, 0.2, { alpha: 0 }, 0.15);\n\n\t\treturn new Promise((resolve) => {\n\t\t\ttimeline.add(() => {\n\t\t\t\tthis.visible = false;\n\t\t\t\tthis.busy = false;\n\t\t\t\tresolve();\n\t\t\t}, \"+0.5\");\n\t\t});\n\t}\n\n\t/**\n\t * Shows the settings component\n\t */\n\tpublic async show(): Promise<void> {\n\t\tthis.busy = true;\n\t\tthis.visible = true;\n\t\tthis.muteButton.scaleXY = this.unmuteButton.scaleXY = 0;\n\t\tthis.rulesButton.scaleXY = 0;\n\n\t\t// animation\n\t\tconst timeline = new TimelineMax();\n\t\ttimeline.fromTo(this.container, 0.3, { alpha: 0, visible: true }, { alpha: 1 });\n\t\tconst ease = Elastic.easeOut.config(0.75, 0.5);\n\t\ttimeline.to([this.muteButton, this.unmuteButton], 0.25, { scaleXY: 1, ease }, 0.15);\n\t\ttimeline.to(this.rulesButton, 0.25, { scaleXY: 1, ease }, 0.25);\n\n\t\t// end\n\t\treturn new Promise((resolve) => {\n\t\t\ttimeline.add(() => {\n\t\t\t\tthis.busy = false;\n\t\t\t\tthis.muteButton.interactive = true;\n\t\t\t\tthis.unmuteButton.interactive = true;\n\t\t\t\tthis.settingsOnButton.interactive = true;\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * called when you click the background behind the settings\n\t */\n\tpublic onBackgroundClick(): void {\n\t\tif (!this.busy) {\n\t\t\tthis.vi.emitter.emit(EVisualIdentityEvent.HideSettings);\n\t\t}\n\t}\n}\n","export * from \"./views/loadingView\";\nexport * from \"./views/inGameView\";\nexport * from \"./views/introductionView\";\nexport * from \"./views/lockView\";\n","import { LoadedView, Button, Application } from \"@gdk/core-pixi\";\nimport { tracker, SettingsEvent, ESettingsEvent, Loader } from \"@gdk/core\";\nimport { TweenLite, TweenMax } from \"gsap\";\nimport { ticker } from \"pixi.js\";\nimport type { Container, Graphics } from \"pixi.js\";\nimport type { Howl } from \"howler\";\n\nimport { SettingsComponent } from \"../components/settingsComponent\";\nimport { EVisualIdentityAction, EVisualIdentityEvent } from \"../../../events\";\nimport { TweenUtils } from \"../../../../game/tweenUtils\";\nimport type { IAdaptativeInGameView } from \"../../../identity\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class InGameView extends LoadedView implements IAdaptativeInGameView {\n\t/**\n\t * auto button used in some games\n\t */\n\tpublic autoButton: Button = null;\n\t/**\n\t * Settings button used to show settings menu\n\t */\n\tpublic settingsButton: Button = null;\n\n\t/**\n\t * Settings button used to show settings menu\n\t */\n\tpublic settingsComponent: SettingsComponent;\n\t/**\n\t * resume overlay that block any click on a lost focus\n\t */\n\tpublic overlay: Graphics = null;\n\t/**\n\t * resume button used to get back on the game after losing focus\n\t */\n\tpublic resumeButton: Button = new Button();\n\n\t/**\n\t * overides\n\t */\n\tprotected forceAutoDisabled: boolean = false;\n\n\tprotected isRuleOpen: boolean = false;\n\n\t/**\n\t * Constructor\n\t * @param vi: the adaptative visual identity reference\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t\tthis.settingsComponent = new SettingsComponent(this, this.vi);\n\t}\n\n\t/**\n\t * Called once the view is loaded\n\t */\n\tpublic onLoad(): void {\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.ShowSettings, async () => {\n\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Show));\n\t\t\tthis.autoButton.interactive = false;\n\t\t\tthis.settingsButton.interactive = false;\n\t\t\tawait this.settingsComponent.show();\n\t\t\tthis.autoButton.interactive = true;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.HideSettings, async () => {\n\t\t\ttracker.track(new SettingsEvent(ESettingsEvent.Hide));\n\t\t\tthis.autoButton.interactive = false;\n\t\t\tthis.settingsButton.interactive = false;\n\t\t\tawait this.settingsComponent.hide();\n\t\t\tthis.settingsButton.interactive = true;\n\t\t\tthis.autoButton.interactive = true;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.ShowRules, () => {\n\t\t\tthis.isRuleOpen = true;\n\n\t\t\tconst autoWasEnabled = this.autoButton.enabled;\n\t\t\tthis.vi.emitter.once(EVisualIdentityEvent.HideRules, async () => {\n\t\t\t\tawait TweenUtils.wait(0.1);\n\t\t\t\tthis.autoButton.enabled = autoWasEnabled && !this.forceAutoDisabled;\n\t\t\t});\n\n\t\t\tthis.autoButton.enabled = false;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.HideRules, () => {\n\t\t\tif (!this.isRuleOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.isRuleOpen = false;\n\t\t\tLoader.get<Howl>(\"cross_menu.mp3\").play();\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.AutoEnabled, (enabled) => {\n\t\t\tthis.forceAutoDisabled = !enabled;\n\t\t\tthis.autoButton.enabled = enabled && !this.isRuleOpen && this.settingsButton.enabled;\n\t\t});\n\n\t\tthis.vi.emitter.on(EVisualIdentityAction.SettingsEnabled, (enabled) => {\n\t\t\t// force close settings if necessary\n\t\t\tif (!enabled) {\n\t\t\t\tthis.settingsComponent.hide();\n\t\t\t}\n\t\t\tthis.settingsButton.enabled = enabled;\n\t\t});\n\n\t\t// buttons\n\t\tthis.resumeButton.on(\"pointertap\", () => {\n\t\t\tthis.vi.game.mute(false);\n\t\t\tthis.overlay.visible = false;\n\t\t\tthis.resumeButton.visible = false;\n\t\t\tthis.vi.game.unpause(\"lockscreen\");\n\t\t\tthis.vi.game.unpause(\"blur\");\n\t\t});\n\n\t\tthis.autoButton.on(\"pointertap\", this.onAutoButton.bind(this));\n\t\tthis.settingsButton.on(\"pointertap\", this.onSettingsButton.bind(this));\n\n\t\tthis.vi.emitter.on(EVisualIdentityEvent.GameBlurred, this.onGameBlurred.bind(this));\n\t}\n\n\t/**\n\t * Called when the game lose focus for another webview/application\n\t */\n\tpublic onGameBlurred(): void {\n\t\tif (!this.visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.vi.game.pause(\"lockscreen\");\n\t\tthis.vi.game.mute(true);\n\n\t\t// force settings to close if necessary\n\t\tif (this.settingsComponent.visible) {\n\t\t\tthis.vi.game.stage.removeChild(this.vi.background);\n\t\t\tthis.settingsComponent.visible = false;\n\t\t\tthis.settingsButton.interactive = true;\n\t\t\tthis.autoButton.interactive = true;\n\t\t}\n\n\t\tthis.vi.game.mute(true);\n\n\t\t// resumeOverlay will block clicks\n\t\tthis.overlay.visible = true;\n\t\tthis.resumeButton.visible = true;\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic async onWillAppear(): Promise<void> {\n\t\tthis.vi.game.onResize();\n\t\tthis.autoButton.visible = this.vi.game.gameConfig.gameParameters.autoButton;\n\t\tthis.autoButton.enabled = false;\n\t\tthis.settingsButton.visible = true;\n\t\tthis.settingsComponent.visible = false;\n\t\tthis.overlay.visible = false;\n\t\tthis.resumeButton.visible = false;\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view did appear\n\t */\n\tpublic onDidAppear(): void {\n\t\t// empty\n\t}\n\n\tprivate onAutoButton(): void {\n\t\tif (!this.autoButton.enabled) {\n\t\t\tthis.vi.emit(EVisualIdentityEvent.HideRules);\n\t\t\treturn;\n\t\t}\n\t\tthis.vi.emitter.emit(EVisualIdentityEvent.AutoButton);\n\t\tthis.autoButton.enabled = false;\n\t}\n\n\tprivate onSettingsButton(): void {\n\t\tLoader.get<Howl>(\"settings_open.mp3\").play();\n\t\tthis.vi.emitter.emit(EVisualIdentityEvent.ShowSettings);\n\t}\n\n\t/**\n\t * Test the current Game Mode\n\t */\n\tpublic async getModeIsDemo(): Promise<boolean> {\n\t\tconst mode: any = await this.vi.game.com.getGameMode();\n\t\treturn mode === \"DEMO\";\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tthis.visible = false;\n\t}\n}\n","import { spine, WebGLRenderer, CanvasRenderer, Graphics } from \"pixi.js\";\nimport {\n\tLoadedView,\n\tTimeline,\n\tSpineTimeline,\n\tTimelineEvent,\n\tETimelineEventsType,\n\tESpineTimelineEvent,\n\tISpineTimelineSequence,\n\tResize,\n\tDocking,\n\tDockingBounds,\n} from \"@gdk/core-pixi\";\nimport { TweenMax } from \"gsap\";\nimport type { Sprite } from \"pixi.js\";\n\nimport { EVisualIdentityEvent } from \"../../../events\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\n\nexport class IntroductionView extends LoadedView {\n\t/**\n\t * Defines if the illiko introduction should be skipped\n\t */\n\tpublic skipIntro: boolean = false;\n\n\t/**\n\t * White background generated for the view\n\t */\n\tprotected background: Sprite = null;\n\n\tprivate _onNextStateCallback: () => void;\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Animate the clip\n\t * @param speed the speed affected to it\n\t */\n\tpublic animate(nextState: () => void): void {\n\t\tthis._onNextStateCallback = nextState;\n\t\tthis.visible = false;\n\n\t\tthis.vi.emit(EVisualIdentityEvent.IntroductionComplete);\n\t\tthis._onNextState();\n\t\tnextState();\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * On the view disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\t// Just override to the view not be set to \"visible = false\" as we need to keep it visible\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\tthis.visible = false;\n\t}\n\n\t// Called once an illiko introduction animation has finished\n\tprivate _onNextState(): void {\n\t\tif (this._onNextStateCallback && this.visible) {\n\t\t\tthis._onNextStateCallback();\n\t\t}\n\t}\n}\n","import { LoadedView, NineSliceContainer, pDelayedCall, Resize, Timeline } from \"@gdk/core-pixi\";\nimport type { TextField } from \"@gdk/core-pixi\";\nimport type { Graphics } from \"pixi.js\";\n\nimport { TweenUtils } from \"../../../../game\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IAdaptativeLoadingView } from \"../../../identity\";\n\nexport class LoadingView extends LoadedView implements IAdaptativeLoadingView {\n\tpublic percentage: TextField = null;\n\tpublic loaderHandle: Graphics = null;\n\n\t/**\n\t * Constructor\n\t * @param vi the adaptative visual identity\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\t// empty\n\t}\n\n\t/**\n\t * On the view will appear\n\t */\n\tpublic onWillAppear(): void {\n\t\tthis.loaderHandle.scaleX = 0;\n\t\tthis.visible = true;\n\t}\n\n\t/**\n\t * Defines the function called each time a file is loaded\n\t * @param percentage the percentage of files already loaded\n\t */\n\tpublic onProgress(percentage: number): void {\n\t\tthis.loaderHandle.scaleX = percentage * 0.01;\n\t\tthis.percentage.text = `<numbers>${percentage}</numbers>%`;\n\t}\n\n\t/**\n\t * On the view will disappear\n\t */\n\tpublic onWillDisappear(): void {\n\t\tthis.loaderHandle.scaleX = 1;\n\t\tthis.visible = false;\n\t}\n}\n","import { interaction } from \"pixi.js\";\nimport { EOrientation } from \"@gdk/core\";\nimport { LoadedView } from \"@gdk/core-pixi\";\nimport type { Point } from \"pixi.js\";\n\nimport { Popin } from \"../../../../com/popin\";\nimport type { AdaptativeVisualIdentity } from \"../../../adaptativeVisualIdentity\";\nimport type { IAdaptativeLockedView } from \"../../../identity\";\n\n/**\n * True is the screen is rotated artificially. Happens when the screen ratio is portrait,\n * but applet keeps been displayed as in landsape.\n */\nlet isForceRotated: boolean = false;\n\n/**\n * This function is intended to be used as replacement of\n * interaction.InteractionManager.prototype.mapPositionToPoint. When screen is \"force\" rotated,\n * i.e. display game in landscape when screen is portrait, event position mapping is a bit different.\n */\nfunction mapPositionToPoint(\n\tthis: interaction.InteractionManager,\n\tpoint: Point,\n\tx: number,\n\ty: number\n): void {\n\tconst rect = this.interactionDOMElement.getBoundingClientRect();\n\tconst resolutionMultiplier = 1.0 / this.resolution;\n\tconst { height, width } = this.interactionDOMElement as any;\n\n\t// rotated game mean rotated pointer input because PIXI recompute them by hand\n\tif (isForceRotated) {\n\t\tpoint.y = (x - rect.left) * (height / rect.width) * resolutionMultiplier;\n\t\tpoint.x = (rect.height - y - rect.top) * (width / rect.height) * resolutionMultiplier;\n\t} else {\n\t\t// original code\n\t\tpoint.x = (x - rect.left) * (width / rect.width) * resolutionMultiplier;\n\t\tpoint.y = (y - rect.top) * (height / rect.height) * resolutionMultiplier;\n\t}\n}\n\nexport class LockView extends LoadedView implements IAdaptativeLockedView {\n\t/**\n\t * Actually not used, just defined to comply with IAdaptativeLockedView interface\n\t */\n\tpublic orientation: EOrientation = EOrientation.Landscape;\n\n\t/**\n\t * constructor\n\t * caution: do not use fullscreen for LORO, changing will cause a blackscreen\n\t * on Chrome-mobile\n\t * @param vi\n\t */\n\tpublic constructor(protected vi: AdaptativeVisualIdentity) {\n\t\tsuper();\n\n\t\t// lockview will NEVER show up, but we manage the application rotation here instead\n\t\tinteraction.InteractionManager.prototype.mapPositionToPoint = mapPositionToPoint;\n\t\tthis.vi.game.onResize = this.onResizeGame.bind(this);\n\t}\n\n\tprotected onResizeGame(): void {\n\t\t// update isForceRotated with: do we have to force rotate the screen ?\n\t\t// we update isForceRotated and comply with it in the code just below\n\t\tisForceRotated = this.vi.game.window.innerWidth < this.vi.game.window.innerHeight;\n\n\t\tif (isForceRotated) {\n\t\t\tObject.assign(this.vi.game.canvas.style, {\n\t\t\t\ttransform: \"rotate(-90deg)\",\n\t\t\t\ttop: `-100vw`,\n\t\t\t\tright: `-100vw`,\n\t\t\t\twidth: `100vh`,\n\t\t\t\theight: `100vw`,\n\t\t\t\tposition: `absolute`,\n\t\t\t\ttransformOrigin: \"bottom right\",\n\t\t\t});\n\t\t\tthis.vi.game.resize(this.vi.game.window.innerHeight, this.vi.game.window.innerWidth);\n\t\t} else {\n\t\t\tObject.assign(this.vi.game.canvas.style, {\n\t\t\t\ttransform: \"\",\n\t\t\t\ttop: `0`,\n\t\t\t\tright: `-100vw`,\n\t\t\t\twidth: `100vw`,\n\t\t\t\theight: `100vh`,\n\t\t\t\tposition: `absolute`,\n\t\t\t\ttransformOrigin: \"bottom right\",\n\t\t\t});\n\t\t\tthis.vi.game.resize();\n\t\t}\n\n\t\tthis.updatePopinOrientation();\n\t}\n\n\tprotected updatePopinOrientation(): void {\n\t\tconst windowOrientation = window.innerWidth > window.innerHeight ? \"landscape\" : \"portrait\";\n\n\t\tconst canvas = this.vi.game.canvas;\n\t\tconst gameOrientation = canvas.width > canvas.height ? \"landscape\" : \"portrait\";\n\n\t\t// compare game orientation and window orientation\n\t\t// if they differ, force orientation in popins\n\t\tif (gameOrientation !== windowOrientation) {\n\t\t\tPopin.defaultOrientation = gameOrientation;\n\t\t}\n\t}\n\n\t/**\n\t * On load view\n\t */\n\tpublic onLoad(): void {\n\t\tthis.visible = true;\n\t\tthis.updatePopinOrientation();\n\t}\n}\n"],"sourceRoot":""}