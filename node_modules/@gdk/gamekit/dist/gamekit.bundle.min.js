/*! gamekit 3.6.4 Wed May 31 2023 13:11:04 GMT+0000 (Coordinated Universal Time) */
module.exports=function(t){function e(e){for(var n,o,r=e[0],s=e[1],a=0,c=[];a<r.length;a++)o=r[a],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&c.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(u&&u(e);c.length;)c.shift()()}var n={},i={bundle:0};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=r);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(t){return o.p+"gamekit."+({ds:"ds",fdj:"fdj",fdj_wizz:"fdj_wizz",fgs:"fgs",fgs_ds:"fgs_ds",fgs_ees:"fgs_ees",fgs_nt:"fgs_nt",fgs_szk:"fgs_szk",lor:"lor",nt:"nt",svs:"svs",vks:"vks"}[t]||t)+".min.js"}(t);var u=new Error;s=function(e){a.onerror=a.onload=null,clearTimeout(c);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,n[1](u)}i[t]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp_gdk_gamekit=window.webpackJsonp_gdk_gamekit||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var u=s;return o(o.s="./src/index.ts")}({"../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./src/com/popin/style.less":
/*!*******************************************************************************************************************************************!*\
  !*** /builds/gdk/framework/node_modules/css-loader!/builds/gdk/framework/node_modules/less-loader/dist/cjs.js!./src/com/popin/style.less ***!
  \*******************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){(t.exports=n(/*! ../../../../../node_modules/css-loader/lib/css-base.js */"../../node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,'.gdk-popin-background {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  cursor: default;\n  opacity: 0;\n  z-index: 999999;\n  transition-duration: 0.15s;\n  transition-timing-function: ease-in-out;\n  transition-property: opacity;\n}\n.gdk-popin-background.gdk-popin-background-overlay {\n  background-color: rgba(0, 0, 0, 0.6);\n}\n.gdk-popin-background.show {\n  opacity: 1;\n}\n@media screen and (orientation: portrait) {\n  .gdk-popin-background .gdk-popin.landscape {\n    transform: translate(-50%, -50%) rotate(-90deg);\n  }\n}\n@media screen and (orientation: landscape) {\n  .gdk-popin-background .gdk-popin.portrait {\n    transform: translate(-50%, -50%) rotate(-90deg);\n  }\n}\n.gdk-popin-background .gdk-popin {\n  background-color: whitesmoke;\n  box-shadow: 0 0 5px rgba(51, 51, 51, 0.5);\n  border-radius: 15px;\n  color: black;\n  font-family: Helvetica;\n  text-align: center;\n  display: inline-block;\n  left: 50%;\n  position: fixed;\n  top: 50%;\n  z-index: 10;\n  min-width: 230px;\n  max-width: 450px;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  padding: 3px 15px;\n}\n.gdk-popin-background .gdk-popin > div {\n  padding: 5px 20px;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-close {\n  position: absolute;\n  right: 12px;\n  top: 10px;\n  width: 8px;\n  height: 8px;\n  opacity: 1;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-close:hover {\n  opacity: 0.6;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-close:before,\n.gdk-popin-background .gdk-popin .gdk-popin-close:after {\n  position: absolute;\n  right: 3px;\n  content: " ";\n  height: 14px;\n  width: 3px;\n  background-color: #1187c7;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-close:before {\n  transform: rotate(45deg);\n}\n.gdk-popin-background .gdk-popin .gdk-popin-close:after {\n  transform: rotate(-45deg);\n}\n.gdk-popin-background .gdk-popin .gdk-popin-title {\n  font-weight: bold;\n  font-size: 1em;\n  color: #ec0b5e;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-text {\n  font-size: 0.9em;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-buttons {\n  font-size: 0;\n  margin-top: 15px;\n  padding: 0;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-buttons .gdk-popin-button-wrapper {\n  font-size: 1rem;\n  display: inline-block;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-buttons .gdk-popin-button-wrapper .gdk-popin-button {\n  line-height: 1em;\n  padding: 8px;\n  margin: 0 16px 10px;\n  cursor: pointer;\n  font-size: 0.8em;\n  font-family: inherit;\n  font-weight: bold;\n  text-transform: uppercase;\n  user-select: none;\n  border-radius: 15px;\n  background: #1187c7;\n  color: white;\n}\n.gdk-popin-background .gdk-popin .gdk-popin-buttons .gdk-popin-button-wrapper .gdk-popin-button:hover,\n.gdk-popin-background .gdk-popin .gdk-popin-buttons .gdk-popin-button-wrapper .gdk-popin-button:active,\n.gdk-popin-background .gdk-popin .gdk-popin-buttons .gdk-popin-button-wrapper .gdk-popin-button:focus {\n  opacity: 0.8;\n}\n.gdk-popin-background .gdk-popin-click-layer {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n',""])},"../../node_modules/css-loader/lib/css-base.js":
/*!*********************************************************************!*\
  !*** /builds/gdk/framework/node_modules/css-loader/lib/css-base.js ***!
  \*********************************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(r).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},"../../node_modules/style-loader/lib/addStyles.js":
/*!************************************************************************!*\
  !*** /builds/gdk/framework/node_modules/style-loader/lib/addStyles.js ***!
  \************************************************************************/
/*! no static exports found */function(t,e,n){var i,o,r={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),a=function(t){return document.querySelector(t)},u=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=a.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,l=0,d=[],h=n(/*! ./urls */"../../node_modules/style-loader/lib/urls.js");function p(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(b(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(b(i.parts[s],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function g(t,e){var n=u(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=u(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var s=l++;n=c||(c=v(e)),i=S.bind(null,n,s,!1),o=S.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),i=_.bind(null,n,e),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=k.bind(null,n),o=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return p(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}t&&p(f(t,e),e);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var w,x=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function S(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function k(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function _(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=h(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},"../../node_modules/style-loader/lib/urls.js":
/*!*******************************************************************!*\
  !*** /builds/gdk/framework/node_modules/style-loader/lib/urls.js ***!
  \*******************************************************************/
/*! no static exports found */function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},"../../node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/adaptativeVisualIdentity/adaptativeVisualIdentity.ts":
/*!******************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/adaptativeVisualIdentity.ts ***!
  \******************************************************************/
/*! exports provided: AdaptativeVisualIdentity */function(t,e,n){"use strict";n.r(e),n.d(e,"AdaptativeVisualIdentity",(function(){return g}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! i18next */"i18next"),s=n.n(r),a=n(/*! @gdk/core */"@gdk/core"),u=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),c=n(/*! ../loading */"./src/loading/index.ts"),l=n(/*! ./events */"./src/adaptativeVisualIdentity/events.ts"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},p=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(t){function e(e,n){var i=t.call(this,null,null,!1)||this;return i.emitter=new o.utils.EventEmitter,i.background=null,i.loadingView=null,i.introductionView=null,i.inGameView=null,i.lockView=null,i._files={},i._soundEnabled=!0,i.game=e,i._config=n,i.parameters=i._config.parameters||{},o.ticker.shared.autoStart=!1,a.Loader.register(new u.FontLoader),i.background=new o.Graphics,i.background.resize=new u.Resize(u.Resize.cover),i.background.interactive=!0,i._bindEvents(),i}return d(e,t),e.prototype.getIdentity=function(t){return h(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:switch(n.p="".concat(this.game.gameConfig.frameworkPath||".").concat(a.Tools.getFolder(this.game.gameConfig.modules.paths["@gdk/gamekit"]),"/"),t){case"fdj":return[3,1];case"fdj_wizz":return[3,3];case"ds":return[3,5];case"nt":return[3,7];case"svs":return[3,9];case"lor":return[3,11];case"fgs":return[3,13];case"fgs_nt":return[3,15];case"fgs_ds":return[3,17];case"fgs_szk":return[3,19];case"fgs_ees":return[3,21];case"vks":return[3,23]}return[3,25];case 1:return[4,n.e(/*! import() | fdj */"fdj").then(n.bind(null,/*! ./identities/fdj */"./src/adaptativeVisualIdentity/identities/fdj/index.ts"))];case 2:return[2,e.sent()];case 3:return this.background.visible=!1,[4,n.e(/*! import() | fdj_wizz */"fdj_wizz").then(n.bind(null,/*! ./identities/fdj_wizz */"./src/adaptativeVisualIdentity/identities/fdj_wizz/index.ts"))];case 4:return[2,e.sent()];case 5:return[4,n.e(/*! import() | ds */"ds").then(n.bind(null,/*! ./identities/danskeSpil */"./src/adaptativeVisualIdentity/identities/danskeSpil/index.ts"))];case 6:return[2,e.sent()];case 7:return[4,n.e(/*! import() | nt */"nt").then(n.bind(null,/*! ./identities/norskTipping */"./src/adaptativeVisualIdentity/identities/norskTipping/index.ts"))];case 8:return[2,e.sent()];case 9:return[4,n.e(/*! import() | svs */"svs").then(n.bind(null,/*! ./identities/svenskaSpel */"./src/adaptativeVisualIdentity/identities/svenskaSpel/index.ts"))];case 10:return[2,e.sent()];case 11:return[4,n.e(/*! import() | lor */"lor").then(n.bind(null,/*! ./identities/lor */"./src/adaptativeVisualIdentity/identities/lor/index.ts"))];case 12:return[2,e.sent()];case 13:return[4,n.e(/*! import() | fgs */"fgs").then(n.bind(null,/*! ./identities/fgs */"./src/adaptativeVisualIdentity/identities/fgs/index.ts"))];case 14:return[2,e.sent()];case 15:return[4,Promise.all(/*! import() | fgs_nt */[n.e("fgs"),n.e("fgs_nt")]).then(n.bind(null,/*! ./identities/fgs_nt */"./src/adaptativeVisualIdentity/identities/fgs_nt/index.ts"))];case 16:return[2,e.sent()];case 17:return[4,Promise.all(/*! import() | fgs_ds */[n.e("fgs"),n.e("fgs_ds")]).then(n.bind(null,/*! ./identities/fgs_ds */"./src/adaptativeVisualIdentity/identities/fgs_ds/index.ts"))];case 18:return[2,e.sent()];case 19:return[4,Promise.all(/*! import() | fgs_szk */[n.e("fgs"),n.e("fgs_szk")]).then(n.bind(null,/*! ./identities/fgs_szk */"./src/adaptativeVisualIdentity/identities/fgs_szk/index.ts"))];case 20:return[2,e.sent()];case 21:return[4,Promise.all(/*! import() | fgs_ees */[n.e("fgs"),n.e("fgs_ees")]).then(n.bind(null,/*! ./identities/fgs_ees */"./src/adaptativeVisualIdentity/identities/fgs_ees/index.ts"))];case 22:return[2,e.sent()];case 23:return[4,n.e(/*! import() | vks */"vks").then(n.bind(null,/*! ./identities/veikkaus */"./src/adaptativeVisualIdentity/identities/veikkaus/index.ts"))];case 24:return[2,e.sent()];case 25:return[2,null]}}))}))},e.prototype.init=function(e){return h(this,void 0,void 0,(function(){var n,i,o,r,l,d,h,g,m,v=this;return p(this,(function(p){switch(p.label){case 0:return[4,this.loader.configureFromTheme("vi",this.game.settings.language,"".concat(this._config.lottery,"/").concat(this._config.theme,"/"))];case 1:return p.sent(),[4,this.loader.load()];case 2:return p.sent(),(n=this.loader.get("vi-i18n-base"))&&s.a.addResourceBundle(this.game.settings.language,"game",n,!0,!0),(i=this.loader.get("vi-i18n"))&&s.a.addResourceBundle(this.game.settings.language,"game",i,!0,!0),[4,this.getIdentity(this._config.lottery)];case 3:if(o=p.sent(),this.loadingView=new o.LoadingView(this),this.introductionView=new o.IntroductionView(this),this.inGameView=new o.InGameView(this),this.lockView=new o.LockView(this),this.state=new a.State({loading:{view:this.loadingView},introduction:{view:this.introductionView},game:{view:this.inGameView},lock:{view:this.lockView}}),r=this.loader.get("project"),this.skin=r.skin,this.loader.remove("project"),u.ContainerImporter.customContainerCreator=function(t,e){return c.ProjectLoader.customContainerLoader(t,v.loader.baseUrl,e,r)},u.AssetStore.parse(r.assets,this.loader.baseUrl),r.views.forEach((function(t){return u.StateImporter.importView(v.state.states[t.stateName].view,t,v.loader.baseUrl,r)})),t.prototype.start.call(this),this.game.gameConfig.gameParameters.overrideOnMultipleLoads)this.game.pixiLoader.overrideOnMultipleLoads=!0;else try{for(l=f(this.loader.loaders),d=l.next();!d.done;d=l.next())(h=d.value)instanceof a.HowlerLoader||h.clear()}catch(t){g={error:t}}finally{try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(g)throw g.error}}return this.game.lockStage.addChild(this.lockView),this.lockView.orientation=this.game.settings.orientation,this.game.resize(),this.onInitialized&&this.onInitialized(),this.game.com.bridge.executeAction("GAME_LOADING"),e&&e(),[2]}}))}))},e.prototype.showLoadingView=function(){var t=this;this.game.stage.addChild(this.loadingView),this.game.loader.onProgress=function(e){return t.loadingView.onProgress(e)}},e.prototype.showIntroduction=function(t){return h(this,void 0,void 0,(function(){var e=this;return p(this,(function(n){switch(n.label){case 0:return this.game.stage.addChild(this.introductionView),[4,this.state.to("introduction")];case 1:return n.sent(),[2,new Promise((function(n){e.introductionView.animate((function(){e.emitter.emit(l.EVisualIdentityEvent.IntroductionShown),t&&t(),n()}))}))]}}))}))},e.prototype.showInGame=function(){this.game.stage.addChild(this.inGameView),this.game.stage.addChild(this.introductionView),this.state.to("game")},e.prototype.hide=function(){var t=this;this.game.stage.removeChild(this.background),Object.keys(this.state.states).forEach((function(e){t.state.states[e].view.visible=!1}))},e.prototype.emit=function(t,e){return this.emitter.emit(t,e)},e.prototype._fillBackground=function(t,e){this.background instanceof o.Graphics&&(void 0===e&&(e=.4),this.background.beginFill(t,e),this.background.clear(),this.background.drawRect(0,0,1,1),this.background.endFill(),this.background.hitArea=new o.Rectangle(0,0,this.game.renderer.width,this.game.renderer.height))},e.prototype._bindEvents=function(){var t=this;window.addEventListener("resize",(function(){return t.emitter.emit("resize")})),this.emitter.on(l.EVisualIdentityEvent.ShowSettings,(function(){var e=t.game.gameConfig.behavioursParameters[t.game.gameConfig.selectedBehaviour];t._fillBackground(0,e.settingsBackgroundOpacity),t.game.stage.addChild(t.background),t.game.stage.addChild(t.inGameView)})),this.emitter.on(l.EVisualIdentityEvent.HideSettings,(function(){t.game.stage.removeChild(t.background)})),this.emitter.on(l.EVisualIdentityAction.ShowScratchSettings,(function(e){e?(t._fillBackground(0,.4),t.game.stage.addChild(t.background)):t.game.stage.removeChild(t.background),t.game.stage.addChild(t.inGameView)})),this.emitter.on(l.EVisualIdentityEvent.SetScratchConfiguration,(function(t){u.ScratchSolver.scratchs.forEach((function(e){e.emitterDatas=t.emitterDatas,e.revealEmitterDatas=t.revealEmitterDatas,t.pointer.addTarget(e)}))})),this.emitter.on(l.EVisualIdentityAction.SoundEnabled,(function(e){t._soundEnabled=e})),this.emitter.on(l.EVisualIdentityEvent.ShowRules,(function(){return t.onShowRules&&t.onShowRules()})),this.emitter.on(l.EVisualIdentityEvent.ShowMainRules,(function(){return t.onShowMainRules&&t.onShowMainRules()}))},Object.defineProperty(e.prototype,"settingsEnabled",{set:function(t){this.emitter.emit(l.EVisualIdentityAction.SettingsEnabled,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"soundEnabled",{get:function(){return this._soundEnabled},set:function(t){this._soundEnabled=t,this.emitter.emit(l.EVisualIdentityAction.SoundEnabled,t)},enumerable:!1,configurable:!0}),e}(a.GameCore)},"./src/adaptativeVisualIdentity/events.ts":
/*!************************************************!*\
  !*** ./src/adaptativeVisualIdentity/events.ts ***!
  \************************************************/
/*! exports provided: EVisualIdentityEvent, EVisualIdentityAction */function(t,e,n){"use strict";var i,o;n.r(e),n.d(e,"EVisualIdentityEvent",(function(){return i})),n.d(e,"EVisualIdentityAction",(function(){return o})),function(t){t.IntroductionShown="introductionShown",t.IntroductionComplete="introductionComplete",t.ShowSettings="showsettings",t.HideSettings="hidesettings",t.ShowRules="showrules",t.HideRules="hiderules",t.ShowMainRules="showmainrules",t.SoundStatusChanged="soundstatuschanged",t.QuitGame="quitgame",t.ConfirmQuitGame="confirmQuitGame",t.ShowWinningTable="showwinningtable",t.AboutGame="aboutGame",t.SetScratchConfiguration="setscratchconfiguration",t.Tutorial="tutorial",t.SwitchGameMode="switchgamemode",t.GameBlurred="gameblurred",t.GameFocused="gamefocused",t.AutoButton="autobutton"}(i||(i={})),function(t){t.SettingsEnabled="settingsEnabled",t.SetPurse="setPurse",t.RulesEnabled="rulesEnabled",t.SetGameReady="setGameReady",t.ShowScratchSettings="showScratchSettings",t.UpdateDesign="updateDesign",t.AddControlButton="addControlButton",t.WizzSetRules="wizzSetRules",t.WizzSetConfig="wizzSetConfig",t.WizzGetPursesContainers="wizzGetPursesContainer",t.WizzGetBottomContainer="wizzGetBottomContainer",t.WizzGetWaitingContainer="wizzGetWaitingContainer",t.WizzOpenCanceled="wizzOpenCanceled",t.WizzOpenStopped="wizzOpenStopped",t.WizzOpenReconnection="wizzOpenReconnection",t.WizzCloseReconnection="wizzCloseReconnection",t.WizzOpenBet="wizzOpenBet",t.WizzOpenWaitingRoom="wizzOpenWaitingRoom",t.WizzCloseWaitingRoom="wizzCloseWaitingRoom",t.WizzCloseAllPopups="wizzCloseAllPopups",t.WizzUpdatePurse="wizzUpdatePurse",t.WizzUpdateGain="wizzUpdateGain",t.WizzGetAvatars="wizzGetAvatars",t.WizzAddLobbyPlayer="wizzAddLobbyPlayer",t.WizzGetAvatarSlots="wizzGetAvatarSlots",t.TutorialVisible="tutorialVisible",t.SoundEnabled="soundEnabled",t.AutoEnabled="autoEnabled"}(o||(o={}))},"./src/adaptativeVisualIdentity/identities/danskeSpil/components/time.ts":
/*!*******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/danskeSpil/components/time.ts ***!
  \*******************************************************************************/
/*! exports provided: Time */function(t,e,n){"use strict";n.r(e),n.d(e,"Time",(function(){return s}));var i,o=n(/*! pixi.js */"pixi.js"),r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){var e=t.call(this)||this;return e.label=null,e.iconBlack=null,e.iconWhite=null,e._hours=-1,e._minutes=-1,e}return r(e,t),Object.defineProperty(e.prototype,"color",{set:function(t){this.iconBlack.visible="black"===t||"#000000"===t||"#000"===t,this.iconWhite.visible=!this.iconBlack.visible,this.label.styles.default.fill=t,this.label.text=this.label.text},enumerable:!1,configurable:!0}),e.prototype.setTime=function(t){var e=new Date(t),n=e.getHours(),i=e.getMinutes();n===this._hours&&i===this._minutes||(this.label.text="".concat((n<10?"0":"")+n,":").concat((i<10?"0":"")+i),this._hours=n,this._minutes=i)},e.prototype.renderWebGL=function(e){this.setTime(Date.now()),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.setTime(Date.now()),t.prototype._renderCanvas.call(this,e)},e}(o.Container)},"./src/adaptativeVisualIdentity/identities/danskeSpil/views/bottomBar.ts":
/*!*******************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/danskeSpil/views/bottomBar.ts ***!
  \*******************************************************************************/
/*! exports provided: BottomBar */function(t,e,n){"use strict";n.r(e),n.d(e,"BottomBar",(function(){return a}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! ../components/time */"./src/adaptativeVisualIdentity/identities/danskeSpil/components/time.ts"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var i=t.call(this)||this;return i.vi=e,i.inGameView=n,i.bottomOverlay=null,i.settingsButton=null,i.time=new r.Time,i._buttons=[],i._buttonsLeft=[],i._buttonsRight=[],i}return s(e,t),e.prototype.onResize=function(){var t=this.vi.game.renderer.width/this.vi.game.renderer.resolution,e=1/this.inGameView.scaleXY;this.dockingBounds.width=Math.max(this.inGameView.dockingBounds.width,t*e);var n=0,i=0;this._buttonsLeft.forEach((function(t){n=Math.max(n,t.width)})),this._buttonsRight.forEach((function(t){i=Math.max(i,t.width)})),Math.max(n,i);this._buttonsLeft.forEach((function(t){t.docking.x=-.5*(i+-10)})),this._buttonsRight.forEach((function(t){t.docking.x=.5*(n+-10)}))},e.prototype.addButton=function(t){this._buttons.push(t),t.docking.x<0?this._buttonsLeft.push(t):t.docking.x>0&&this._buttonsRight.push(t),this.addChild(t)},e.height=90,e}(o.Container)},"./src/adaptativeVisualIdentity/identities/fgs/components/messagePopin.ts":
/*!********************************************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identities/fgs/components/messagePopin.ts ***!
  \********************************************************************************/
/*! exports provided: MessagePopin */function(t,e,n){"use strict";n.r(e),n.d(e,"MessagePopin",(function(){return d}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! gsap */"gsap"),s=n(/*! i18next */"i18next"),a=n.n(s),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},l=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=new o.Rectangle(35,20,35,30),e.spacing=new o.Point(15,30),e.background=null,e.title=null,e.body=null,e.overlay=null,e._hidden=!1,e._buttonsStack=[],e._buttons=[],e._buttonsByName=[],e._buttonsStackMinSize=0,e._primary=null,e._secondary=null,e._cancel=null,e._close=null,e}return u(e,t),e.prototype.onLoaded=function(){var t=this;[this._primary,this._secondary,this._cancel,this._close].forEach((function(e){t._buttonsStackMinSize=Math.max(t._buttonsStackMinSize,e.nineSliceMinSize.x),e.visible=!1,t.removeChild(e)})),this.hide(0)},e.prototype.openFromi18n=function(t,n){return void 0===n&&(n={}),c(this,void 0,void 0,(function(){var i;return l(this,(function(o){return(i=this.getFromi18n(t,n))?[2,this.open(i)]:[2,{error:e.ERROR_NO_POPIN}]}))}))},e.prototype.getFromi18n=function(t,e){return void 0===e&&(e={}),a.a.t(t,Object.assign(e,{returnObjects:!0,defaultValue:null}))},e.prototype.open=function(t){return c(this,void 0,void 0,(function(){var e=this;return l(this,(function(n){switch(n.label){case 0:return this._pending=t,this.parent?(this.addOverlay(),this.removeButtons(),this._pending.buttons.forEach((function(n){var i=e["_".concat(n.type)].clone();i&&(i.setName("".concat(t.name,":").concat(n.name)),i.visible=!0,e.addChild(i),"close"!==n.type&&(i.label=n.label,e._buttonsStack.push(i)),e._buttons.push(i),e._buttonsByName[n.name]=i,i.on("pointertap",(function(){return c(e,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.hide()];case 1:return t.sent(),n.exit||"close"===n.type?this._pendingReject(n.value):this._pendingResolve(n.value),[2]}}))}))})))})),this._resizeBackground(),[4,this.show()]):[2,Promise.reject({error:"popin isn't in the display list (it doesn't have a parent)"})];case 1:return n.sent(),[4,new Promise((function(t,n){e._pendingResolve=t,e._pendingReject=n})).then((function(t){return{result:t}}),(function(t){return{error:t}}))];case 2:return[2,n.sent()]}}))}))},e.prototype.show=function(t){return void 0===t&&(t=.2),c(this,void 0,void 0,(function(){var e=this;return l(this,(function(n){return[2,new Promise((function(n){e._hidden?(e.visible=!0,r.TweenMax.fromTo(e,t,{scaleXY:.85,alpha:0},{scaleXY:1,alpha:1,ease:r.Cubic.easeOut,onComplete:function(){e.buttonsSetEnabled(!0),n()}})):n(),e._hidden=!1}))]}))}))},e.prototype.hide=function(t){return void 0===t&&(t=.2),c(this,void 0,void 0,(function(){var e=this;return l(this,(function(n){return[2,new Promise((function(n){e.buttonsSetEnabled(!1),r.TweenMax.fromTo(e,t,{scaleXY:1,alpha:1},{scaleXY:1.075,alpha:0,ease:r.Cubic.easeOut,onComplete:function(){e.visible=!1,e.removeOverlay(),n(),e.removeButtons()}}),e._hidden=!0}))]}))}))},Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttonsByName},enumerable:!1,configurable:!0}),e.prototype._resizeBackground=function(){var t=this;this.title.docking.y=this.padding.top,this.title.height=0,this.title.text="",this.title.width=0,this.body.height=0,this.body.text="",this.body.width=0;var e=this._buttonsStack.filter((function(t){return t.visible})),n=0,i=0;e.forEach((function(e){e.nineSliceMinSize.x=t._buttonsStackMinSize,e.label=e.label,n=Math.max(n,e.height),i=Math.max(i,e.width)}));var o=e.length*i+this.spacing.x*(e.length-1);this.title.width=Math.max(o,this.title.width),this.title.text=this._pending.title,this.body.width=Math.max(this.title.width,this.body.width),this.body.docking.y=this.title.docking.y+this.title.height+this.spacing.y,this.body.text=this._pending.body,""===this.body.text?(this.body.text=".",this.body.visible=!1):this.body.visible=!0;var r=Math.max(o,this.title.width,this.body.width),s=this.title.height+this.body.height+n+2*this.spacing.y;e.forEach((function(e,n){e.nineSliceMinSize.x=i,e.label=e.label,e.docking.x=.5*(r-o)+(i+t.spacing.x)*n+t.padding.x,e.docking.y=-t.padding.height,e.enabled=!0})),this.background.width=r+this.padding.x+this.padding.width,this.background.height=s+this.padding.y+this.padding.height,this.dockingBounds.setBounds(this.background.width,this.background.height)},e.prototype.addOverlay=function(){this.parent&&(this.parent.addChild(this.overlay),this.parent.addChild(this))},e.prototype.removeOverlay=function(){this.parent&&this.overlay.parent&&this.parent.removeChild(this.overlay)},e.prototype.buttonsSetEnabled=function(t){this._buttons.forEach((function(e){return e.enabled=t}))},e.prototype.buttonsSetInteractive=function(t){this._buttons.forEach((function(e){return e.interactive=t}))},e.prototype.removeButtons=function(){var t=this;this._buttons.forEach((function(e){e.parent&&(t.removeChild(e),e.interactive=!1,e.removeAllListeners(),e.destroy())})),this._buttonsStack=[],this._buttons=[]},e.ERROR_NO_POPIN="Error: requested popin doesn't exist in i18n",e}(o.Container)},"./src/adaptativeVisualIdentity/identity.ts":
/*!**************************************************!*\
  !*** ./src/adaptativeVisualIdentity/identity.ts ***!
  \**************************************************/
/*! no exports provided */function(t,e,n){"use strict";n.r(e)},"./src/adaptativeVisualIdentity/index.ts":
/*!***********************************************!*\
  !*** ./src/adaptativeVisualIdentity/index.ts ***!
  \***********************************************/
/*! exports provided: AdaptativeVisualIdentity, EVisualIdentityEvent, EVisualIdentityAction, MessagePopin */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/adaptativeVisualIdentity.ts");n.d(e,"AdaptativeVisualIdentity",(function(){return i.AdaptativeVisualIdentity}));var o=n(/*! ./events */"./src/adaptativeVisualIdentity/events.ts");n.d(e,"EVisualIdentityEvent",(function(){return o.EVisualIdentityEvent})),n.d(e,"EVisualIdentityAction",(function(){return o.EVisualIdentityAction}));n(/*! ./identity */"./src/adaptativeVisualIdentity/identity.ts");var r=n(/*! ./identities/fgs/components/messagePopin */"./src/adaptativeVisualIdentity/identities/fgs/components/messagePopin.ts");n.d(e,"MessagePopin",(function(){return r.MessagePopin}))},"./src/com/com.ts":
/*!************************!*\
  !*** ./src/com/com.ts ***!
  \************************/
/*! exports provided: Com */function(t,e,n){"use strict";n.r(e),n.d(e,"Com",(function(){return d}));var i=n(/*! @falcon/bridge */"@falcon/bridge"),o=n(/*! i18next */"i18next"),r=n.n(o),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! ./messageManager */"./src/com/messageManager/index.ts"),u=n(/*! ./popin */"./src/com/popin/index.ts"),c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},l=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},d=function(){function t(t){this.bridge=null,this.notifications=[],this.activeLanguage="fr",this.messageManager=new a.MessageManager(this),this.userInformation=null,this.game=t}return t.initialize=function(){return i.Bridge.initialize()},t.prototype.init=function(){return c(this,void 0,void 0,(function(){var t,e;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.bridge=i.Bridge.getBridge(),t=this,[4,this.bridge.getCurrentGameConfiguration()];case 1:return t.activeLanguage=n.sent().selectedLocale,[3,3];case 2:throw e=n.sent(),this.onError(e),e;case 3:return[2]}}))}))},t.prototype.initI18n=function(){return c(this,void 0,void 0,(function(){var t;return l(this,(function(e){switch(e.label){case 0:return[4,this.bridge.loadLocales(this.activeLanguage)];case 1:return t=e.sent(),r.a.addResourceBundle(this.activeLanguage,"game",t,!0,!1),[2]}}))}))},t.prototype.getPurse=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.bridge.channel.getPurseInformation()];case 1:return[2,t.sent().displayedAmount];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))},t.prototype.getAvatarUrl=function(t){return this.bridge.platform.getAvatarUrl(t)},t.prototype.getPlayerCurrency=function(t,e,n){return c(this,void 0,void 0,(function(){return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getPlayerCurrency(t,e,n,this.bridge.channel.lotteryCode)];case 1:return[2,i.sent()];case 2:return i.sent(),[2,null];case 3:return[2]}}))}))},t.prototype.getUserInformation=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.bridge.getUserInformation()]}))}))},t.prototype.preBet=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.bridge.preBet(t)]}))}))},t.prototype.updateGameMode=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.bridge.updateGameMode(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getGameMode=function(){return this.bridge.getGameMode()},t.prototype.getOpenGameParameters=function(){return this.bridge.getOpenGameParameters()},t.prototype.getTicketToReplay=function(t){return void 0===t&&(t=!1),c(this,void 0,void 0,(function(){var e,n,i;return l(this,(function(o){switch(o.label){case 0:if(null===(e=this.bridge.getTicketIdToReplay())||t)return[2,null];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.bridge.platform.getItgTicket(e)];case 2:return(n=o.sent())&&this.populateNotifications(n),[2,n];case 3:throw i=o.sent(),this.onError(i),i;case 4:return[2]}}))}))},t.prototype.createItgBet=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.createITGBet(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.getItgTickets=function(t,e){return void 0===e&&(e=!1),c(this,void 0,void 0,(function(){var n,i;return l(this,(function(o){switch(o.label){case 0:if(e)return[2,[]];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.bridge.platform.getItgTickets(t)];case 2:return n=o.sent(),this.populateNotifications(n),[2,n];case 3:throw i=o.sent(),this.onError(i),i;case 4:return[2]}}))}))},t.prototype.getItgTicket=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getItgTicket(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.updateItgTicket=function(t,e,n){return void 0===n&&(n=!0),c(this,void 0,void 0,(function(){var i,o;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.bridge.platform.updateItgBet(t,e)];case 1:return i=r.sent(),this.populateNotifications(i),[2,i];case 2:throw o=r.sent(),n&&this.onError(o),o;case 3:return[2]}}))}))},t.prototype.claimItgBet=function(t,e){return c(this,void 0,void 0,(function(){var n,i;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.bridge.platform.claimItgBet(t,e)];case 1:return n=o.sent(),this.populateNotifications(n),[2,n];case 2:throw i=o.sent(),this.onError(i),i;case 3:return[2]}}))}))},t.prototype.createMtrBet=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.createMtrBet(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:return n=i.sent(),this.onError(n),[3,3];case 3:return[2]}}))}))},t.prototype.getContext=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getGamifContext({applicationId:"GAM",serviceName:t})];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:return n=i.sent(),this.onError(n),[3,3];case 3:return[2]}}))}))},t.prototype.getModel=function(t,e){return c(this,void 0,void 0,(function(){var n,i;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.bridge.platform.getMtrModel(t,e)];case 1:return n=o.sent(),this.populateNotifications(n),[2,n];case 2:return i=o.sent(),this.onError(i),[3,3];case 3:return[2]}}))}))},t.prototype.getPrsTicketInfos=function(){return c(this,void 0,void 0,(function(){var t,e;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.bridge.platform.getPrsTicketInfos()];case 1:return t=n.sent(),this.populateNotifications(t),[2,t];case 2:return e=n.sent(),this.onError(e),[3,3];case 3:return[2]}}))}))},t.prototype.getMtrSessionToReplay=function(t,e){return void 0===e&&(e=!1),c(this,void 0,void 0,(function(){var n,i;return l(this,(function(o){switch(o.label){case 0:if("number"!=typeof(n=this.bridge.getTicketIdToReplay())&&"string"!=typeof n)return[2,void 0];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.bridge.platform.getMtrSession(t,e,n.toString())];case 2:return[2,o.sent()];case 3:throw i=o.sent(),this.onError(i),i;case 4:return[2]}}))}))},t.prototype.getMtrSession=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=!1),c(this,void 0,void 0,(function(){var e;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getMtrSession(t,n)];case 1:return[2,i.sent()];case 2:return e=i.sent(),this.onError(e),[3,3];case 3:return[2]}}))}))},t.prototype.updateMtrBet=function(t,e){return void 0===e&&(e=!0),c(this,void 0,void 0,(function(){var n,i,o;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.bridge.platform.updateMtrBet(t)];case 1:return n=r.sent(),this.populateNotifications(n),[2,n];case 2:if(i=r.sent(),!e)throw i;return o=this.t("refresh-motors","error"),s.tracker.track(new s.ErrorEvent(o)),this.messageManager.display({code:void 0,type:a.EMessageType.Immediate,popup:{level:u.EPopinLevel.Error,text:o,closable:!1,buttons:[{label:this.t("refresh","ui"),action:u.PopinButtonAction.RefreshGame}]}}).finally(),[3,3];case 3:return[2]}}))}))},t.prototype.getMtpParameters=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getMtpModel(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.getMtpRooms=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getMtpRooms(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.enterMtpRoomAndBet=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.enterMtpRoomAndBet(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.createMtpBet=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.createMtpBet(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.getMtpSession=function(t,e){return c(this,void 0,void 0,(function(){var n,i;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.bridge.platform.getMtpSession(t,e)];case 1:return n=o.sent(),this.populateNotifications(n),[2,n];case 2:throw i=o.sent(),this.onError(i),i;case 3:return[2]}}))}))},t.prototype.updateMtpBet=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.updateMtpBet(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.getNotificationsChannel=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){try{return[2,this.bridge.platform.createNotificationsChannel(t)]}catch(t){throw this.onError(t),t}return[2]}))}))},t.prototype.enterMtpRoom=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.enterMtpRoom(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.getCurrentPlayerInformations=function(){return c(this,void 0,void 0,(function(){var t,e;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.bridge.platform.getCurrentPlayerInfo()];case 1:return t=n.sent(),this.populateNotifications(t),[2,t];case 2:throw e=n.sent(),this.onError(e),e;case 3:return[2]}}))}))},t.prototype.getPlayersInformations=function(t){return c(this,void 0,void 0,(function(){var e,n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.bridge.platform.getPlayersInfo(t)];case 1:return e=i.sent(),this.populateNotifications(e),[2,e];case 2:throw n=i.sent(),this.onError(n),n;case 3:return[2]}}))}))},t.prototype.trigger=function(t,e){var n=this,i=this.bridge.executeAction(t,e);i&&i.catch((function(t){n.onError(t)}))},t.prototype.t=function(t,e){if(!this.activeLanguage)throw new Error("no active language sets");var n="bridge__".concat(e,"__").concat(t);return r.a.exists(n,{keySeparator:"__"})?r.a.t(n,{keySeparator:"__"}):r.a.t("bridge.error.default")},t.prototype.showNotification=function(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return 0===this.notifications.length?t?[2,t()]:[2]:(e=this.notifications.shift().id,[4,this.messageManager.display({code:e,type:a.EMessageType.Immediate,popup:{level:u.EPopinLevel.Info,text:this.t(e,"server"),buttons:[{label:this.t("close","ui")||" Close",action:u.PopinButtonAction.ClosePopin}]}})]);case 1:return n.sent(),[4,this.showNotification(t)];case 2:return[2,n.sent()]}}))}))},t.prototype.sendSoundStatus=function(t){this.bridge.emitEvent("SOUND_STATUS",t)},t.prototype.onError=function(t){var e=this.t("default","error")||"Unknown error";t.code&&(e=this.t(t.code,"error")),s.tracker.track(new s.ErrorEvent(e)),this.messageManager.display({code:t?t.code:"default",type:a.EMessageType.Immediate,popup:{level:u.EPopinLevel.Error,text:e,closable:!1,buttons:[{label:this.t("close","ui")||"Close game",action:u.PopinButtonAction.CloseGame}]},context:t.context}).catch((function(){}))},t.prototype.populateNotifications=function(t){var e=t.serverMessage;Array.isArray(e)&&e.length>0&&(this.notifications=[],(e=e.filter((function(t){return"NO_ACTION"!==t.id}))).length>0&&this.notifications.push(e[0])),t.message&&this.messageManager.push(t.message).finally()},t}()},"./src/com/index.ts":
/*!**************************!*\
  !*** ./src/com/index.ts ***!
  \**************************/
/*! exports provided: Com, Popin, EPopinLevel, PopinButtonAction, PopinLinkTarget, EMessageType, MessageManager */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./com */"./src/com/com.ts");n.d(e,"Com",(function(){return i.Com}));var o=n(/*! ./popin/index */"./src/com/popin/index.ts");n.d(e,"Popin",(function(){return o.Popin})),n.d(e,"EPopinLevel",(function(){return o.EPopinLevel})),n.d(e,"PopinButtonAction",(function(){return o.PopinButtonAction})),n.d(e,"PopinLinkTarget",(function(){return o.PopinLinkTarget}));var r=n(/*! ./messageManager/index */"./src/com/messageManager/index.ts");n.d(e,"EMessageType",(function(){return r.EMessageType})),n.d(e,"MessageManager",(function(){return r.MessageManager}))},"./src/com/messageManager/definitions.ts":
/*!***********************************************!*\
  !*** ./src/com/messageManager/definitions.ts ***!
  \***********************************************/
/*! exports provided: EMessageType */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"EMessageType",(function(){return i})),function(t){t.Immediate="immediate",t.End="end"}(i||(i={}))},"./src/com/messageManager/index.ts":
/*!*****************************************!*\
  !*** ./src/com/messageManager/index.ts ***!
  \*****************************************/
/*! exports provided: EMessageType, MessageManager */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./definitions */"./src/com/messageManager/definitions.ts");n.d(e,"EMessageType",(function(){return i.EMessageType}));var o=n(/*! ./messageManager */"./src/com/messageManager/messageManager.ts");n.d(e,"MessageManager",(function(){return o.MessageManager}))},"./src/com/messageManager/messageManager.ts":
/*!**************************************************!*\
  !*** ./src/com/messageManager/messageManager.ts ***!
  \**************************************************/
/*! exports provided: MessageManager */function(t,e,n){"use strict";n.r(e),n.d(e,"MessageManager",(function(){return a}));var i=n(/*! ./definitions */"./src/com/messageManager/definitions.ts"),o=n(/*! ../popin/index */"./src/com/popin/index.ts"),r=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=function(){function t(t){this._messages=[],this._messageDisplayStack=Promise.resolve(),this._com=t}return t.prototype.push=function(t){return r(this,void 0,void 0,(function(){var e=this;return s(this,(function(n){switch(n.label){case 0:return Array.isArray(t)?[4,Promise.all(t.map((function(t){return e._pushOne(t)})))]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._pushOne(t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype.reset=function(){this._messages.length=0},t.prototype.onGameEnd=function(){return r(this,void 0,void 0,(function(){var t=this;return s(this,(function(e){switch(e.label){case 0:return[4,Promise.all(this._messages.map((function(e){return t.display(e)})))];case 1:return e.sent(),this.reset(),[2]}}))}))},t.prototype.display=function(t){return r(this,void 0,void 0,(function(){var e=this;return s(this,(function(n){switch(n.label){case 0:return this._messageDisplayStack=this._messageDisplayStack.then((function(){return r(e,void 0,void 0,(function(){var e=this;return s(this,(function(n){switch(n.label){case 0:this._com.game.pause("messagemanager"),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,new Promise((function(n,i){e._com.bridge.executeAction("OPEN_POPUP",t).then(n).catch(i)}))];case 2:return n.sent(),[3,5];case 3:return n.sent(),this._com.game.showInteractivityOverlay(),[4,o.Popin.display(t.popup,{closeGame:function(){e._com.bridge.executeAction("CLOSE_GAME")},refreshGame:function(){window.location.reload()}})];case 4:return n.sent(),this._com.game.removeInteractivityOverlay(),[3,5];case 5:return this._com.game.unpause("messagemanager"),[2]}}))}))})),[4,this._messageDisplayStack];case 1:return n.sent(),[2]}}))}))},t.prototype._pushOne=function(t){return r(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return t.type!==i.EMessageType.Immediate?[3,2]:[4,this.display(t)];case 1:return e.sent(),[2];case 2:return this._messages.push(t),[2]}}))}))},t}()},"./src/com/popin/definitions.ts":
/*!**************************************!*\
  !*** ./src/com/popin/definitions.ts ***!
  \**************************************/
/*! exports provided: EPopinLevel, PopinButtonAction, PopinLinkTarget */function(t,e,n){"use strict";var i,o,r;n.r(e),n.d(e,"EPopinLevel",(function(){return i})),n.d(e,"PopinButtonAction",(function(){return o})),n.d(e,"PopinLinkTarget",(function(){return r})),function(t){t.Info="info",t.Warning="warning",t.Error="error"}(i||(i={})),function(t){t.Link="link",t.ClosePopin="closePopup",t.CloseGame="closeGame",t.RefreshGame="refreshGame",t.Callback="callback"}(o||(o={})),function(t){t.Blank="blank",t.Self="self"}(r||(r={}))},"./src/com/popin/index.ts":
/*!********************************!*\
  !*** ./src/com/popin/index.ts ***!
  \********************************/
/*! exports provided: Popin, EPopinLevel, PopinButtonAction, PopinLinkTarget */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./popin */"./src/com/popin/popin.ts");n.d(e,"Popin",(function(){return i.Popin}));var o=n(/*! ./definitions */"./src/com/popin/definitions.ts");n.d(e,"EPopinLevel",(function(){return o.EPopinLevel})),n.d(e,"PopinButtonAction",(function(){return o.PopinButtonAction})),n.d(e,"PopinLinkTarget",(function(){return o.PopinLinkTarget}))},"./src/com/popin/popin.ts":
/*!********************************!*\
  !*** ./src/com/popin/popin.ts ***!
  \********************************/
/*! exports provided: Popin */function(t,e,n){"use strict";n.r(e),n.d(e,"Popin",(function(){return u}));var i=n(/*! @gdk/core */"@gdk/core"),o=n(/*! ./definitions */"./src/com/popin/definitions.ts"),r=(n(/*! ./style.less */"./src/com/popin/style.less"),function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))}),s=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function t(e,n){this._definition=e,this._actions=n,this._configure(),t.instances.push(this)}return Object.defineProperty(t,"defaultOrientation",{set:function(e){var n,i;this._defaultOrientation=e;try{for(var o=a(t.instances),r=o.next();!r.done;r=o.next()){r.value.orientation=e}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},enumerable:!1,configurable:!0}),t.display=function(e,n){return r(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return[4,new t(e,n).display()];case 1:return i.sent(),[2]}}))}))},t.prototype.dispose=function(){var e=t.instances.indexOf(this);e>=0&&t.instances.splice(e,1)},Object.defineProperty(t.prototype,"orientation",{set:function(t){var e=this._domElement.querySelector(".gdk-popin");null!==e&&(e.classList.remove("portrait","landscape"),e.classList.add(t))},enumerable:!1,configurable:!0}),t.prototype.display=function(){return r(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(i){switch(i.label){case 0:return e=new Promise((function(t){n._notifyClosed=t})),t.wrapper.appendChild(this._domElement),[4,new Promise((function(t){return setTimeout(t,10)}))];case 1:return i.sent(),this._domElement.classList.add("show"),[4,e];case 2:return i.sent(),[2]}}))}))},t.prototype.close=function(){return r(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this._domElement.classList.contains("show")?(this._domElement.classList.remove("show"),this._notifyClosed(),[4,new Promise((function(t){return setTimeout(t,200)}))]):[2];case 1:return e.sent(),t.wrapper.removeChild(this._domElement),this.dispose(),[2]}}))}))},t.prototype._configure=function(){var e;this._domElement=document.createElement("div"),this._domElement.setAttribute("class","gdk-popin-background");var n=document.createElement("div");if(n.setAttribute("class",["gdk-popin","gdk-popin-"+this._definition.level.toString(),null!==(e=t._defaultOrientation)&&void 0!==e?e:""].join(" ").trim()),n.innerHTML+='<div class="gdk-popin-title">'.concat(this._definition.title||"&nbsp","</div>"),this._definition.titleStyle){var o=n.getElementsByClassName("gdk-popin-title")[0];i.Tools.assign(o.style,this._definition.titleStyle)}if(n.innerHTML+='<div class="gdk-popin-text">'.concat(this._definition.content||this._definition.text||"&nbsp","</div>"),this._definition.textStyle){var r=n.getElementsByClassName("gdk-popin-text")[0];i.Tools.assign(r.style,this._definition.textStyle)}if(this._definition.buttons&&this._definition.buttons.length){var s=this._getButtons();n.appendChild(s)}if(!1!==this._definition.closable){var a=this._getCloseCross();n.appendChild(a)}if(this._definition.style&&i.Tools.assign(n.style,this._definition.style),this._domElement.appendChild(n),this._definition.clickOutsideToClose){var u=this._getCloseLayer();this._domElement.appendChild(u)}},t.prototype._getButtons=function(){var t,e,n=document.createElement("div");n.setAttribute("class","gdk-popin-buttons");try{for(var i=a(this._definition.buttons),o=i.next();!o.done;o=i.next()){var r=o.value;n.appendChild(this._getButton(r))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype._getButton=function(t){var e=document.createElement("div");if(e.setAttribute("class","gdk-popin-button-wrapper"),e.innerHTML='<div class="gdk-popin-button gdk-popin-button-'.concat(t.action,'">').concat(t.label,"</div>"),t.style){var n=e.firstChild;i.Tools.assign(n.style,t.style)}return e.firstChild.addEventListener("click",this._getButtonAction(t)),e},t.prototype._getButtonAction=function(t){switch(t.action){case o.PopinButtonAction.ClosePopin:return this.close.bind(this);case o.PopinButtonAction.CloseGame:return this._actions.closeGame;case o.PopinButtonAction.RefreshGame:return this._actions.refreshGame;case o.PopinButtonAction.Callback:return t.callback.bind({},this);case o.PopinButtonAction.Link:return t.link?t.link.target===o.PopinLinkTarget.Self?function(){window.location.href=t.link.url}:function(){window.open(t.link.url)}:function(){};default:return function(){}}},t.prototype._getCloseCross=function(){var t=document.createElement("a");return t.setAttribute("class","gdk-popin-close"),t.addEventListener("click",this.close.bind(this)),t},t.prototype._getCloseLayer=function(){var t=document.createElement("div");return t.setAttribute("class","gdk-popin-click-layer"),t.addEventListener("click",this.close.bind(this)),t},t.instances=[],t}()},"./src/com/popin/style.less":
/*!**********************************!*\
  !*** ./src/com/popin/style.less ***!
  \**********************************/
/*! no static exports found */function(t,e,n){var i=n(/*! !../../../../../node_modules/css-loader!../../../../../node_modules/less-loader/dist/cjs.js!./style.less */"../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js!./src/com/popin/style.less");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../../../../node_modules/style-loader/lib/addStyles.js */"../../node_modules/style-loader/lib/addStyles.js")(i,o);i.locals&&(t.exports=i.locals)},"./src/ds/index.ts":
/*!*************************!*\
  !*** ./src/ds/index.ts ***!
  \*************************/
/*! exports provided: EGameStates, DSPopinsContainer */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./popinsContainer */"./src/ds/popinsContainer.ts");n.d(e,"EGameStates",(function(){return i.EGameStates})),n.d(e,"DSPopinsContainer",(function(){return i.DSPopinsContainer}))},"./src/ds/paginatedPopin.ts":
/*!**********************************!*\
  !*** ./src/ds/paginatedPopin.ts ***!
  \**********************************/
/*! exports provided: DSPaginatedPopin */function(t,e,n){"use strict";n.r(e),n.d(e,"DSPaginatedPopin",(function(){return p}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! ./popin */"./src/ds/popin.ts"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c="icons/color/bullet-",l="".concat(c,"on"),d="".concat(c,"off"),h="backgrounds/white/circle",p=function(t){function e(e){var n=t.call(this,e)||this;return n.bullets=[],n.slides=[],n.content.dockingBounds=new r.DockingBounds(s.DSPopin.minWidth,80),e.leftButtonLabel&&e.rightButtonLabel&&n.addButtons(e),e.slides.length>1?n.setSlides(e):n.setContent(e),n}return a(e,t),e.prototype.setContent=function(t){this.slideContainer=new o.Container,this.slideContainer.dockingBounds=new r.DockingBounds(0,0),this.content.addChild(this.slideContainer),this.bulletContainer=new o.Container;var e=t.slides[0];e.parent&&e.parent.removeChild(e),this.slides.push(e),this.slideContainer.addChild(e),e.dockingBounds.width>this.slideContainer.dockingBounds.width&&(this.slideContainer.dockingBounds.width=e.dockingBounds.width),e.dockingBounds.height>this.slideContainer.dockingBounds.height&&(this.slideContainer.dockingBounds.height=e.dockingBounds.height)},e.prototype.setSlides=function(t){var e,n;this.slideContainer=new o.Container,this.slideContainer.dockingBounds=new r.DockingBounds(0,0),this.content.addChild(this.slideContainer),this.bulletContainer=new o.Container;try{for(var i=u(t.slides),s=i.next();!s.done;s=i.next()){var a=s.value;a.parent&&a.parent.removeChild(a),this.slides.push(a),a.dockingBounds.width>this.slideContainer.dockingBounds.width&&(this.slideContainer.dockingBounds.width=a.dockingBounds.width),a.dockingBounds.height>this.slideContainer.dockingBounds.height&&(this.slideContainer.dockingBounds.height=a.dockingBounds.height);var c=new o.extras.AnimatedSprite([o.Texture.fromImage(d),o.Texture.fromImage(l)]);c.anchor.x=0,c.anchor.y=0,c.x=this.bullets.length*c.width,this.bulletContainer.addChild(c),this.bullets.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.bulletContainer.dockingBounds=new r.DockingBounds(this.bulletContainer.width,this.bulletContainer.height),this.bulletContainer.docking=new r.Docking(r.Docking.bottomCenterHorizontal),this.addChild(this.bulletContainer),this.setArrows()},e.prototype.show=function(e){void 0===e&&(e=!1),this.leftButton&&this.rightButton&&(this.leftButton.visible=e,this.rightButton.visible=e),this.closeButton.visible=!e,this.currentSlide=0,t.prototype.show.call(this)},Object.defineProperty(e.prototype,"currentSlide",{get:function(){return this._currentSlide},set:function(t){this.slides.length>1&&(t>=this.slides.length?t=0:t<0&&(t=this.slides.length-1),this.bullets.length>1&&(this.bullets[this._currentSlide].gotoAndStop(0),this.bullets[t].gotoAndStop(1)),this._currentSlide=t,this.slideContainer.children.length&&this.slideContainer.removeChildAt(0),this.slides.length&&this.slideContainer.addChild(this.slides[this.currentSlide]))},enumerable:!1,configurable:!0}),e.prototype.resizePopin=function(){this.content.dockingBounds.width=this.slideContainer.dockingBounds.width,this.leftButton&&this.leftButton.visible?(this.content.dockingBounds.height=this.slideContainer.dockingBounds.height,this.bullets.length>1&&(this.bulletContainer.docking.y=-150)):(this.content.dockingBounds.height=this.slideContainer.dockingBounds.height,this.bullets.length>1&&(this.bulletContainer.docking.y=-40)),this.bullets.length>1&&(this.content.dockingBounds.height+=60),this.content.dockingBounds.width<s.DSPopin.minWidth&&(this.content.dockingBounds.width=s.DSPopin.minWidth),t.prototype.resizePopin.call(this)},e.prototype.setArrows=function(){var t,e,n=this;try{for(var i=u(["previousButton","nextButton"]),s=i.next();!s.done;s=i.next()){var a=s.value;this[a]=new r.Button({idleTexture:h,overTexture:h,clickedTexture:h,disabledTexture:h}),this[a].isNineSlice=!0,this[a].scaleXY=1.4,this[a].dockingBounds=new r.DockingBounds(this[a].width,this[a].height),"previousButton"===a?this[a].docking=new r.Docking(r.Docking.centerVerticalLeft,0,20,!1):(this[a].docking=new r.Docking(r.Docking.centerVerticalRight,-0,20,!1),this[a].scaleX*=-1),this[a].pivot=new o.Point(50,45);var c=o.Sprite.fromFrame("icons/color/arrow");c.x=50,c.y=45,this[a].addChild(c),this.addChild(this[a])}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this._currentSlide=0,this.currentSlide=0,this.previousButton.on("pointertap",(function(){n.currentSlide--})),this.nextButton.on("pointertap",(function(){n.currentSlide++}))},e.prototype.addButtons=function(t){var e,n,i=this,o=function(e){a[e]=new r.Button({idleTexture:"buttons/primary/idle",overTexture:"buttons/primary/over",clickedTexture:"buttons/primary/idle",disabledTexture:"buttons/primary/idle"},{default:{fontName:"OpenSans-SemiBold",fontSize:s.DSPopin.buttonFontSize,fill:t.buttonColor?t.buttonColor:"#000000"}},t["".concat(e,"Label")]),a[e].isNineSlice=!0,a[e].backgroundNineSlice.leftWidth=30,a[e].backgroundNineSlice.topHeight=30,a[e].backgroundNineSlice.rightWidth=30,a[e].backgroundNineSlice.bottomHeight=40,a[e].nineSliceMinSize.x=320,a[e].nineSliceMinSize.y=70,a[e].nineSlicePadding.x=20,a[e].nineSlicePadding.y=21,a[e].nineSlicePadding.width=20,a[e].nineSlicePadding.height=22,a[e].on("pointertap",(function(){i.executeButtonCallback("leftButton"===e?t.onLeft:t.onRight)})),a.buttonStack.push(a[e],!1),a[e].label=a[e].label},a=this;try{for(var c=u(["leftButton","rightButton"]),l=c.next();!l.done;l=c.next()){o(l.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}},e.prototype.activateButtons=function(t){var e,n;try{for(var i=u(["leftButton","rightButton","closeButton"]),o=i.next();!o.done;o=i.next()){var r=o.value;this[r]&&(this[r].enabled=t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e}(s.DSPopin)},"./src/ds/popin.ts":
/*!*************************!*\
  !*** ./src/ds/popin.ts ***!
  \*************************/
/*! exports provided: DSPopin */function(t,e,n){"use strict";n.r(e),n.d(e,"DSPopin",(function(){return l}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},u=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},c="backgrounds/white/circle",l=function(t){function e(n){var i=t.call(this)||this;i.content=n.content||new o.Container,i.content.dockingBounds||(i.content.dockingBounds=new r.DockingBounds(0,0)),i.onClose=n.onClose,i.buttonStack=new r.Stackable({direction:"right",spacing:20}),i.buttonStack.width=0,i.buttonStack.height=0,i.buttonStack.dockingBounds=new r.DockingBounds,i.buttonStack.docking=new r.Docking(r.Docking.bottomCenterHorizontal),i.content.addChild(i.buttonStack),i.fill=new o.mesh.NineSlicePlane(o.Texture.fromFrame("card/fill"),30,30,30,30),i.addChild(i.fill),i.border=new o.mesh.NineSlicePlane(o.Texture.fromFrame("card/outline"),30,30,30,30),i.addChild(i.border),i.closeButton=new r.Button({idleTexture:c,overTexture:c,clickedTexture:c,disabledTexture:c}),i.closeButton.isNineSlice=!0,i.closeButton.scaleXY=1.1,i.closeButton.dockingBounds=new r.DockingBounds(1,1),i.closeButton.docking=new r.Docking(r.Docking.topRight,-20,20,!1),i.closeButton.pivot=new o.Point(50,45);var s=o.Sprite.fromFrame("icons/color/cross");s.x=50,s.y=45,i.closeButton.addChild(s),i.addChild(i.closeButton),i.closeButton.on("pointertap",(function(){i.executeButtonCallback(i.onClose)}));var a=n.titleColor?n.titleColor:"#000000";return i.title=new r.TextField(n.title,{default:{fontName:"OpenSans-SemiBold",fontSize:e.titleFontSize,fill:a,stroke:a,strokeOffsetX:0,strokeOffsetY:0,strokeWidth:1}},{noUpdate:!0}),i.title.freeze(),i.title.wordWrap=!0,i.title.width=e.minWidth,i.title.align=r.EAlign.Center,i.title.docking=new r.Docking(r.Docking.topCenterHorizontal,0,20),i.title.unfreeze(),i.addChild(i.title),i.addChild(i.content),i.dockingBounds=new r.DockingBounds,i}return s(e,t),e.prototype.resizePopin=function(){var t=Math.max(768,this.dockingBounds.width)-60-this.buttonStack.width-this.buttonStack.spacing,e=Math.min(t/3,30);this.buttonStack.spacing=e,this.buttonStack.dockingBounds.width=this.buttonStack.width,this.buttonStack.dockingBounds.height=this.buttonStack.docking.y=this.buttonStack.height;var n=this.title.y+this.title.height+30,i=this.title.width+60;this.content.y=n,n+=this.content.dockingBounds.height+30+this.buttonStack.height,this.content.dockingBounds.width+60>i&&(i=this.content.dockingBounds.width+60),this.fill.height=n,this.fill.width=i,this.border.height=n,this.border.width=i,this.dockingBounds.height=n,this.dockingBounds.width=i,this.updateTransform(),this.content.x=.5*(this.dockingBounds.width-this.content.dockingBounds.width)},e.prototype.show=function(){this.activateButtons(!0),this.parent&&this.resizePopin(),this.visible=!0},e.prototype.executeButtonCallback=function(t){return a(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:this.activateButtons(!1),e.label=1;case 1:return e.trys.push([1,4,,5]),t?[4,t()]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.visible=!1,[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))},e.minWidth=768,e.textFontSize=36,e.titleFontSize=50,e.buttonFontSize=36,e.menuButtonFontSize=32,e}(o.Container)},"./src/ds/popinsContainer.ts":
/*!***********************************!*\
  !*** ./src/ds/popinsContainer.ts ***!
  \***********************************/
/*! exports provided: EGameStates, DSPopinsContainer */function(t,e,n){"use strict";n.r(e),n.d(e,"EGameStates",(function(){return o})),n.d(e,"DSPopinsContainer",(function(){return _}));var i,o,r=n(/*! pixi.js */"pixi.js"),s=n(/*! i18next */"i18next"),a=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),u=n(/*! @falcon/bridge */"@falcon/bridge"),c=n(/*! ./twoButtonsPopin */"./src/ds/twoButtonsPopin.ts"),l=n(/*! ./winLosePopin */"./src/ds/winLosePopin.ts"),d=n(/*! ./paginatedPopin */"./src/ds/paginatedPopin.ts"),h=n(/*! ./viButtons */"./src/ds/viButtons.ts"),p=n(/*! ./replayPopin */"./src/ds/replayPopin.ts"),f=n(/*! ../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),g=n(/*! ../game */"./src/game/index.ts"),m=n(/*! ./popin */"./src/ds/popin.ts"),v=n(/*! ../adaptativeVisualIdentity/identities/danskeSpil/views/bottomBar */"./src/adaptativeVisualIdentity/identities/danskeSpil/views/bottomBar.ts"),y=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},w=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},k=function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};!function(t){t[t.First=0]="First",t[t.AfterDemoLose=1]="AfterDemoLose",t[t.AfterDemoWin=2]="AfterDemoWin",t[t.AfterWin=3]="AfterWin",t[t.AfterLose=4]="AfterLose",t[t.AfterReplayWin=5]="AfterReplayWin",t[t.AfterReplayLose=6]="AfterReplayLose"}(o||(o={}));var _=function(t){function e(e,n,i){var s,u,c=t.call(this)||this;c.ticketType=i,c.state=o.First,c.rulesOpen=!1,c._verticalOffset=0,c.dockingBounds=new a.DockingBounds(n.vi.inGameView.dockingBounds.width+180,n.vi.inGameView.dockingBounds.height+v.BottomBar.height),c.resize=new a.Resize(a.Resize.fitContain),c.game=n,c.setViElements(e),c.popinsOverlay=new r.Graphics,c.popinsOverlay.beginFill(0,0),c.popinsOverlay.drawRect(0,0,1,1),c.popinsOverlay.endFill(),c.popinsOverlay.resize=new a.Resize(a.Resize.cover),c.popinsOverlay.interactive=!0,c.addChild(c.popinsOverlay),c.onStart=e.onStart,c.onAuto=e.viButtonsCallbacks.onAuto,c.on("added",(function(){c.onAdded()})),c.setBetPopin(e),c.setDemoEndPopin(e),c.setBetEndPopin(e),c.setReplayEndPopin(e),c.setResumePopin(e),c.setReplayPopin(e),c.setConfirmPopin(e),c.setViAccessableElements(e),c.hideButtons();try{for(var l=x(c.children),d=l.next();!d.done;d=l.next()){d.value.visible=!1}}catch(t){s={error:t}}finally{try{d&&!d.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return c}return y(e,t),Object.defineProperty(e.prototype,"ticket",{get:function(){return this._ticket},enumerable:!1,configurable:!0}),e.prototype.start=function(){return b(this,void 0,void 0,(function(){var t,e,n,i,o;return w(this,(function(r){switch(r.label){case 0:this.hideButtons();try{for(t=x(this.children),e=t.next();!e.done;e=t.next())e.value.visible=!1}catch(t){i={error:t}}finally{try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}}return n=this,[4,this.game.getTicketToReplay(!1)];case 1:return n.replayTicketResponse=r.sent(),this.replayTicketResponse?this.replayTicketResponse.status===g.ETicketStatus.CLAIMED?(this.popinsOverlay.visible=!0,this.hideButtons(),this._ticket=new this.ticketType(this.replayTicketResponse,g.ETicketMode.REPLAY,this.game),this.replayPopin.show(!1)):(this._ticket=new this.ticketType(this.replayTicketResponse,g.ETicketMode.RESUME,this.game),this.resumePopin.show(!1)):this.shouldHideRules?this.toGame():(this.viOverlay.visible=!0,this.rules.show(!0)),[2]}}))}))},e.prototype.hideButtons=function(){this.viButtons.hideButtons(!0)},e.prototype.end=function(){switch(this.popinsOverlay.visible=!0,this.hideButtons(),this.state){case o.AfterDemoLose:case o.AfterDemoWin:this.demoEndPopin.show(!0,this.ticket);break;case o.AfterLose:case o.AfterWin:this.betEndPopin.show(!0,this.ticket);break;case o.AfterReplayLose:case o.AfterReplayWin:this._ticket=new this.ticketType(this.replayTicketResponse,g.ETicketMode.REPLAY,this.game),this.replayEndPopin.show(!1,this._ticket)}},e.prototype.claim=function(){return b(this,void 0,void 0,(function(){var t;return w(this,(function(e){switch(e.label){case 0:return this.ticket.mode===g.ETicketMode.REPLAY?(this.state=this.ticket.wonAmount.value>0?o.AfterReplayWin:o.AfterReplayLose,[2]):[4,this.ticket.claim()];case 1:return t=e.sent(),this.ticket.demo?this.state=t.wonAmount.value>0?o.AfterDemoWin:o.AfterDemoLose:this.state=t.wonAmount.value>0?o.AfterWin:o.AfterLose,[2]}}))}))},e.prototype.replay=function(){return b(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.onStart()];case 1:return t.sent(),this.onAuto(),this.game.vi.emit(f.EVisualIdentityAction.RulesEnabled,!0),this.game.vi.emit(f.EVisualIdentityAction.SettingsEnabled,!0),[2]}}))}))},e.prototype.handleGameStart=function(t){return void 0===t&&(t=!1),b(this,void 0,void 0,(function(){var e;return w(this,(function(n){switch(n.label){case 0:return[4,this.game.bet({applicationId:"ITG",serviceName:this.game.gameConfig.lotteryGameCode,stake:{currency:this.game.selectedStake.currency,value:this.game.selectedStake.value},demo:t})];case 1:return e=n.sent(),this._ticket=new this.ticketType(e,g.ETicketMode.DEFAULT,this.game),this.startAndActivateButtons(),this.popinsOverlay.visible=!1,[2]}}))}))},e.prototype.startAndActivateButtons=function(){return b(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.onStart()];case 1:return t.sent(),this.viButtons.activateAuto(),this.game.vi.emit(f.EVisualIdentityAction.RulesEnabled,!0),this.game.vi.emit(f.EVisualIdentityAction.SettingsEnabled,!0),[2]}}))}))},e.prototype.onHideSettings=function(){this.rulesOpen||(this.viButtons.showActiveButtons(),this.game.onRulesQuit())},e.prototype.onShowSettings=function(){this.viButtons.hideButtons()},e.prototype.showVIGains=function(){this.game.onRulesOpen(),this.viOverlay.visible=!0,this.rulesOpen=!0,this.rules.visible=!1,this.gainTable.show(!1)},e.prototype.showVIRules=function(){this.game.onRulesOpen(),this.viOverlay.visible=!0,this.rulesOpen=!0,this.gainTable.visible=!1,this.rules.show(!1)},e.prototype.toGame=function(){this.popinsOverlay.visible=!0,this.viOverlay.visible=!1,this.game.vi.emit(f.EVisualIdentityAction.RulesEnabled,!0),this.game.vi.emit(f.EVisualIdentityAction.SettingsEnabled,!0),this.hideButtons(),this.betPopin.show(!1)},e.prototype.cancelBet=function(){return b(this,void 0,void 0,(function(){var t;return w(this,(function(e){switch(e.label){case 0:switch(this.state){case o.AfterDemoLose:case o.AfterDemoWin:return[3,1];case o.AfterLose:case o.AfterWin:return[3,2]}return[3,3];case 1:return this.end(),[3,5];case 2:return this.seeResult(),[3,5];case 3:return[4,this.game.getTicketToReplay(!1)];case 4:return(t=e.sent())?t.status===g.ETicketStatus.CLAIMED?(this.popinsOverlay.visible=!0,this.hideButtons(),this._ticket=new this.ticketType(t,g.ETicketMode.REPLAY,this.game),this.replayPopin.show(!1)):(this._ticket=new this.ticketType(t,g.ETicketMode.RESUME,this.game),this.resumePopin.show(!1)):this.toGame(),[3,5];case 5:return[2]}}))}))},e.prototype.resume=function(){return b(this,void 0,void 0,(function(){return w(this,(function(t){return this.startAndActivateButtons(),this.popinsOverlay.visible=!1,[2]}))}))},e.prototype.confirm=function(){return b(this,void 0,void 0,(function(){var t;return w(this,(function(e){switch(e.label){case 0:return[4,this.game.updateGameMode(u.EGameMode.normal)];case 1:return e.sent(),[4,this.game.getExistingTicket(this.game.gameConfig.lotteryGameCode,!1)];case 2:return(t=e.sent())?(this._ticket=new this.ticketType(t,g.ETicketMode.RESUME,this.game),this.resumePopin.show(!1),[3,5]):[3,3];case 3:return[4,this.game.preBet({applicationId:"ITG",serviceName:this.game.gameConfig.lotteryGameCode,stake:{currency:this.game.selectedStake.currency,value:this.game.selectedStake.value}})];case 4:e.sent(),this.popinsOverlay.visible=!0,this.hideButtons(),this.confirmPopin.show(!1),e.label=5;case 5:return[2]}}))}))},e.prototype.noMoreRules=function(){localStorage.setItem("".concat(s.t("common.gameName"),"-noMoreRules"),"true"),this.toGame()},Object.defineProperty(e.prototype,"shouldHideRules",{get:function(){return this.game.getOpenGameParameters().skipRules||"true"===localStorage.getItem("".concat(s.t("common.gameName"),"-noMoreRules"))},enumerable:!1,configurable:!0}),e.prototype.seeResult=function(){this.popinsOverlay.visible=!1,this.viButtons.activatePlayAgain()},e.prototype.seeDemoResult=function(){this.popinsOverlay.visible=!1,this.viButtons.activateTryAgain()},e.prototype.onAdded=function(){this.betPopin.resizePopin(),this.demoEndPopin.resizePopin(),this.betEndPopin.resizePopin(),this.replayEndPopin.resizePopin(),this.confirmPopin.resizePopin(),this.rules.resizePopin(),this.gainTable.resizePopin(),this.resumePopin.resizePopin(),this.replayPopin.resizePopin()},e.prototype.onVIClose=function(){this.rulesOpen=!1,this.viButtons.showActiveButtons(),this.viOverlay.visible=!1,this.game.onRulesQuit()},e.prototype.setViElements=function(t){var e=this;this.game.vi.inGameView.settingsComponent.soundEnabled=!1,this.game.mute(!0),this.viOverlay=new r.Graphics,this.viOverlay.beginFill(0,.3),this.viOverlay.drawRect(0,0,1,1),this.viOverlay.endFill(),this.viOverlay.resize=new a.Resize(a.Resize.cover),this.viOverlay.interactive=!0,this.game.vi.emitter.on(f.EVisualIdentityEvent.ShowRules,(function(){e.showVIRules()})),this.game.vi.emitter.on(f.EVisualIdentityEvent.ShowWinningTable,(function(){e.showVIGains()})),this.game.vi.emitter.on(f.EVisualIdentityEvent.ShowSettings,(function(){e.onShowSettings()})),this.game.vi.emitter.on(f.EVisualIdentityEvent.HideSettings,(function(){e.onHideSettings()})),this.viButtons=new h.DSVIButtons(this.game,{onAuto:function(){e.viButtons.activatePause(),t.viButtonsCallbacks.onAuto()},onStop:function(){e.viButtons.activateAuto(),t.viButtonsCallbacks.onStop()},onPlayAgain:function(){return b(e,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.viButtons.activatePlayAgain(),e}))];case 1:return e.sent(),[2]}}))}))},onTryAgain:function(){e.end()}}),this.game.vi.emit(f.EVisualIdentityAction.UpdateDesign,{titleStyles:{default:{fill:t.titleColor?t.titleColor:"#000000",stroke:t.titleColor?t.titleColor:"#000000",fontName:"OpenSans-SemiBold",fontSize:m.DSPopin.titleFontSize,strokeOffsetX:0,strokeOffsetY:0,strokeWidth:1}},contentStyles:{default:{fill:t.titleColor?t.titleColor:"#000000",stroke:t.titleColor?t.titleColor:"#000000",fontName:"OpenSans-SemiBold",fontSize:m.DSPopin.textFontSize,strokeOffsetX:0,strokeOffsetY:0,strokeWidth:0}},buttonsStyles:{default:{fill:t.secondaryColor?t.secondaryColor:"#000000",stroke:t.secondaryColor?t.secondaryColor:"#000000",fontName:"OpenSans-SemiBold",fontSize:m.DSPopin.menuButtonFontSize,strokeOffsetX:0,strokeOffsetY:0}}})},e.prototype.setRules=function(t){var n,i,o=this,r=[],u=this.game.stage.getChildByName("rules");try{for(var c=x(u.children),l=c.next();!l.done;l=c.next()){var h=l.value;r.push(h)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.game.stage.removeChild(u),u.dockingBounds&&(this.dockingBounds=new a.DockingBounds(Math.max(this.dockingBounds.width,u.dockingBounds.width+180),Math.max(this.dockingBounds.height,u.dockingBounds.height+v.BottomBar.height))),this.rules=new d.DSPaginatedPopin({title:s.t("howTo.title"),titleColor:t,leftButtonLabel:s.t("howTo.toGame"),rightButtonLabel:s.t("howTo.hide"),onLeft:function(){return b(o,void 0,void 0,(function(){return w(this,(function(t){return this.toGame(),[2]}))}))},onRight:function(){return b(o,void 0,void 0,(function(){return w(this,(function(t){return this.noMoreRules(),[2]}))}))},onClose:function(){return b(o,void 0,void 0,(function(){return w(this,(function(t){return this.onVIClose(),[2]}))}))},slides:r}),this.rules.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset-e.verticalOffsetIOS),this.addChild(this.rules)},e.prototype.setGainBoard=function(t){var n,i,o=this,r=[],u=this.game.stage.getChildByName("gainBoard");try{for(var c=x(u.children),l=c.next();!l.done;l=c.next()){var h=l.value;r.push(h)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.game.stage.removeChild(u),0===r.length&&this.makeGainBoardSlides(u,r,t),this.gainTable=new d.DSPaginatedPopin({title:s.t("gainTable.title"),titleColor:t.titleColor,slides:r,onClose:function(){return b(o,void 0,void 0,(function(){return w(this,(function(t){return this.onVIClose(),[2]}))}))}}),this.gainTable.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.gainTable)},e.prototype.makeGainBoardSlides=function(t,e,n){for(var i,o,u,c,l,d=t.dockingBounds.height-80,h=n.gainFontsizes&&n.gainFontsizes.main?n.gainFontsizes.main:m.DSPopin.titleFontSize,p=n.gainFontsizes&&n.gainFontsizes.left?n.gainFontsizes.left:h,f=n.gainMaxLines||10,g=[],v=0,y=s.t("gainTable.ranks.".concat(v)),b=s.t("gainTable.gainRanks.".concat(v));y!=="gainTable.ranks.".concat(v)&&b!=="gainTable.gainRanks.".concat(v);){v%f==0&&((u=new r.Container).dockingBounds=new a.DockingBounds(t.dockingBounds.width,t.dockingBounds.height),(c=new a.Table).docking=new a.Docking(a.Docking.centerAll),u.addChild(c),e.push(u),l=[]),g.push(y);var w=new a.TextField(y,{fill:n.titleColor?n.titleColor:"#000000",fontSize:p},{align:a.EAlign.Left,noUpdate:!0}),_=new a.TextField(b,{fill:n.titleColor?n.titleColor:"#000000",fontSize:h},{align:a.EAlign.Right,noUpdate:!0});if(l.push([w,_]),v%f==f-1||s.t("gainTable.ranks.".concat(v+1))==="gainTable.ranks.".concat(v+1)||s.t("gainTable.gainRanks.".concat(v))==="gainTable.gainRanks.".concat(v+1)){var T=l.map((function(t){return t[1]})),C=0;try{for(var E=(i=void 0,x(T)),P=E.next();!P.done;P=E.next()){var A=P.value;A.width>C&&(C=A.width)}}catch(t){i={error:t}}finally{try{P&&!P.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}if(C+=40,c.setFixedWidth(u.dockingBounds.width-80),c.setFixedColumnsWidth([0,C]),c.push.apply(c,k([],S(l),!1)),c.height>d)throw new Error("The gain table contains too much entries by slides")}v++,y=s.t("gainTable.ranks.".concat(v)),b=s.t("gainTable.gainRanks.".concat(v))}this.demoEndPopin.ranks=g,this.replayEndPopin.ranks=g,this.betEndPopin.ranks=g},e.prototype.setViAccessableElements=function(t){this.addChild(this.viOverlay),this.setRules(t.titleColor),this.setGainBoard(t)},e.prototype.setConfirmPopin=function(t){var n=this,i=new a.TextField(s.t("confirm.content"),{default:{fontName:"OpenSans-SemiBold",fontSize:m.DSPopin.textFontSize,fill:t.titleColor?t.titleColor:"#000000"}},{noUpdate:!0});i.freeze(),i.wordWrap=!0,i.align=a.EAlign.Center,i.width=m.DSPopin.minWidth,i.dockingBounds=new a.DockingBounds(m.DSPopin.minWidth,120),i.unfreeze(),this.confirmPopin=new c.DSTwoButtonsPopin({base:{title:s.t("confirm.title"),titleColor:t.titleColor,content:i},right:{label:s.t("confirm.no"),color:t.secondaryColor,primary:!1},onRight:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.cancelBet()];case 1:return t.sent(),[2]}}))}))},left:{label:s.t("confirm.yes"),primary:!0},onLeft:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.handleGameStart()];case 1:return t.sent(),[2]}}))}))},shine:!0}),this.confirmPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.confirmPopin)},e.prototype.setReplayPopin=function(t){var n=this;this.replayPopin=new p.DSReplayPoptin({base:{title:s.t("replay.title"),titleColor:t.titleColor},right:{label:s.t("replay.leftButton"),color:t.secondaryColor},onRight:function(){return b(n,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.replayPopin.show(!1),e}))];case 1:return e.sent(),[2]}}))}))},left:{label:s.t("replay.rightButton")},onLeft:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.replay(),[2]}))}))},shine:!0},this),this.replayPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.replayPopin)},e.prototype.setBetPopin=function(t){var n=this;this.betPopin=new c.DSTwoButtonsPopin({base:{title:s.t("tryOrBuy.title"),titleColor:t.titleColor},right:{label:s.t("tryOrBuy.try"),color:t.secondaryColor,primary:!1},onRight:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.handleGameStart(!0)];case 1:return t.sent(),[2]}}))}))},left:{label:s.t("tryOrBuy.buy"),primary:!0},onLeft:function(){return b(n,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.betPopin.show(!1),e}))];case 1:return e.sent(),[2]}}))}))},shine:!0}),this.betPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.betPopin)},e.prototype.setReplayEndPopin=function(t){var n=this;this.replayEndPopin=new l.DSWinLosePopin({loseTitle:s.t("end.lose.title"),winTitle:s.t("end.win.title"),loseContent:s.t("end.lose.content"),winContentKey:"end.win.content",base:{title:"",titleColor:t.titleColor,onClose:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.seeDemoResult(),[2]}))}))}},right:{label:s.t("replay.leftButton"),color:t.secondaryColor},onRight:function(){return b(n,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.replayPopin.show(!1),e}))];case 1:return e.sent(),[2]}}))}))},left:{label:s.t("replay.rightButton")},onLeft:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.replay(),[2]}))}))},shine:!0}),this.replayEndPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.replayEndPopin)},e.prototype.setDemoEndPopin=function(t){var n=this;this.demoEndPopin=new l.DSWinLosePopin({loseTitle:s.t("tryEnd.lose.title"),winTitle:s.t("tryEnd.win.title"),exceptionnalTitle:s.t("tryEnd.exceptionnal.title"),loseContent:s.t("tryEnd.lose.content"),winContentKey:"tryEnd.win.content",exceptionnalContentKey:"tryEnd.exceptionnal.content",base:{title:"",titleColor:t.titleColor,onClose:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.seeDemoResult(),[2]}))}))}},left:{label:s.t("tryEnd.try"),color:t.secondaryColor},onLeft:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this.handleGameStart(!0)];case 1:return t.sent(),[2]}}))}))},right:{label:s.t("tryEnd.buy")},onRight:function(){return b(n,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.demoEndPopin.show(!0,t.ticket),e}))];case 1:return e.sent(),[2]}}))}))},shine:!0}),this.demoEndPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.demoEndPopin)},e.prototype.setBetEndPopin=function(t){var n=this;this.betEndPopin=new l.DSWinLosePopin({loseTitle:s.t("end.lose.title"),winTitle:s.t("end.win.title"),exceptionnalTitle:s.t("end.exceptionnal.title"),loseContent:s.t("end.lose.content"),winContentKey:"end.win.content",exceptionnalContentKey:"end.exceptionnal.content",base:{title:"",titleColor:t.titleColor,onClose:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.seeResult(),[2]}))}))}},right:{label:s.t("end.buy")},onRight:function(){return b(n,void 0,void 0,(function(){var t=this;return w(this,(function(e){switch(e.label){case 0:return[4,this.confirm().catch((function(e){throw t.betEndPopin.show(!0,t.ticket),e}))];case 1:return e.sent(),[2]}}))}))},shine:!0}),this.betEndPopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.betEndPopin)},e.prototype.setResumePopin=function(t){var n=this,i=new a.TextField(s.t("resume.content"),{default:{fontName:"OpenSans-SemiBold",fontSize:m.DSPopin.textFontSize,fill:t.titleColor?t.titleColor:"#000000"}},{noUpdate:!0});i.freeze(),i.wordWrap=!0,i.align=a.EAlign.Center,i.width=m.DSPopin.minWidth,i.dockingBounds=new a.DockingBounds(m.DSPopin.minWidth,120),i.unfreeze(),this.resumePopin=new c.DSTwoButtonsPopin({base:{title:s.t("resume.title"),titleColor:t.titleColor,content:i},right:{label:s.t("resume.button")},onRight:function(){return b(n,void 0,void 0,(function(){return w(this,(function(t){return this.resume(),[2]}))}))}}),this.resumePopin.docking=new a.Docking(a.Docking.centerAll,0,e.verticalOffset),this.addChild(this.resumePopin)},e.verticalOffset=-25,e.verticalOffsetIOS=0,e}(r.Container)},"./src/ds/replayPopin.ts":
/*!*******************************!*\
  !*** ./src/ds/replayPopin.ts ***!
  \*******************************/
/*! exports provided: DSReplayPoptin */function(t,e,n){"use strict";n.r(e),n.d(e,"DSReplayPoptin",(function(){return c}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! i18next */"i18next"),s=n(/*! ./twoButtonsPopin */"./src/ds/twoButtonsPopin.ts"),a=n(/*! ./popin */"./src/ds/popin.ts"),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n){var i=this,s=new o.TextField(r.t("replay.content"),{default:{fontName:"OpenSans-SemiBold",fontSize:a.DSPopin.textFontSize,fill:e.base.titleColor?e.base.titleColor:"#000000"}});return s.freeze(),s.wordWrap=!0,s.align=o.EAlign.Center,s.width=a.DSPopin.minWidth,s.dockingBounds=new o.DockingBounds(a.DSPopin.minWidth,120),s.unfreeze({noUpdate:!0}),e.base.content=s,(i=t.call(this,e)||this).popinsContainer=n,i.replaySentence=s,i}return u(e,t),e.prototype.show=function(e){this.replaySentence.text=r.t("replay.content",{ticketId:this.popinsContainer.ticket.ticketId}),t.prototype.show.call(this,e)},e}(s.DSTwoButtonsPopin)},"./src/ds/shineableButton.ts":
/*!***********************************!*\
  !*** ./src/ds/shineableButton.ts ***!
  \***********************************/
/*! exports provided: ShineableButton */function(t,e,n){"use strict";n.r(e),n.d(e,"ShineableButton",(function(){return u}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! pixi.js */"pixi.js"),s=n(/*! gsap */"gsap"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,i){var o=t.call(this,e.button,n,i)||this;return o._bump=0,e.shine&&(o.shine=new r.Sprite(r.Texture.from("buttons/primary/shine")),o.addChild(o.shine),o.shine.anchor.x=0,o.shine.anchor.y=0),o}return a(e,t),e.prototype.updateSize=function(){this.shine&&(this.shineMask?this.shineMask.clear():this.shineMask=new r.Graphics,this.shineMask.beginFill(16777215,1),this.shineMask.drawRoundedRect(9,8,this.backgroundNineSlice.width-18,this.backgroundNineSlice.height-20,9),this.shineMask.endFill(),this.addChild(this.shineMask),this.shine.mask=this.shineMask,this.shine.scaleXY=this.shineScale=this.backgroundNineSlice.height/this.shine.height,s.TweenMax.fromTo(this.shine,.9,{x:-this.shine.width},{x:this.backgroundNineSlice.width,repeat:-1,repeatDelay:2,ease:s.Linear.easeNone}),s.TweenMax.fromTo(this,.9,{bump:0},{bump:Math.PI,repeat:-1,repeatDelay:2,ease:s.Linear.easeNone}))},Object.defineProperty(e.prototype,"bump",{get:function(){return this._bump},set:function(t){this._bump=this.shineScale*(1+Math.sin(t)),this.shine.scaleXY=this._bump},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.shine&&(this.shine.visible=t),t?this._updateTexture(this.idleTexture):this.disabledTexture&&this._updateTexture(this.disabledTexture),this._updateTextStyle(t?this.textStates.idle:this.textStates.disabled),this._enabled=t,this.interactive=t,this.buttonMode=t},enumerable:!1,configurable:!0}),e}(o.Button)},"./src/ds/twoButtonsPopin.ts":
/*!***********************************!*\
  !*** ./src/ds/twoButtonsPopin.ts ***!
  \***********************************/
/*! exports provided: DSTwoButtonsPopin */function(t,e,n){"use strict";n.r(e),n.d(e,"DSTwoButtonsPopin",(function(){return d}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! ./popin */"./src/ds/popin.ts"),a=n(/*! ./shineableButton */"./src/ds/shineableButton.ts"),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l={primary:{idleTexture:"buttons/primary/idle",overTexture:"buttons/primary/over",clickedTexture:"buttons/primary/idle",disabledTexture:"buttons/primary/idle"},secondary:{idleTexture:"buttons/secondary/idle",overTexture:"buttons/secondary/over",clickedTexture:"buttons/secondary/idle",disabledTexture:"buttons/secondary/idle"}},d=function(t){function e(e){var n,i,u,d,h,p=this,f=e.base.content||new o.Container;if(f.dockingBounds||(f.dockingBounds=new r.DockingBounds(0,0)),e.base.content=null,(p=t.call(this,e.base)||this).content.addChild(f),p.content.dockingBounds=new r.DockingBounds(f.dockingBounds.width,f.dockingBounds.height+80),p.baseContent=f,e.left){var g=null!==(u=e.left.primary)&&void 0!==u&&u,m=l[g?"primary":"secondary"];p.leftButton=new a.ShineableButton({button:m,shine:g&&e.shine},{default:{fontName:"OpenSans-SemiBold",fontSize:s.DSPopin.buttonFontSize,fill:e.left.color?e.left.color:"#000000"}},e.left.label),p.leftButton.on("pointertap",(function(){p.executeButtonCallback(e.onLeft)}))}var v=null===(h=null===(d=e.right)||void 0===d?void 0:d.primary)||void 0===h||h,y=l[v?"primary":"secondary"];p.rightButton=new a.ShineableButton({button:y,shine:v&&e.shine},{default:{fontName:"OpenSans-SemiBold",fontSize:s.DSPopin.buttonFontSize,fill:e.right.color?e.right.color:"#000000"}},e.right.label),p.rightButton.on("pointertap",(function(){p.executeButtonCallback(e.onRight)}));var b=[p.rightButton];e.left&&b.unshift(p.leftButton);try{for(var w=c(b),x=w.next();!x.done;x=w.next()){var S=x.value;S.isNineSlice=!0,S.backgroundNineSlice.leftWidth=30,S.backgroundNineSlice.topHeight=30,S.backgroundNineSlice.rightWidth=30,S.backgroundNineSlice.bottomHeight=40,S.nineSliceMinSize.x=280,S.nineSliceMinSize.y=70,S.nineSlicePadding.x=20,S.nineSlicePadding.y=21,S.nineSlicePadding.width=20,S.nineSlicePadding.height=22,p.buttonStack.push(S,!1),S.label=S.label}}catch(t){n={error:t}}finally{try{x&&!x.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}return void 0!==p.leftButton&&p.leftButton.updateSize(),p.rightButton.updateSize(),p}return u(e,t),e.prototype.resizePopin=function(){this.content.dockingBounds.width=this.baseContent.dockingBounds.width,this.content.dockingBounds.height=this.baseContent.dockingBounds.height,this.content.dockingBounds.width<s.DSPopin.minWidth&&(this.content.dockingBounds.width=s.DSPopin.minWidth),t.prototype.resizePopin.call(this)},e.prototype.show=function(e){void 0===e&&(e=!1),this.closeButton.visible=Boolean(e),t.prototype.show.call(this)},e.prototype.activateButtons=function(t){var e,n;try{for(var i=c(["leftButton","rightButton","closeButton"]),o=i.next();!o.done;o=i.next()){var r=o.value;this[r]&&(this[r].enabled=t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e}(s.DSPopin)},"./src/ds/viButtons.ts":
/*!*****************************!*\
  !*** ./src/ds/viButtons.ts ***!
  \*****************************/
/*! exports provided: DSVIButtons */function(t,e,n){"use strict";n.r(e),n.d(e,"DSVIButtons",(function(){return g}));var i=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),o=n(/*! i18next */"i18next"),r=n(/*! ./shineableButton */"./src/ds/shineableButton.ts"),s=n(/*! ../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),a=n(/*! ./popin */"./src/ds/popin.ts"),u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c="buttons/autoskrab/",l="".concat(c,"idle"),d="".concat(c,"over"),h="".concat(c,"down"),p="".concat(c,"disabled"),f={auto:"reveal.auto",stop:"reveal.pause",playAgain:"reveal.playAgain",tryAgain:"reveal.tryAgain"},g=function(){function t(t,e){var n,c;this.buttons=[],this.game=t,this.onAuto=e.onAuto,this.onStop=e.onStop,this.onPlayAgain=e.onPlayAgain,this.onTryAgain=e.onTryAgain;try{for(var g=u(["auto","stop","playAgain","tryAgain"]),m=g.next();!m.done;m=g.next()){var v=m.value;this[v]="playAgain"===v||"tryAgain"===v?new r.ShineableButton({button:{idleTexture:l,overTexture:d,clickedTexture:h,disabledTexture:p},shine:!0},{default:{fontName:"OpenSans-SemiBold",fontSize:a.DSPopin.menuButtonFontSize,fill:"#000000"}},""):new i.Button({idleTexture:l,overTexture:d,clickedTexture:h,disabledTexture:p},{default:{fontName:"OpenSans-SemiBold",fontSize:a.DSPopin.menuButtonFontSize,fill:"#000000"}},""),this[v].docking=new i.Docking(i.Docking.centerAll),this[v].text.docking.y=-4,this[v].isNineSlice=!0,this[v].backgroundNineSlice.leftWidth=30,this[v].backgroundNineSlice.topHeight=15,this[v].backgroundNineSlice.rightWidth=30,this[v].backgroundNineSlice.bottomHeight=15,this[v].nineSliceMinSize.x=170,this[v].nineSliceMinSize.y=70,this[v].nineSlicePadding.x=15,this[v].nineSlicePadding.y=15,this[v].nineSlicePadding.width=15,this[v].nineSlicePadding.height=15,this[v].label=o.t(f[v]),this[v].trackingName=v,this.buttons.push(this[v])}}catch(t){n={error:t}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(n)throw n.error}}this.deactivateButtons(),this.auto.on("pointertap",this.onAuto),this.stop.on("pointertap",this.onStop),this.playAgain.on("pointertap",this.onPlayAgain),this.tryAgain.on("pointertap",this.onTryAgain),this.game.vi.emit(s.EVisualIdentityAction.AddControlButton,this.buttons)}return t.prototype.activatePlayAgain=function(){this.activateButtons([this.playAgain]),this.playAgain.updateSize()},t.prototype.activateTryAgain=function(){this.activateButtons([this.tryAgain]),this.tryAgain.updateSize()},t.prototype.activateAuto=function(){this.activateButtons([this.auto])},t.prototype.activatePause=function(){this.activateButtons([this.stop])},t.prototype.hideButtons=function(t){var e,n;void 0===t&&(t=!1);try{for(var i=u(this.buttons),o=i.next();!o.done;o=i.next()){o.value.visible=!1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t&&this.deactivateButtons()},t.prototype.showActiveButtons=function(){var t,e;this.hideButtons();try{for(var n=u(this.buttons),i=n.next();!i.done;i=n.next()){var o=i.value;o.enabled&&(o.visible=!0)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.activateButtons=function(t){var e,n;this.deactivateButtons();try{for(var i=u(t),o=i.next();!o.done;o=i.next()){o.value.enabled=!0}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.showActiveButtons()},t.prototype.deactivateButtons=function(){var t,e;try{for(var n=u(this.buttons),i=n.next();!i.done;i=n.next()){i.value.enabled=!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.showActiveButtons()},t}()},"./src/ds/winLosePopin.ts":
/*!********************************!*\
  !*** ./src/ds/winLosePopin.ts ***!
  \********************************/
/*! exports provided: DSWinLosePopin */function(t,e,n){"use strict";n.r(e),n.d(e,"DSWinLosePopin",(function(){return h}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! @gdk/core */"@gdk/core"),s=n(/*! i18next */"i18next"),a=n(/*! @falcon/bridge */"@falcon/bridge"),u=n(/*! ../game */"./src/game/index.ts"),c=n(/*! ./twoButtonsPopin */"./src/ds/twoButtonsPopin.ts"),l=n(/*! ./popin */"./src/ds/popin.ts"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=this,i=new o.TextField("",{default:{fontName:"OpenSans-SemiBold",fontSize:l.DSPopin.textFontSize,fill:e.base.titleColor?e.base.titleColor:"#000000"}});return i.wordWrap=!0,i.width=l.DSPopin.minWidth,i.align=o.EAlign.Center,i.dockingBounds=new o.DockingBounds(0,0),e.base.content=i,(n=t.call(this,e)||this).contentText=i,n.loseTitle=e.loseTitle,n.winTitle=e.winTitle,n.exceptionnalTitle=e.exceptionnalTitle,n.loseContent=e.loseContent,n.winContentKey=e.winContentKey,n.exceptionnalContentKey=e.exceptionnalContentKey,n}return d(e,t),e.prototype.show=function(e,n){void 0===e&&(e=!1),Boolean(this.exceptionnalTitle)&&Boolean(n.prize)&&n.prize.type===a.EItgPrizeType.periodicWinning?(this.title.text=this.exceptionnalTitle,this.contentText.text=s.t(this.exceptionnalContentKey,{amount:this._formatAmount(n,!0)}).replace(/\.\./g,".")):Boolean(this.exceptionnalTitle)&&n.action===u.EBetResponseAction.SUSPENSION_TRIGGERED?(this.title.text=this.exceptionnalTitle,this.contentText.text=s.t(this.exceptionnalContentKey,{amount:this._formatAmount(n)}).replace(/\.\./g,".")):n.wonAmount.value>0?(this.title.text=this.winTitle,this.contentText.text=s.t(this.winContentKey,{amount:this._formatAmount(n)}).replace(/\.\./g,".")):(this.title.text=this.loseTitle,this.contentText.text=this.loseContent),this.contentText.dockingBounds.width=this.contentText.width,this.contentText.dockingBounds.height=this.contentText.height+30,t.prototype.show.call(this,e)},Object.defineProperty(e.prototype,"ranks",{set:function(t){this._ranks=t},enumerable:!1,configurable:!0}),e.prototype._formatAmount=function(t,e){return void 0===e&&(e=!1),e&&Boolean(t.prize)&&t.prize.rank&&Array.isArray(this._ranks)&&Boolean(this._ranks[t.prize.rank])?this._ranks[t.prize.rank-1]:r.Numeral.currency(t.wonAmount,{minimumFractionDigits:t.wonAmount.value%100==0?0:2})},e}(c.DSTwoButtonsPopin)},"./src/game/abstractGame.ts":
/*!**********************************!*\
  !*** ./src/game/abstractGame.ts ***!
  \**********************************/
/*! exports provided: AbstractGame */function(t,e,n){"use strict";n.r(e),n.d(e,"AbstractGame",(function(){return S}));var i,o=n(/*! @gdk/core */"@gdk/core"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! gsap */"gsap"),a=n(/*! howler */"howler"),u=n(/*! i18next */"i18next"),c=n.n(u),l=n(/*! pixi.js */"pixi.js"),d=n(/*! ../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),h=n(/*! ../com */"./src/com/index.ts"),p=n(/*! ./gameEvents */"./src/game/gameEvents.ts"),f=n(/*! ./notifier/notifier */"./src/game/notifier/notifier.ts"),g=n(/*! ./tweenUtils */"./src/game/tweenUtils.ts"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},y=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},x=function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},S=function(t){function e(e,n,i,r,s){var a=t.call(this,n,i,r,o.Tools.assign(s,{createGameDiv:void 0===s.createGameDiv}))||this;a.skin=null,a.rulesVisible=!1,a.events=new l.utils.EventEmitter,a._muted=!1,a.pauseReasons=new Set,a.com=new h.Com(a),e.gameParameters=o.Tools.merge(e.gameParameters,e.behavioursParameters[e.selectedBehaviour]),h.Popin.wrapper=a.gameDiv,o.Logger.init(),a.vi=new d.AdaptativeVisualIdentity(a,{lottery:e.behavioursParameters[e.selectedBehaviour].vi,theme:e.behavioursParameters[e.selectedBehaviour].viParameters.theme||"default",parameters:e.behavioursParameters[e.selectedBehaviour].viParameters}),a._createOverlay(),a.onResize=function(){return a.resize()},a.onShowLockScreen=function(){a.mute(!0),a.pause("lockscreen"),a.com.bridge.emitEvent("JACKPOT_SHOW_LOCKSCREEN")},a.onHideLockScreen=function(){a.unpause("lockscreen"),a.tryToMute(!1),a.com.bridge.emitEvent("JACKPOT_HIDE_LOCKSCREEN")},a.vi.emitter.on(d.EVisualIdentityAction.SoundEnabled,(function(t){a.mute(!t)})),a.vi.emitter.on(d.EVisualIdentityEvent.QuitGame,(function(){o.tracker.track(new o.GameQuit),a.com.bridge.executeAction("CLOSE_GAME")}));var u=!1;if(a.vi.emitter.on(d.EVisualIdentityEvent.ShowSettings,(function(){var t;(null===(t=a.gameConfig.gameParameters.pauseOnSettings)||void 0===t||t)&&a.pause("settings");var e=a.vi.inGameView.settingsComponent&&a.vi.inGameView.settingsComponent.rulesEnabled;u=e,"rules"===a.state.current()&&(e=!1),a.vi.inGameView.settingsComponent&&(a.vi.inGameView.settingsComponent.rulesEnabled=e)})),a.vi.emitter.on(d.EVisualIdentityEvent.HideSettings,(function(){var t;(null===(t=a.gameConfig.gameParameters.pauseOnSettings)||void 0===t||t)&&a.unpause("settings"),a.vi.inGameView.settingsComponent&&(a.vi.inGameView.settingsComponent.rulesEnabled=u)})),a.vi.emitter.on(d.EVisualIdentityEvent.ShowRules,(function(){a.onRulesOpen()})),a.vi.emitter.on(d.EVisualIdentityEvent.HideRules,(function(){a.onRulesQuit()})),a.vi.emitter.on(d.EVisualIdentityEvent.ShowMainRules,(function(){a.onRulesOpen()})),a.vi.emitter.on(d.EVisualIdentityEvent.ShowWinningTable,(function(){a.onRulesOpen()})),a.onFocus=function(){a.gameConfig.gameParameters.pauseOnBlur&&a.unpause("blur"),!1!==a.gameConfig.gameParameters.muteSoundOnBlur&&a.tryToMute(!1),a.vi.emitter.emit(d.EVisualIdentityEvent.GameFocused)},a.onBlur=function(){a.gameConfig.gameParameters.pauseOnBlur&&a.pause("blur"),!1!==a.gameConfig.gameParameters.muteSoundOnBlur&&a.tryToMute(!0),a.vi.emitter.emit(d.EVisualIdentityEvent.GameBlurred)},a.application.view.addEventListener("touchend",(function(){a.requestFullscreen()})),e.gameParameters.contextMenuBlocked&&document.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1),e.gameParameters.rightClickRejected){var c=a.application.renderer.plugins.interaction;c.supportsPointerEvents?(window.document.removeEventListener("pointermove",c.onPointerMove,!0),c.interactionDOMElement.removeEventListener("pointerdown",c.onPointerDown,!0),window.removeEventListener("pointerup",c.onPointerUp,!0)):(window.document.removeEventListener("mousemove",c.onPointerMove,!0),c.interactionDOMElement.removeEventListener("mousedown",c.onPointerDown,!0),window.removeEventListener("mouseup",c.onPointerUp,!0));var f=c.onPointerDown;c.onPointerDown=function(t){2!==t.button&&f.call(this,t)};var g=c.onPointerUp;c.onPointerUp=function(t){2!==t.button&&g.call(this,t)};var m=c.onPointerMove;c.onPointerMove=function(t){0!==t.buttons&&1!=(1&t.buttons)||m.call(this,t)},c.supportsPointerEvents?(window.document.addEventListener("pointermove",c.onPointerMove,!0),c.interactionDOMElement.addEventListener("pointerdown",c.onPointerDown,!0),window.addEventListener("pointerup",c.onPointerUp,!0)):(window.document.addEventListener("mousemove",c.onPointerMove,!0),c.interactionDOMElement.addEventListener("mousedown",c.onPointerDown,!0),window.addEventListener("mouseup",c.onPointerUp,!0))}return o.Loader.register(new o.HowlerLoader),a.events.on(p.EGameEvents.GameEnd,(function(){a.com.messageManager.onGameEnd()})),o.Numeral.locale=e.selectedLocale,o.Numeral.currencyCode=e.stakes[0].currency,a}return m(e,t),e.prototype.isPaused=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(0===n.length)return this.pauseReasons.size>0;try{for(var o=b(n),r=o.next();!r.done;r=o.next()){var s=r.value;if(this.pauseReasons.has(s))return!0}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return!1},e.prototype.pause=function(t){var e=this.isPaused();if(this.pauseReasons.add(t),console.debug("game.pause(".concat(t,").")+" Game pause reasons: [".concat(Array.from(this.pauseReasons).join(", "),"]")),!e){switch(this.events.emit(p.EGameEvents.GamePaused,!0,t),t){case"blur":this.com.bridge.emitEvent("JACKPOT_PAUSE");break;case"lockscreen":this.com.bridge.emitEvent("JACKPOT_SHOW_LOCKSCREEN");break;case"rules":case"settings":case"messagemanager":this.com.bridge.emitEvent("JACKPOT_CONFIGURE",{interactive:!1})}g.TweenUtils.pauseAllTweens(!1),l.ticker.shared.stop(),r.Scratch2.scratchSound&&r.Scratch2.scratchSound.mute(!0)}},e.prototype.unpause=function(t){var e=this.isPaused();if(this.pauseReasons.delete(t),console.debug("game.unpause(".concat(t,").")+" Game pause reasons: [".concat(Array.from(this.pauseReasons).join(", "),"]")),this.isPaused()||this.mute(!1),e&&!this.isPaused()){switch(this.events.emit(p.EGameEvents.GamePaused,!1,t),t){case"blur":this.com.bridge.emitEvent("JACKPOT_RESUME");break;case"lockscreen":this.com.bridge.emitEvent("JACKPOT_HIDE_LOCKSCREEN");break;case"rules":case"settings":case"messagemanager":this.isPaused("rules","settings","messagemanager")||this.com.bridge.emitEvent("JACKPOT_CONFIGURE",{interactive:!0})}return g.TweenUtils.resumeAllTweens(),l.ticker.shared.start(),r.Scratch2.scratchSound&&r.Scratch2.scratchSound.mute(!1),!0}return!1},e.prototype.onRulesOpen=function(){this.pause("rules"),g.TweenUtils.resumeRulesTweens(),r.Scratch2.scratchSound&&r.Scratch2.scratchSound.mute(!0),this.rulesVisible=!0,this.events.emit(p.EGameEvents.RulesOpen)},e.prototype.onRulesQuit=function(){g.TweenUtils.pauseRulesTweens(),r.Scratch2.scratchSound&&r.Scratch2.scratchSound.mute(!1),this.unpause("rules"),this.rulesVisible=!1,this.events.emit(p.EGameEvents.RulesQuit)},Object.defineProperty(e.prototype,"soundStatus",{get:function(){return this.vi.soundEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSuperJackpot",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.getPurse=function(t){return v(this,void 0,void 0,(function(){var e,n,i=this;return y(this,(function(r){switch(r.label){case 0:return e=function(e){t&&i.vi.emitter.emit(d.EVisualIdentityAction.SetPurse,e?new o.Amount(e):null)},[4,this.com.getPurse()];case 1:return n=r.sent(),e(n),[2,n]}}))}))},e.prototype.init=function(t){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return[4,this.com.init()];case 1:return n.sent(),"DIMENSIONS","dimensions",e={width:this.settings.orientation===o.EOrientation.Portrait?480:800,height:this.settings.orientation===o.EOrientation.Portrait?640:600},this.com.bridge.emitEvent("DIMENSIONS",e),this.com.bridge.emitEvent("dimensions",e),this.com.bridge.channel.setNotifier&&this.com.bridge.channel.setNotifier(new f.Notifier(this)),o.tracker.init({com:this.com,logger:o.Logger.getLogger()}),this.settings.language=this.gameConfig.selectedLocale,c.a.init({lng:this.gameConfig.selectedLocale,resources:{}}),c.a.setDefaultNamespace("game"),[4,this.com.initI18n()];case 2:return n.sent(),t(),[2]}}))}))},e.prototype.start=function(t,e){return this._start(t,e)},e.prototype._start=function(e,n){return v(this,void 0,void 0,(function(){var i=this;return y(this,(function(o){switch(o.label){case 0:return this.state&&(this.state.eventEmitter=this.events),[4,this._startVI()];case 1:return o.sent(),this.lockScreenEnabled=!1,this.resize(innerWidth,innerHeight,!0),this.gameDiv.appendChild(this.application.view),[4,this.getPurse(!0)];case 2:return o.sent(),[4,new Promise((function(o){i._loadAssets((function(){o(),n&&n()}),(function(){i.lockScreenEnabled=!0,i.vi.showIntroduction((function(){return v(i,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:return this.vi.showInGame(),this.resize(innerWidth,innerHeight),[4,t.prototype.start.call(this,e)];case 1:return n.sent(),this.verifySymbolSpriteSignatures(),this.vi.emit(d.EVisualIdentityAction.SetGameReady),[2]}}))}))})),i.resize(innerWidth,innerHeight,!0)}))}))];case 3:return o.sent(),this.com.bridge.emitEvent("JACKPOT_CONFIGURE",{lotteryGameName:c.a.t("gameName",{returnEmptyString:!0})}),[2]}}))}))},e.prototype.verifySymbolSpriteSignatures=function(){var t,e,n,i=null!==(n=this.gameConfig.symbolSprites)&&void 0!==n?n:[],o=i.filter((function(t){return 7!==t.length&&64!==t.length}));if(o.length>0)throw this.displayErrorPopin(this.com.t("no-network","error")),new r.SymbolSpriteError('Incorrect signatures: "'.concat(o.join(", "),'": signatures must be 7 or 64 characters long'));var s=r.SymbolSprite.instances,a=s.map((function(t){return t.signature})),u=new Set(a.filter((function(t){var e,n;try{for(var o=b(i),r=o.next();!r.done;r=o.next()){var s=r.value;if(s===(7===s.length?t.slice(0,7):t))return!1}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!0})));if(u.size>0)throw this.displayErrorPopin(this.com.t("no-network","error")),new r.SymbolSpriteError('Found symbolSprite signatures that were not specified in config.symbolSprites: "'.concat(x([],w(u),!1).join(", "),'"'));var c=x([],w(new Set(x(x([],w(a),!1),w(a.map((function(t){return t.slice(0,7)}))),!1))),!1),l=new Set(i.filter((function(t){return!c.includes(t)})));if(l.size>0)throw this.displayErrorPopin(this.com.t("no-network","error")),new r.SymbolSpriteError('Signatures "'.concat(x([],w(l),!1).join(", "),'" were specified in config.symbolSprites but not used by any symbolSprite in the project'));try{for(var d=b(s),h=d.next();!h.done;h=d.next()){h.value.seal()}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}},e.prototype.displayErrorPopin=function(t){this.com.messageManager.display({code:void 0,type:h.EMessageType.Immediate,popup:{level:h.EPopinLevel.Error,text:t,closable:!1,buttons:[{label:this.com.t("close","ui"),action:h.PopinButtonAction.CloseGame}]}}).finally()},e.prototype._startVI=function(){var t,e;return v(this,void 0,void 0,(function(){var n,i;return y(this,(function(r){switch(r.label){case 0:return n=this.gameConfig.frameworkPath,i=o.Tools.getFolder(this.gameConfig.modules.paths["@gdk/gamekit"]),this.vi.loader.baseUrl="".concat(n).concat(i,"/../assets/visualidentity/"),[4,this.vi.init()];case 1:return r.sent(),this.vi.introductionView.skipIntro=null!==(t=this.gameConfig.behavioursParameters[this.gameConfig.selectedBehaviour].viParameters.skipIntroduction)&&void 0!==t&&t,this.vi.emitter.emit(d.EVisualIdentityAction.SettingsEnabled,!0),this.vi.emitter.emit(d.EVisualIdentityAction.RulesEnabled,!1),this.vi.emitter.emit(d.EVisualIdentityAction.SoundEnabled,null===(e=this.gameConfig.gameParameters.soundEnabled)||void 0===e||e),this.vi.showLoadingView(),[2]}}))}))},e.prototype.mute=function(t,e){if(void 0===e&&(e=!1),this.muted===t)return!1;e&&(this._muted=t,this.vi.soundEnabled=!0),this.tryToMute(t)&&(this._muted=t,this.com.sendSoundStatus(!t),this.vi.emitter.emit(d.EVisualIdentityEvent.SoundStatusChanged))},e.prototype.tryToMute=function(t){var e,n;if(!t){var i=[];try{for(var o=b(a.Howler._howls),r=o.next();!r.done;r=o.next()){var s=r.value;if(!s._loop){var u=s._onresume.length;s._onresume=s._onresume.filter((function(t){return"playWebAudio"!==t.fn.name})),s._onresume.length<u&&i.push(s._src)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}if(i.length>0){var c=i.map((function(t){return t.substr(t.lastIndexOf("/")+1)}));console.debug("Sound actived: resume of these sounds was canceled"+" since they are not looping: ".concat(c.join(", ")))}}return!(!t&&!this.vi.soundEnabled)&&(a.Howler.mute(t),this.events.emit(p.EGameEvents.GameMuted,t),!0)},e.prototype.showInteractivityOverlay=function(){this.stage.addChild(this._disableInteractivityOverlay),s.TweenMax.fromTo(this._disableInteractivityOverlay,.15,{alpha:0},{alpha:1,ease:s.Power1.easeInOut})},e.prototype.removeInteractivityOverlay=function(){var t=this;s.TweenMax.fromTo(this._disableInteractivityOverlay,.15,{alpha:1},{alpha:0,ease:s.Power1.easeInOut,onComplete:function(){t.stage.removeChild(t._disableInteractivityOverlay)}})},Object.defineProperty(e.prototype,"muted",{get:function(){return"running"!==a.Howler.state||this._muted},enumerable:!1,configurable:!0}),e.prototype.getThemePath=function(){var t=this.gameConfig.selectedTheme,e=this.gameConfig.gameDescription.assets.themes[t];return"".concat(this.gameConfig.gamePath,"assets/").concat(e)},e.prototype.getInfos=function(){return v(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return[4,t.prototype.getInfos.call(this)];case 1:return(e=n.sent()).envInfos.bridge=this.com.bridge.version,e.envInfos.renderMode=this.isCanvasRenderer?"Canvas":"WebGL",e.envInfos.renderSize={width:this.renderer.width,height:this.renderer.height},[2,e]}}))}))},e.prototype.getOpenGameParameters=function(){return this.com.getOpenGameParameters()},e.prototype.getGameMode=function(){return this.com.getGameMode()},e.prototype._loadAssets=function(t,e){return v(this,void 0,void 0,(function(){var n,i=this;return y(this,(function(r){return o.tracker.track(new o.GameLoaded({technicalName:this.gameConfig.lotteryGameCode,gameType:this.gameConfig.engine,locale:this.gameConfig.selectedLocale,currency:this.gameConfig.stakes[0].currency,theme:this.gameConfig.selectedTheme})),this.loader.onError=function(t){o.tracker.track(new o.ErrorEvent("Failed to load ".concat(t)))},this.loader.baseUrl="",n=this.gameConfig.frameworkPath+o.Tools.getFolder(this.gameConfig.modules.paths["@gdk/gamekit"]),this.loader.add("".concat(n,"/../assets/game/").concat(this.settings.language,".json"),"game-i18n"),this.loader.assetsPath="".concat(this.gameConfig.gamePath,"assets/"),this.loader.loadFrom(this.gameConfig,(function(){return c.a.addResourceBundle(i.settings.language,"game",i.loader.get("game-i18n"),!0,!1),0===t.length&&t(),e()})),[2]}))}))},e.prototype._createOverlay=function(){this._disableInteractivityOverlay=new l.Graphics,this._disableInteractivityOverlay.beginFill(0,.6),this._disableInteractivityOverlay.drawRect(0,0,1,1),this._disableInteractivityOverlay.resize=new r.Resize(r.Resize.cover),this._disableInteractivityOverlay.interactive=!0},e}(r.GamePixi)},"./src/game/action/action.ts":
/*!***********************************!*\
  !*** ./src/game/action/action.ts ***!
  \***********************************/
/*! exports provided: Action */function(t,e,n){"use strict";n.r(e),n.d(e,"Action",(function(){return d}));var i,o=n(/*! i18next */"i18next"),r=n.n(o),s=n(/*! ../../com */"./src/com/index.ts"),a=n(/*! ../abstractGame */"./src/game/abstractGame.ts"),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},l=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},d=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,i,o,r)||this;return s.selectedStake=e.stakes[e.defaultStakeIndex?e.defaultStakeIndex:0],s}return u(e,t),e.prototype.getModel=function(t,e){return void 0===t&&(t={}),c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,this.com.getModel(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getPrsTicketInfos=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.com.getPrsTicketInfos()];case 1:return[2,t.sent()]}}))}))},e.prototype.getSession=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!1),this.com.getMtrSession(t,void 0,e)},e.prototype.getSessionFromBetId=function(t){return void 0===t&&(t={}),this.com.getMtrSessionToReplay(t)},e.prototype.bet=function(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return[4,this.com.createMtrBet(t)];case 1:return(e=n.sent()).message&&this.com.messageManager.push(e.message),[4,this.getPurse(!0)];case 2:return n.sent(),[2,e]}}))}))},e.prototype.preBet=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.com.preBet(t)]}))}))},e.prototype.showResumeGamePopup=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.com.messageManager.display({code:"MTR.RESUME",type:s.EMessageType.Immediate,popup:{level:s.EPopinLevel.Info,text:r.a.t("motors.resume.text"),buttons:[{label:r.a.t("motors.resume.button"),action:s.PopinButtonAction.ClosePopin}]}})];case 1:return t.sent(),[2]}}))}))},e.prototype.getContext=function(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return e=t.serviceName||this.gameConfig.lotteryGameCode,[4,this.com.getContext(e)];case 1:return[2,n.sent()]}}))}))},e}(a.AbstractGame)},"./src/game/action/model.ts":
/*!**********************************!*\
  !*** ./src/game/action/model.ts ***!
  \**********************************/
/*! exports provided: MotorsModel */function(t,e,n){"use strict";n.r(e),n.d(e,"MotorsModel",(function(){return i}));var i=function(t){this.gameModelId=t.data.gmid,this.gameName=t.data.gmn,this.data=t.data.mdl}},"./src/game/action/session.ts":
/*!************************************!*\
  !*** ./src/game/action/session.ts ***!
  \************************************/
/*! exports provided: ESessionMode, MotorsSession */function(t,e,n){"use strict";n.r(e),n.d(e,"ESessionMode",(function(){return i})),n.d(e,"MotorsSession",(function(){return u}));var i,o=n(/*! @falcon/bridge */"@falcon/bridge"),r=n(/*! ../../com */"./src/com/index.ts"),s=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},a=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};!function(t){t.Default="default",t.Resume="resume",t.Replay="replay"}(i||(i={}));var u=function(){function t(t,e){this.id=void 0,this.state=void 0,this.sessionData=void 0,this.betAmount=void 0,this.wonAmount=void 0,this.lastResponse=void 0,this.mode=void 0,this._game=t,"res"in e.data?this._initFromBetRespone(e):"gmd"in e.data?this._initFromSession(e):this._initFromReplaySession(e)}return t.prototype.updateBet=function(t,e){return s(this,void 0,void 0,(function(){var n;return a(this,(function(o){switch(o.label){case 0:return this.mode===i.Replay&&this.hasReplaySteps()?(this._updateFromBetResponse(this._getReplayStepAsBetResult()),[2]):[4,this._game.com.updateMtrBet({serviceName:this.serviceName,applicationId:this.applicationId,parameters:{prm:e,evn:t,sid:this.id},demo:this.demo})];case 1:return(n=o.sent()).message&&this._game.com.messageManager.push(n.message),this._updateFromBetResponse(n),[2]}}))}))},t.prototype.hasReplaySteps=function(){return void 0!==this._steps},t.prototype._getReplayStepAsBetResult=function(){if(!this._steps||!this._steps.length)throw new Error("No steps in the session.");var t=this._steps.shift(),e={applicationId:this.applicationId,serviceName:this.serviceName,betAmount:this.betAmount,wonAmount:this.wonAmount,receiptId:"",platformBetId:"",serverMessage:[],data:{res:"ok",data:{evr:t.res,st:t.st,gmid:this.gmid,id:this.id}},demo:!1};return this._steps.length||(this._steps=void 0),e},t.prototype.getInitialReplayParameters=function(){if(!this._initialStepParameters)throw new Error("No steps in the session.");return this._initialStepParameters},t.prototype.getNextReplayStepParameters=function(){if(!this._steps)throw this._game.com.messageManager.display({code:"MTR.REPLAY.RESOLVED",type:r.EMessageType.Immediate,popup:{level:r.EPopinLevel.Error,text:this._game.com.t("motors-replay-unfinished","error"),buttons:[{label:this._game.com.t("close","ui")||" Close",action:r.PopinButtonAction.CloseGame}]}}),new Error("No steps in the session.");return this._steps[0].par},t.prototype._updateFromBetResponse=function(t){this.state=t.data.data.st,t.wonAmount&&(this.wonAmount=t.wonAmount),this.lastResponse=t.data.data.evr},t.prototype._initFromBetRespone=function(t){this.demo=t.demo,this.id=t.data.data.id,this.state=t.data.data.st,this.betAmount=t.betAmount,t.wonAmount&&(this.wonAmount=t.wonAmount),this.lastResponse=t.data.data.evr,this.mode=i.Default,this.gmid=t.data.data.gmid,this.applicationId=t.applicationId,this.serviceName=t.serviceName},t.prototype._initFromSession=function(t){this._initFromSessionOrReplaySession(t),this.state=t.data.st,this.sessionData=t.data.gmd},t.prototype._initFromReplaySession=function(t){if(this._initFromSessionOrReplaySession(t),t.data.steps&&t.data.steps.length){var e=t.data.steps.slice(1);e.length&&(this._steps=e),this._initialStepParameters=t.data.steps[0].par,this.lastResponse=t.data.steps[0].res,this.wonAmount=t.wonAmount}},t.prototype._initFromSessionOrReplaySession=function(t){this.demo=!1,this.id=t.id,this.betAmount=t.betAmount,this.mode=t.data.state===o.EMtrSessionState.InProgress?i.Resume:i.Replay,this.gmid=t.data.gmid,this.applicationId=t.applicationId,this.serviceName=t.serviceName},t}()},"./src/game/carousel.ts":
/*!******************************!*\
  !*** ./src/game/carousel.ts ***!
  \******************************/
/*! exports provided: Carousel */function(t,e,n){"use strict";n.r(e),n.d(e,"Carousel",(function(){return v}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! @gdk/core */"@gdk/core"),s=n(/*! gsap */"gsap"),a=n(/*! pixi.js */"pixi.js"),u=n(/*! ./tweenUtils */"./src/game/tweenUtils.ts"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},h=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},g=function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},m={offset:0,maxDragTime:400,dragSensibility:10,animationDuration:.5,scales:[1,.75,.6,.5],fixedDocking:[new a.Point(0,0),new a.Point(176,128),new a.Point(300,226),new a.Point(500,324)],fixedDocking2Cards:[new a.Point(232,232),new a.Point(-232,-232)]},v=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.dragStartTime=0,i.dragStartPosition=new a.Point,i.isDragging=!1,i.isActive=!1,i.game=e.game,i.container=e.container,i.previousArrow=e.previousArrow,i.nextArrow=e.nextArrow;var o=e.container.children.filter((function(t){return t.visible}));i.correspondingIndex=[];for(var r=0;r<o.length;r++){var s=o.length-1-r;r%2==0?i.correspondingIndex.push(s):i.correspondingIndex.unshift(s)}var u=Math.ceil(o.length/2);for(r=0;r<u;r++){var c=i.correspondingIndex.pop();i.correspondingIndex.splice(0,0,c)}i.cards=[];for(r=0;r<o.length;r++)i.cards[r]=o[i.correspondingIndex[r]];return i.settings=l(l(l({},m),{orientation:i.game.settings.orientation}),n),i.previousArrow&&i.previousArrow.on("pointertap",(function(){i.previousCard()})),i.nextArrow&&i.nextArrow.on("pointertap",(function(){i.nextCard()})),i.setButtonActive(i.isCarousel()),i.previousActiveCard=i.cards[0],i.updateCardPositions(!1),i.container.interactive=!0,i.container.on("pointerdown",i.onDragStart.bind(i)),i.container.on("pointerup",i.onDragStop.bind(i)),i.container.on("pointerupoutside",i.onDragStop.bind(i)),"undefined"!=typeof window&&(window.addEventListener("wheel",i.onScroll.bind(i)),window.addEventListener("mousewheel",i.onScroll.bind(i)),window.addEventListener("DOMMouseScroll",i.onScroll.bind(i))),i}return c(e,t),e.prototype.getCardDimension=function(){var t,e,n=0,i=0;try{for(var o=p(this.cards),r=o.next();!r.done;r=o.next()){var s=r.value;n=Math.max(n,s.width*(1/s.scaleX)),i=Math.max(i,s.height*(1/s.scaleY))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return new a.Point(n,i)},e.prototype.getCardsOffset=function(){var t=this.getCardDimension(),e=o.ContainerUtils.getContainerDimensions(this.game.renderer,this.container),n=this.settings.orientation===r.EOrientation.Landscape&&t.x||t.y,i=this.settings.orientation===r.EOrientation.Landscape&&e.x||e.y;return 2===this.cards.length?Math.max(20,(i-2*n)/2):Math.max(1,(i-n)/this.cards.length)},e.prototype.sortCards=function(t){var e=this;if(void 0===t&&(t=!1),!(this.cards.length<=2)){var n=this.cards.findIndex((function(t){return t===e.activeCard})),i=this.cards.slice(n).concat(this.cards.slice(0,n));this.cards=i;for(var o=[],r=[],s=Math.round(this.cards.length/2),a=g(g([],f(this.cards.slice(0,s)),!1),f(this.cards.slice(s).reverse()),!1),u=0;u<a.length;u++)0!==u&&(u%2==0?r.push(a[u]):o.push(a[u]));var c=g(g(g([],f(r),!1),f(o),!1),[a[0]],!1);t&&c.splice.apply(c,g([0,2],f(c.slice(0,2).reverse()),!1)),c.forEach((function(t){return e.container.addChild(t)}))}},e.prototype.computeArray=function(t,e){void 0===e&&(e=!1);var n=t.slice(),i=2*n.length-1-this.cards.length,o=Math.floor(i/2);n.splice(n.length-o,o);var r=n.slice().reverse();return r.pop(),e&&(r=r.map((function(t){return-t}))),this.cards.length%2==0&&n.pop(),n.concat(r)},e.prototype.getCardPositions=function(){var t=this;if(this.cards.length<=2&&Array.isArray(this.settings.fixedDocking2Cards))return this.settings.fixedDocking2Cards.map((function(e){return t.settings.orientation===r.EOrientation.Landscape?e.x:e.y}));if(!Array.isArray(this.settings.fixedDocking))throw new Error("[carousel] fixedDocking must not be an array of Point and not be empty");return this.computeArray(this.settings.fixedDocking.map((function(e){return t.settings.orientation===r.EOrientation.Landscape?e.x:e.y})),!0)},e.prototype.onScroll=function(t){if(this.container.visible){var e=0;t||(t=window.event),event.wheelDelta?e=event.wheelDelta/120:event.detail&&(e-=event.detail/3),e&&(e>0?this.nextCard():this.previousCard())}},e.prototype.onDragStart=function(t){this.isDragging=!0,this.dragStartTime=Date.now(),this.dragStartPosition=new a.Point(t.data.global.x,t.data.global.y)},e.prototype.onDragStop=function(t){if(this.isDragging){var e=new a.Point(t.data.global.x,t.data.global.y),n=new a.Point(e.x-this.dragStartPosition.x,e.y-this.dragStartPosition.y);this.settings.orientation===r.EOrientation.Landscape&&Math.abs(n.x)>=this.settings.dragSensibility?e.x>this.dragStartPosition.x?this.previousCard():this.nextCard():this.settings.orientation===r.EOrientation.Portrait&&Math.abs(n.y)>=this.settings.dragSensibility&&(e.y>this.dragStartPosition.y?this.previousCard():this.nextCard()),this.isDragging=!1}},e.prototype.updateArrowsPositions=function(){var t=this.settings.orientation===r.EOrientation.Landscape,e=(t?0:90)*(Math.PI/180);this.previousArrow&&(this.previousArrow.rotation=e,this.previousArrow.docking=t?new o.Docking(o.Docking.bottomLeft,0,-40):new o.Docking(o.Docking.bottomRight,0,-102)),this.nextArrow&&(this.nextArrow.rotation=e,this.nextArrow.docking=new o.Docking(o.Docking.bottomRight,0,-40))},e.prototype.setActiveCard=function(t,e){return void 0===e&&(e=!1),d(this,void 0,void 0,(function(){var n,i,o,r;return h(this,(function(s){switch(s.label){case 0:if(!this.cards.find((function(e){return e===t}))||this.activeCard===t)return[2];for(this.previousActiveCard=this.cards[0],n=this.cards.findIndex((function(e){return e===t})),i=0;i<n;i++)o=this.cards.shift(),this.cards[this.cards.length]=o;return r=(this.cards.length-n)%2==1,[4,this.updateCardPositions(e,r)];case 1:return s.sent(),[2]}}))}))},e.prototype.updateCardPositions=function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),d(this,void 0,void 0,(function(){var n,i,o,a,c,l,d;return h(this,(function(h){switch(h.label){case 0:for(n=new s.TimelineMax,i=this.getCardPositions(),o=this.cards.length>2?this.computeArray(this.settings.scales):new Array(this.cards.length).fill(.8),this.activeCard=this.cards[0],this.setButtonActive(!1),this.container.worldVisible&&this.emit("beforeChangeCard",this.activeCard,this.previousActiveCard),a=function(e){var a=c.cards[e],u=o[e],l=c.settings.orientation===r.EOrientation.Landscape?i[e]:a.docking.x,d=c.settings.orientation===r.EOrientation.Portrait?i[e]:a.docking.y;c.container.addChild(c.cards[c.correspondingIndex.findIndex((function(t){return t===e}))]),t?(a.scaleXY=u,a.docking.x=l,a.docking.y=d):(n.add(s.TweenMax.to(a.docking,c.settings.animationDuration,{x:l,y:d}),0),n.add(s.TweenMax.to(a,c.settings.animationDuration,{scaleXY:u}),0))},c=this,l=0;l<this.cards.length;l++)a(l);return this.cards.length%2==1?e&&this.container.setChildIndex(this.cards[this.correspondingIndex.findIndex((function(t){return 1===t}))],0):e||(d=Math.floor((this.cards.length-1)/2),this.container.setChildIndex(this.cards[d],0)),t?[3,2]:[4,u.TweenUtils.playTween(n)];case 1:h.sent(),h.label=2;case 2:return this.setButtonActive(this.isCarousel()),this.container.worldVisible&&this.emit("changeCard",this.activeCard,this.previousActiveCard),this.settings.useCustomArrowsPositions||this.updateArrowsPositions(),this.emit("cardPositionsUpdated"),[2]}}))}))},e.prototype.setButtonActive=function(t){void 0===t&&(t=!0),this.getCards().length<=2||(this.previousArrow&&(this.previousArrow.enabled=this.previousArrow.visible=t),this.nextArrow&&(this.nextArrow.enabled=this.nextArrow.visible=t))},e.prototype.previousCard=function(t){if(void 0===t&&(t=!1),this.isCarousel()){this.previousActiveCard=this.cards[0];var e=this.cards.pop();this.cards.splice(0,0,e),this.updateCardPositions(t,!0)}},e.prototype.nextCard=function(t){if(void 0===t&&(t=!1),this.isCarousel()){this.previousActiveCard=this.cards[0];var e=this.cards.shift();this.cards[this.cards.length]=e,this.updateCardPositions(t)}},e.prototype.kill=function(){"undefined"!=typeof window&&(window.removeEventListener("wheel",this.onScroll.bind(this)),window.removeEventListener("mousewheel",this.onScroll.bind(this)),window.removeEventListener("DOMMouseScroll",this.onScroll.bind(this)))},e.prototype.setActive=function(t){return this.isActive=t},e.prototype.isCarousel=function(){return this.cards.length>2},e.prototype.getActiveCard=function(){return this.activeCard},e.prototype.getCards=function(){return this.cards},e.prototype.isSimpleMode=function(){return this.cards.length<=2},e}(a.utils.EventEmitter)},"./src/game/express/express.ts":
/*!*************************************!*\
  !*** ./src/game/express/express.ts ***!
  \*************************************/
/*! exports provided: Express */function(t,e,n){"use strict";n.r(e),n.d(e,"Express",(function(){return d}));var i,o=n(/*! i18next */"i18next"),r=n.n(o),s=n(/*! ../../com */"./src/com/index.ts"),a=n(/*! ../abstractGame */"./src/game/abstractGame.ts"),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},l=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},d=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n,i,o,r)||this;return s.selectedStake=e.stakes[e.defaultStakeIndex?e.defaultStakeIndex:0],s}return u(e,t),e.prototype.bet=function(t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:if(!t.stake)throw new Error("Try to bet with parameters.stake undefined");return[4,this.com.createItgBet(t)];case 1:return e=n.sent(),[4,this.getPurse(!0)];case 2:return n.sent(),[2,this._betResponseToTicketData(t,e)]}}))}))},e.prototype.showResumeGamePopup=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.com.messageManager.display({code:"ITG.RESUME",type:s.EMessageType.Immediate,popup:{level:s.EPopinLevel.Info,text:r.a.t("itg.resume.text"),buttons:[{label:r.a.t("itg.resume.button"),action:s.PopinButtonAction.ClosePopin}]}})];case 1:return[2,t.sent()]}}))}))},e.prototype.showReplayStartPopup=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.com.messageManager.display({code:"ITG.REPLAY",type:s.EMessageType.Immediate,popup:{level:s.EPopinLevel.Info,text:r.a.t("itg.replay.text"),buttons:[{label:r.a.t("itg.replay.button"),action:s.PopinButtonAction.ClosePopin}]}})];case 1:return[2,t.sent()]}}))}))},e.prototype.getUserInformation=function(){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.com.getUserInformation()]}))}))},e.prototype.preBet=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return this.gameConfig.gameParameters.handlePreBet?[2,this.com.preBet(t)]:[2,Promise.resolve()]}))}))},e.prototype.gameEndHook=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return this.gameConfig.gameParameters.gameEndHook?[2,this.com.bridge.emitEvent("GAME_END_HOOK",{ticket:t,stakes:this.gameConfig.stakes})]:[2,Promise.resolve(void 0)]}))}))},e.prototype.resumeHook=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return this.gameConfig.gameParameters.resumeHook?[2,this.com.bridge.emitEvent("RESUME_HOOK",t)]:[2,Promise.resolve(!0)]}))}))},e.prototype.updateGameMode=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.com.updateGameMode(t)]}))}))},e.prototype.getExistingTicket=function(t,e){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,this.com.getItgTickets(t,e)];case 1:return[2,n.sent()[0]]}}))}))},e.prototype.getTicketToReplay=function(t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.com.getTicketToReplay(t)]}))}))},e.prototype.updateTicket=function(t,e,n){return void 0===n&&(n=!0),c(this,void 0,void 0,(function(){var i;return l(this,(function(o){switch(o.label){case 0:return[4,this.com.updateItgTicket(t,e,n)];case 1:return i=o.sent(),[2,this._betResponseToTicketData(t,i)]}}))}))},e.prototype.claim=function(t,e){return c(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return[4,this.com.claimItgBet(t,e)];case 1:return n=i.sent(),[4,this.getPurse(!0)];case 2:return i.sent(),[2,this._betResponseToTicketData(t,n)]}}))}))},e.prototype._betResponseToTicketData=function(t,e){var n=e.data;n.betAmount=t.stake,n.wonAmount=e.wonAmount,n.receiptId=e.receiptId,n.platformBetId=e.platformBetId,n.demo=e.demo;var i=n.eventReference;if(i&&(n.prize={rank:i.prizeRank,type:i.prizeType,description:i.prizeDescription}),e.serverMessage){var o=e.serverMessage.map((function(t){return t.id})).filter((function(t){return"NO_ACTION"!==t}));0!==o.length&&(n.action=o[0])}return n},Object.defineProperty(e.prototype,"betMode",{get:function(){return(this.gameConfig.selectedBetMode||"").toLowerCase().indexOf("manual")>=0?"BET_MANUAL_CLAIM":"BET_AUTO_CLAIM"},enumerable:!1,configurable:!0}),e}(a.AbstractGame)},"./src/game/express/ticket.ts":
/*!************************************!*\
  !*** ./src/game/express/ticket.ts ***!
  \************************************/
/*! exports provided: ETicketStatus, ETicketMode, EBetResponseAction, Ticket */function(t,e,n){"use strict";n.r(e),n.d(e,"ETicketStatus",(function(){return i})),n.d(e,"ETicketMode",(function(){return o})),n.d(e,"EBetResponseAction",(function(){return r})),n.d(e,"Ticket",(function(){return l}));var i,o,r,s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! ../tweenUtils */"./src/game/tweenUtils.ts"),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};!function(t){t.CLAIMED="CLAIMED",t.OPENED="OPENED"}(i||(i={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.RESUME=1]="RESUME",t[t.REPLAY=2]="REPLAY"}(o||(o={})),function(t){t.NO_ACTION="NO_ACTION",t.SUSPENSION_TRIGGERED="SUSPENSION_TRIGGERED",t.AUTOWITHDRAWAL_TRIGGERED="AUTOWITHDRAWAL_TRIGGERED"}(r||(r={}));var l=function(){function t(t,e,n){void 0===e&&(e=o.DEFAULT),this._game=n,this._updateInProgress=!1,this.ticket=t,this.serviceName=t.serviceName,this.stake=new s.Amount(t.betAmount),this.demo=t.demo,this.wonAmount=t.wonAmount?new s.Amount(t.wonAmount):null,this.symbol=t.symbol,this.receiptId=t.receiptId,this.platformBetId=t.platformBetId,this.ticketId=t.id,this.mode=e,this.parse();var i=t.revelationData;if(null!==i){var r="areRevelationDataValid returned false",a=void 0;try{a=this.areRevelationDataValid(i)}catch(t){r="areRevelationDataValid error: ".concat(t.message),a=!1}a||(s.Logger.getLogger().error("".concat(r," with data: \n\n").concat(JSON.stringify(i))),i=null)}this.revelationData=i,t.action&&(this.action=t.action),this.status=t.status}return t.prototype.claim=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this.status!==i.CLAIMED||"BET_MANUAL_CLAIM"!==this._game.betMode&&this.mode!==o.REPLAY?[4,this._game.claim({applicationId:"ITG",serviceName:this._game.gameConfig.lotteryGameCode,stake:{currency:this.stake.currency,value:this.stake.value},demo:this.demo},this.ticketId)]:[2,this.ticket];case 1:return t=e.sent(),this.status=t.status,this.wonAmount=t.wonAmount?new s.Amount(t.wonAmount):null,t.action&&(this.action=t.action),[2,t]}}))}))},t.prototype.update=function(t){return void 0===t&&(t=!0),u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this._updateInProgress||this.mode===o.REPLAY?[2,this._updatePromise]:(this._updateInProgress=!0,[4,a.TweenUtils.wait(.5)]);case 1:return e.sent(),[4,this._updateTicketNow(t)];case 2:return e.sent(),[2]}}))}))},t.prototype._updateTicketNow=function(t){return void 0===t&&(t=!0),u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this._updateInProgress=!1,this.status===i.CLAIMED?[2]:[4,this._game.updateTicket({applicationId:"ITG",demo:this.ticket.demo,serviceName:this._game.gameConfig.lotteryGameCode,stake:{currency:this.stake.currency,value:this.stake.value},revelationData:this.revelationData},this.ticketId,t)];case 1:return e.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"prize",{get:function(){return this.ticket.prize},enumerable:!1,configurable:!0}),t}()},"./src/game/gameEvents.ts":
/*!********************************!*\
  !*** ./src/game/gameEvents.ts ***!
  \********************************/
/*! exports provided: EGameEvents */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"EGameEvents",(function(){return i})),function(t){t.GameStart="gamestart",t.GameEnd="gameend",t.RulesOpen="rulesopen",t.RulesQuit="rulesquit",t.GamePaused="gamepaused",t.GameMuted="gamemuted"}(i||(i={}))},"./src/game/inactivity.ts":
/*!********************************!*\
  !*** ./src/game/inactivity.ts ***!
  \********************************/
/*! exports provided: Inactivity */function(t,e,n){"use strict";n.r(e),n.d(e,"Inactivity",(function(){return l}));var i=n(/*! gsap */"gsap"),o=n(/*! ./gameEvents */"./src/game/gameEvents.ts"),r=n(/*! ../adaptativeVisualIdentity/events */"./src/adaptativeVisualIdentity/events.ts"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},u=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},c={delay:5,autoStart:!0},l=function(){function t(t,e,n,i){void 0===i&&(i={});var o=this;this.loop=!1,this.isClickMaintained=!1,this.isSettingsOpened=!1,this.isRulesOpened=!1,this.subscribed=!1,this.inactive=!1,this.options={},this.onDelayExceeded=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.stopTimeOut(),this.inactive=!0,this.onInactivity?[4,this.onInactivity()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.loop&&this.startTimeOut(this.options.loopDelay),[2]}}))}))},this.onClickMaintained=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isClickMaintained=!0,[4,this.pause()];case 1:return t.sent(),[2]}}))}))},this.onClickEnd=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return!this.isClickMaintained||this.isSettingsOpened||this.isRulesOpened?[3,2]:[4,this.start()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},this.onPointerMove=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isClickMaintained||this.isSettingsOpened||this.isRulesOpened?[3,2]:[4,this.start()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},this.onShowSettings=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isSettingsOpened=!0,[4,this.pause()];case 1:return t.sent(),[2]}}))}))},this.onShowRules=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isRulesOpened=!0,[4,this.pause()];case 1:return t.sent(),[2]}}))}))},this.onHideSettings=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isSettingsOpened=!1,this.isRulesOpened?[3,2]:[4,this.start()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},this.onHideRules=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.isRulesOpened=!1,this.isSettingsOpened=!1,[4,this.start()];case 1:return t.sent(),[2]}}))}))},this.onGamePaused=function(t){return a(o,void 0,void 0,(function(){return u(this,(function(e){return t?this.pause():this.start(),[2]}))}))},this.start=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.inactive?[4,this.onEndInactivity()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.isClickMaintained=!1,this.isSettingsOpened=!1,this.isRulesOpened=!1,this.inactive=!1,this.startTimeOut(),this.subscribe(),[2]}}))}))},this.pause=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.inactive?[4,this.onEndInactivity()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.inactive=!1,this.stopTimeOut(),[2]}}))}))},this.stop=function(){return a(o,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.unsubscribe(),this.stopTimeOut(),this.onEndInactivity?[4,this.onEndInactivity()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},this.game=t,this.onInactivity=e,this.onEndInactivity=n,this.options=s(s({},c),i),Object.keys(i).forEach((function(t){return o[t]=i[t]})),this.options.autoStart&&this.start()}return t.prototype.stopTimeOut=function(){this.timeOut&&this.timeOut.kill()},t.prototype.startTimeOut=function(t){this.stopTimeOut(),this.timeOut=i.TweenMax.delayedCall(t&&!isNaN(parseInt(t.toString(),10))?t:this.options.delay,this.onDelayExceeded)},t.prototype.subscribe=function(){this.subscribed||(this.subscribed=!0,document.addEventListener("pointerdown",this.onClickMaintained,!1),document.addEventListener("touchstart",this.onClickMaintained,!1),document.addEventListener("pointerup",this.onClickEnd,!1),document.addEventListener("touchend",this.onClickEnd,!1),document.addEventListener("touchmove",this.onPointerMove,!1),document.addEventListener("mousemove",this.onPointerMove,!1),document.addEventListener("mouseend",this.onPointerMove,!1),this.game.vi.emitter.on(r.EVisualIdentityEvent.ShowSettings,this.onShowSettings),this.game.vi.emitter.on(r.EVisualIdentityEvent.ShowRules,this.onShowRules),this.game.vi.emitter.on(r.EVisualIdentityEvent.ShowMainRules,this.onShowRules),this.game.vi.emitter.on(r.EVisualIdentityEvent.HideSettings,this.onHideSettings),this.game.events.on(o.EGameEvents.GamePaused,this.onGamePaused),this.game.events.on(o.EGameEvents.RulesQuit,this.onHideRules))},t.prototype.unsubscribe=function(){this.subscribed&&(document.removeEventListener("pointerdown",this.onClickMaintained,!1),document.removeEventListener("touchstart",this.onClickMaintained,!1),document.removeEventListener("pointerup",this.onClickEnd,!1),document.removeEventListener("touchend",this.onClickEnd,!1),document.removeEventListener("touchmove",this.onPointerMove,!1),document.removeEventListener("mousemove",this.onPointerMove,!1),document.removeEventListener("mouseend",this.onPointerMove,!1),this.subscribed=!1,this.game.vi.emitter.off(r.EVisualIdentityEvent.ShowSettings,this.onShowSettings),this.game.vi.emitter.off(r.EVisualIdentityEvent.ShowRules,this.onShowRules),this.game.vi.emitter.off(r.EVisualIdentityEvent.ShowMainRules,this.onShowRules),this.game.vi.emitter.off(r.EVisualIdentityEvent.HideSettings,this.onHideSettings),this.game.events.off(o.EGameEvents.GamePaused,this.onGamePaused),this.game.events.off(o.EGameEvents.RulesQuit,this.onHideRules))},t.prototype.setDelay=function(t){this.options.delay=t,this.start()},t.prototype.isInactive=function(){return this.inactive},t}()},"./src/game/index.ts":
/*!***************************!*\
  !*** ./src/game/index.ts ***!
  \***************************/
/*! exports provided: AbstractGame, EGameEvents, Express, Ticket, ETicketMode, ETicketStatus, EBetResponseAction, Action, MotorsModel, MotorsSession, ESessionMode, Multipass, MultipassSession, MultipassNotifications, EMultipassGameState, EMultipassNotificationType, TweenUtils, Rules, Slide, TextSlide, ELayout, BaseSlide, AgreementSlide, Home, ResultBox, EResultBoxEvents, ResultStage, ScratchStage, TextResultStage, AmountResultStage, Timer, CrossSell, EAvatarStatus, Inactivity, Carousel */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./abstractGame */"./src/game/abstractGame.ts");n.d(e,"AbstractGame",(function(){return i.AbstractGame}));var o=n(/*! ./gameEvents */"./src/game/gameEvents.ts");n.d(e,"EGameEvents",(function(){return o.EGameEvents}));var r=n(/*! ./express/express */"./src/game/express/express.ts");n.d(e,"Express",(function(){return r.Express}));var s=n(/*! ./express/ticket */"./src/game/express/ticket.ts");n.d(e,"Ticket",(function(){return s.Ticket})),n.d(e,"ETicketMode",(function(){return s.ETicketMode})),n.d(e,"ETicketStatus",(function(){return s.ETicketStatus})),n.d(e,"EBetResponseAction",(function(){return s.EBetResponseAction}));var a=n(/*! ./action/action */"./src/game/action/action.ts");n.d(e,"Action",(function(){return a.Action}));var u=n(/*! ./action/model */"./src/game/action/model.ts");n.d(e,"MotorsModel",(function(){return u.MotorsModel}));var c=n(/*! ./action/session */"./src/game/action/session.ts");n.d(e,"MotorsSession",(function(){return c.MotorsSession})),n.d(e,"ESessionMode",(function(){return c.ESessionMode}));var l=n(/*! ./multipass/multipass */"./src/game/multipass/multipass.ts");n.d(e,"Multipass",(function(){return l.Multipass}));var d=n(/*! ./multipass/session */"./src/game/multipass/session.ts");n.d(e,"MultipassSession",(function(){return d.MultipassSession}));var h=n(/*! ./multipass/notifications */"./src/game/multipass/notifications.ts");n.d(e,"MultipassNotifications",(function(){return h.MultipassNotifications})),n.d(e,"EMultipassGameState",(function(){return h.EMultipassGameState})),n.d(e,"EMultipassNotificationType",(function(){return h.EMultipassNotificationType}));var p=n(/*! ./tweenUtils */"./src/game/tweenUtils.ts");n.d(e,"TweenUtils",(function(){return p.TweenUtils}));var f=n(/*! ./ui */"./src/game/ui/index.ts");n.d(e,"Rules",(function(){return f.Rules})),n.d(e,"Slide",(function(){return f.Slide})),n.d(e,"TextSlide",(function(){return f.TextSlide})),n.d(e,"ELayout",(function(){return f.ELayout})),n.d(e,"BaseSlide",(function(){return f.BaseSlide})),n.d(e,"AgreementSlide",(function(){return f.AgreementSlide})),n.d(e,"Home",(function(){return f.Home})),n.d(e,"ResultBox",(function(){return f.ResultBox})),n.d(e,"EResultBoxEvents",(function(){return f.EResultBoxEvents})),n.d(e,"ResultStage",(function(){return f.ResultStage})),n.d(e,"ScratchStage",(function(){return f.ScratchStage})),n.d(e,"TextResultStage",(function(){return f.TextResultStage})),n.d(e,"AmountResultStage",(function(){return f.AmountResultStage})),n.d(e,"Timer",(function(){return f.Timer})),n.d(e,"CrossSell",(function(){return f.CrossSell}));var g=n(/*! ./wizz */"./src/game/wizz/index.ts");n.d(e,"EAvatarStatus",(function(){return g.EAvatarStatus}));var m=n(/*! ./inactivity */"./src/game/inactivity.ts");n.d(e,"Inactivity",(function(){return m.Inactivity}));var v=n(/*! ./carousel */"./src/game/carousel.ts");n.d(e,"Carousel",(function(){return v.Carousel}))},"./src/game/multipass/multipass.ts":
/*!*****************************************!*\
  !*** ./src/game/multipass/multipass.ts ***!
  \*****************************************/
/*! exports provided: Multipass */function(t,e,n){"use strict";n.r(e),n.d(e,"Multipass",(function(){return l}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! ../abstractGame */"./src/game/abstractGame.ts"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},l=function(t){function e(e,n,i,s,a){var l=t.call(this,e,n,i,s,a)||this;return l.room=null,l.session=null,l.notifications=null,l.wasHidden=!1,document.addEventListener("visibilitychange",(function(){return u(l,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this.wasHidden&&this.notifications&&this.session?(this.stage.addChild(this.wasHiddenOverlay),t=this.notifications.muted,this.notifications.muted=!0,[4,this.updateSession()]):[3,2];case 1:e.sent(),this.notifications.muted=t,this.stage.removeChild(this.wasHiddenOverlay),e.label=2;case 2:return this.wasHidden="hidden"===document.visibilityState,[2]}}))}))})),l.wasHiddenOverlay=new o.Graphics,l.wasHiddenOverlay.beginFill(0,.6),l.wasHiddenOverlay.drawRect(0,0,1,1),l.wasHiddenOverlay.resize=new r.Resize(r.Resize.cover),l.vi.emitter.removeAllListeners("showsettings"),l.vi.emitter.removeAllListeners("hidesettings"),l.vi.emitter.removeAllListeners("showrules"),l.vi.emitter.removeAllListeners("showmainrules"),l}return a(e,t),e.prototype.updateSession=function(){this.notifications.lastMessageId=this.session.lastPlayerNotificationId,this.notifications.lastMessageBroadcastId=this.session.lastGameSessionNotificationId},e.prototype.getRooms=function(t){return t||(t={applicationId:this.gameConfig.engine,serviceName:this.gameConfig.lotteryGameCode}),this.com.getMtpRooms(t)},e.prototype.enterRoom=function(t){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,this.com.enterMtpRoom(t)]}))}))},e.prototype.getSession=function(t,e){return u(this,void 0,void 0,(function(){return c(this,(function(n){return[2,this.com.getMtpSession(t,e)]}))}))},e.prototype.getParameters=function(t){return t||(t={applicationId:this.gameConfig.engine,serviceName:this.gameConfig.lotteryGameCode}),this.com.getMtpParameters(t)},e.prototype.bet=function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.com.createMtpBet(t)];case 1:return e=n.sent(),[4,this.getPurse(!0)];case 2:return n.sent(),[2,e]}}))}))},e.prototype.enterAndBet=function(t){return u(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,this.com.enterMtpRoomAndBet(t)];case 1:return e=n.sent(),[4,this.getPurse(!0)];case 2:return n.sent(),[2,e]}}))}))},e.prototype.execute=function(t){return this.com.updateMtpBet(t)},e}(s.AbstractGame)},"./src/game/multipass/notifications.ts":
/*!*********************************************!*\
  !*** ./src/game/multipass/notifications.ts ***!
  \*********************************************/
/*! exports provided: EMultipassGameState, EMultipassNotificationType, MultipassNotifications */function(t,e,n){"use strict";n.r(e),n.d(e,"EMultipassGameState",(function(){return i})),n.d(e,"EMultipassNotificationType",(function(){return o})),n.d(e,"MultipassNotifications",(function(){return l}));var i,o,r=n(/*! ../../com/popin/popin */"./src/com/popin/popin.ts"),s=n(/*! ../../com/popin/definitions */"./src/com/popin/definitions.ts"),a=n(/*! ../../com/messageManager/definitions */"./src/com/messageManager/definitions.ts"),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};!function(t){t.PENDING="PENDING",t.ONGOING="ONGOING",t.FINISHED="FINISHED"}(i||(i={})),function(t){t.SESSION_INITIALIZED="SESSION_INITIALIZED",t.PLAYER_ENTER="PLAYER_ENTER",t.PAYOUT="PAYOUT",t.PLAYER_EXIT="PLAYER_EXIT",t.SCRIPT="SCRIPT",t.SESSION_CANCELLED="SESSION_CANCELLED",t.SESSION_STOPPED="SESSION_STOPPED",t.PLAYER_REMOVED="PLAYER_REMOVED",t.TRANSACTION_EVENT="FALCON_TRANSACTION_EVENT"}(o||(o={}));var l=function(){function t(t,e){this.channel=null,this.lastMessageId=null,this.lastMessageBroadcastId=null,this._muted=!1,this._closed=!0,this._timerId=null,this._timerBroadcastId=null,this._pendingNotifications=[],this._pendingNotificationsBroadcast=[],this._connectionPopin=null,this._connectionRetryCount=0,this.game=t,e&&this.createChannel(e),this._connectionPopin=new r.Popin({level:s.EPopinLevel.Info,text:this.game.com.t("sse_connection_try","multiplayer"),closable:!1,buttons:[]},null)}return t.prototype.createChannel=function(t){return u(this,void 0,void 0,(function(){var e,n=this;return c(this,(function(i){switch(i.label){case 0:return e=this,[4,this.game.com.getNotificationsChannel({transport:2,topic:{type:"mtp",id:t}})];case 1:return e.channel=i.sent(),this.channel.addEventListener("disconnected",(function(){return u(n,void 0,void 0,(function(){return c(this,(function(t){return[2,this._closed=!0]}))}))})),this.channel.addEventListener("message",(function(t){if(t.detail&&t.detail.content){var e=t.detail.content;n.dispatchNotification(e)}})),this._muted&&this.channel.mute(),this._closed=!1,[2]}}))}))},t.prototype.start=function(t){return void 0===t&&(t=3),u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:if(!this.channel)return[2];this._connectionRetryCount>0?this._connectionPopin.display():this._connectionPopin.close(),e.label=1;case 1:return e.trys.push([1,3,,8]),[4,this.channel.start()];case 2:return e.sent(),this._connectionPopin.close(),[3,8];case 3:return e.sent(),t--,this._connectionRetryCount++,t>0?[4,this.start(t)]:[3,5];case 4:return[2,e.sent()];case 5:return this._connectionPopin.close(),[4,this.game.com.messageManager.display({code:"SSE.CONNECTION.FAILED",type:a.EMessageType.Immediate,popup:{level:s.EPopinLevel.Error,text:this.game.com.t("sse_connection_failed","multiplayer"),buttons:[{label:this.game.com.t("close","ui")||" Close",action:s.PopinButtonAction.CloseGame},{label:this.game.com.t("retry","ui"),action:s.PopinButtonAction.ClosePopin}]}})];case 6:return e.sent(),[4,this.start()];case 7:return e.sent(),[3,8];case 8:return[2]}}))}))},t.prototype.close=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this._closed?[2]:this.channel?[4,this.channel.stop()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._closed=!0,[2]}}))}))},Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.channel&&(t?this.channel.mute():this.channel.unmute())},enumerable:!1,configurable:!0}),t.prototype.dispatchNotification=function(t){if(void 0===t.sequenceNumber)return this.emitNotification(t);if(null!==this.lastMessageId||t.broadcast||(this.lastMessageId=t.sequenceNumber),null===this.lastMessageBroadcastId&&t.broadcast&&(this.lastMessageBroadcastId=t.sequenceNumber),!(t.broadcast&&t.sequenceNumber<=this.lastMessageBroadcastId)&&(t.broadcast||!(t.sequenceNumber<=this.lastMessageId))){if(t.broadcast&&t.sequenceNumber-this.lastMessageBroadcastId>=2||!t.broadcast&&t.sequenceNumber-this.lastMessageId>=2)return this._setupNotification(t),this._pendingNotificationsBroadcast.length>0&&this._shiftNotifications(this._pendingNotificationsBroadcast,this.lastMessageBroadcastId,"_timerBroadcastId"),void(this._pendingNotifications.length>0&&this._shiftNotifications(this._pendingNotifications,this.lastMessageBroadcastId,"_timerId"));this.emitNotification(t)}},t.prototype.emitNotification=function(t){if(this.onMessage){if(t.type===o.TRANSACTION_EVENT)return void this.game.com.populateNotifications(t.content);if(void 0!==t.sessionId&&this.game.session.id!==t.sessionId)return;if(void 0===t.sequenceNumber)return this.onMessage(t);t.broadcast?this.lastMessageBroadcastId=t.sequenceNumber:this.lastMessageId=t.sequenceNumber,this.onMessage(t)}},t.prototype.reset=function(){this.lastMessageId=null,this.lastMessageBroadcastId=null},t.prototype._setupNotification=function(t){return t.broadcast?this._setupPendingNotifications(this._pendingNotificationsBroadcast,t,"_timerBroadcastId"):this._setupPendingNotifications(this._pendingNotifications,t,"_timerId")},t.prototype._setupPendingNotifications=function(e,n,i){var o=this;null===this[i]?(e.splice(0,e.length-1),e.push(n),this[i]=setTimeout((function(){return u(o,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._updateSession()];case 1:return t.sent(),this[i]=null,[2]}}))}))}),t.tempo)):(e.push(n),e.sort((function(t,e){return t.sequenceNumber-e.sequenceNumber})))},t.prototype._shiftNotifications=function(t,e,n){for(;t.length&&t[0].sequenceNumber===e+1;){var i=t.shift();this.emitNotification(i)}0===t.length&&clearTimeout(this[n])},t.prototype._updateSession=function(){return u(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return t=this.game.notifications.muted,this.game.notifications.muted=!0,[4,this.game.updateSession()];case 1:return e.sent(),this.game.notifications.muted=t,[2]}}))}))},t.tempo=500,t}()},"./src/game/multipass/session.ts":
/*!***************************************!*\
  !*** ./src/game/multipass/session.ts ***!
  \***************************************/
/*! exports provided: MultipassSession */function(t,e,n){"use strict";n.r(e),n.d(e,"MultipassSession",(function(){return i}));var i=function(){function t(t){this.players=[],this.data=null,this.isInSession=!1,t&&this.updateFrom(t)}return t.prototype.updateFrom=function(t){this.id=t.id;var e=t.data,n=e.data;this.data=n.public,this.players=n.players,this.timestamp=e.time,this.playerGameSessionId=e.playerGameSessionId,this.lastPlayerNotificationId=e.lastPlayerNotificationId,this.lastGameSessionNotificationId=e.lastGameSessionNotificationId,this.playerId=e.playerId,this.totalUserInRoom=e.totalUserInRoom,this.totalActivePlayerInRoom=e.totalActivePlayerInRoom,this.roomId=e.roomId,n.currentPlayer&&(this.publicData=n.currentPlayer.public,this.protectedData=n.currentPlayer.protected,this.isInSession=!0)},t}()},"./src/game/notifier/notifier.ts":
/*!***************************************!*\
  !*** ./src/game/notifier/notifier.ts ***!
  \***************************************/
/*! exports provided: Notifier */function(t,e,n){"use strict";n.r(e),n.d(e,"Notifier",(function(){return r}));var i=n(/*! @gdk/core */"@gdk/core"),o=n(/*! ../../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),r=function(){function t(t){this._game=t}return t.prototype.notifyPurseInformationChange=function(t){t?this._game.vi.emit(o.EVisualIdentityAction.SetPurse,new i.Amount(t.displayedAmount)):this._game.getPurse(!0)},t.prototype.notifySoundStatus=function(t){this._game.vi.emit(o.EVisualIdentityAction.SoundEnabled,null!=t&&t)},t.prototype.notifyPause=function(t){var e=t.isPaused,n=t.reason;e?this._game.pause("notifier_".concat(n)):this._game.unpause("notifier_".concat(n))},t}()},"./src/game/tweenUtils.ts":
/*!********************************!*\
  !*** ./src/game/tweenUtils.ts ***!
  \********************************/
/*! exports provided: TweenUtils */function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"TweenUtils",(function(){return s}));var i=n(/*! gsap */"gsap"),o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! howler */"howler"),s=function(){function e(){}return Object.defineProperty(e,"globalTimeScale",{get:function(){return i.TweenMax.globalTimeScale()},set:function(t){r.Howler._howls.forEach((function(e){e.rate(t)})),i.TweenMax.globalTimeScale(t)},enumerable:!1,configurable:!0}),e.pauseAllTweens=function(t){var e=this;(void 0===t&&(t=!0),0===this.pausedTweens.length)&&(this._forcedPause=t,i.TweenMax.getAllTweens(!0).forEach((function(t){var n=(t.vars.delay||0)>0||t.target===t.vars.onComplete;t.paused()||!t.isActive()&&!n||(e.pausedTweens.push(t),t.pause())})))},e.resumeAllTweens=function(t){void 0===t&&(t=!0),this._forcedPause&&!t||(this._forcedPause=!1,this.pausedTweens.forEach((function(t){return t.resume()})),this.pausedTweens=[])},e.pauseRulesTweens=function(){this.rulesTweens.forEach((function(t){t instanceof o.Timeline?(t.timeline.pause(),t.animations.forEach((function(t){return t.tween.pause()}))):t.pause()}))},e.resumeRulesTweens=function(){this.rulesTweens.forEach((function(t){t instanceof o.Timeline?(t.timeline.resume(),t.animations.forEach((function(t){return t.tween.resume()}))):t.resume()}))},e.wait=function(t){return new Promise((function(e){return i.TweenMax.delayedCall(t,e)}))},e.to=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n){var o=null;e[2].onComplete&&(o=e[2].onComplete),e[2].onComplete=function(){o&&o(),n()},i.TweenMax.to.apply(t,e)}))},e.fromTo=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n){var o=null,r=e[3];r.onComplete&&(o=r.onComplete),r.onComplete=function(){o&&o(),n()},i.TweenMax.fromTo.apply(t,e)}))},e.playTween=function(t,e){return void 0===e&&(e=!1),new Promise((function(n){t.eventCallback("onComplete",n),t.restart(e)}))},e.pausedTweens=[],e.rulesTweens=[],e._forcedPause=!1,e}()}.call(this,n(/*! ./../../../../node_modules/webpack/buildin/global.js */"../../node_modules/webpack/buildin/global.js"))},"./src/game/ui/crossSell/crossSell.ts":
/*!********************************************!*\
  !*** ./src/game/ui/crossSell/crossSell.ts ***!
  \********************************************/
/*! exports provided: CrossSell */function(t,e,n){"use strict";n.r(e),n.d(e,"CrossSell",(function(){return p}));var i,o=n(/*! gsap */"gsap"),r=n(/*! pixi.js */"pixi.js"),s=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),a=n(/*! ../../carousel */"./src/game/carousel.ts"),u=n(/*! ../../tweenUtils */"./src/game/tweenUtils.ts"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},h=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},p=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;return i.game=e,i._animationStopped=!1,i._carouselDisabled=!1,i.playIdleWaveAnimation=function(){return d(i,void 0,void 0,(function(){var t,e,n,i,o,r,s=this;return h(this,(function(a){switch(a.label){case 0:return t=this._animationStopped=!1,e=this.carousel.isSimpleMode(),n=this.carousel.computeArray([0,.5,1]),i=this.carousel.getActiveCard(),o=this.carousel.getCards(),r=function(e,n,i){return void 0===i&&(i=0),d(s,void 0,void 0,(function(){return h(this,(function(o){switch(o.label){case 0:return i>0?[4,u.TweenUtils.wait(i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,!(t=this._animationStopped||t)&&e.playDirect(n)]}}))}))},[4,Promise.all(o.map((function(t,o){r(t,t===i||e?s.options.idleLoopAnimation:s.options.idleLoopBackAnimation,n[o])})))];case 1:return a.sent(),[2]}}))}))},i.options=l(l({},n),{mainCardName:n.mainCardName||"mainCard",defaultSpineTimelineButtonId:n.defaultSpineTimelineButtonId||"99_crosssell.json",upAnimation:n.upAnimation||"up",outAnimation:n.outAnimation||"out",overAnimation:n.overAnimation||"over",downAnimation:n.downAnimation||"down",enterAnimation:n.enterAnimation||"enter",idleLoopAnimation:n.idleLoopAnimation||"idleLoop",enterBackAnimation:n.enterBackAnimation||"back_enter",frontToBackAnimation:n.frontToBackAnimation||"front_to_back",backToFrontAnimation:n.backToFrontAnimation||"back_to_front",idleLoopBackAnimation:n.idleLoopBackAnimation||"idleLoop_back"}),i}return c(e,t),e.prototype.onLoaded=function(){this.cards=this.children.filter((function(t){return t.visible})),this.mainCard=this.getChildByName(this.options.mainCardName),this.playButton=this.mainCard.getSlotContainerByName("button").getChildByName("playButton")},e.prototype.createCard=function(t){var e=this,n=new s.SpineTimelineButton(t.spineTimelineButtonId||this.options.defaultSpineTimelineButtonId,{default:{}});return t.skinName&&n.setSkinByName(t.skinName),n.animationsNames.up=this.options.upAnimation,n.animationsNames.out=this.options.outAnimation,n.animationsNames.over=this.options.overAnimation,n.animationsNames.down=this.options.downAnimation,n.animationsNames.enter=this.options.enterAnimation,n.animationsNames.idleLoop=this.options.idleLoopAnimation,n.docking=new s.Docking(s.Docking.centerAll,0,0),this.cards.push(n),this.addChildAt(n,0),n.on("pointerover",(function(){return e.stopIdleWaveAnimation()})),n.on("pointerout",(function(){return e.startTimeoutIdleWave()})),n},e.prototype.initializeCarousel=function(t){var e=this;void 0===t&&(t={}),this.carousel=new a.Carousel({game:this.game,container:this,nextArrow:t.nextArrow,previousArrow:t.previousArrow},t.settings);var n=this.carousel.isSimpleMode();this.carousel.getCards().forEach((function(t){return t.interactive=n&&t!==e.mainCard})),this.carousel.on("beforeChangeCard",(function(t,n){n&&(n.interactive=!1,n===e.mainCard&&(e.playButton.interactive=!1),n.playDirect(e.options.frontToBackAnimation)),e.stopIdleWaveAnimation(),t.playDirect(e.options.backToFrontAnimation)})),this.carousel.on("changeCard",(function(t){t.interactive=t instanceof s.SpineTimelineButton&&t!==e.mainCard,e.playButton.interactive=t===e.mainCard,e.startTimeoutIdleWave()})),this.carousel.on("cardPositionsUpdate",(function(){e.isCarouselDisabled()&&e.disableCarousel()}))},e.prototype.appear=function(){return d(this,void 0,void 0,(function(){var t,e,n,i=this;return h(this,(function(r){switch(r.label){case 0:return t=[this.carousel.previousArrow,this.carousel.nextArrow].filter((function(t){return Boolean(t)})),e=new o.TimelineMax({paused:!0}),this.carousel.setActiveCard(this.mainCard,!0),t.forEach((function(t){t.alpha=0,t.visible=!1,e.add(o.TweenMax.fromTo(t,.7,{alpha:0},{alpha:1,onStart:function(){return t.visible=!0}}),0)})),[4,u.TweenUtils.wait(.5)];case 1:return r.sent(),n=this.cards.map((function(t){var e=!!i.carousel.isSimpleMode()||t===i.carousel.getActiveCard();return t.playDirect(e?"enter":"back_enter")})),this.visible=!0,this.carousel.getCards().length>2?(n.push(u.TweenUtils.playTween(e)),[4,Promise.all(n)]):[3,3];case 2:r.sent(),r.label=3;case 3:return this.interactive=!0,this.enableCarousel(),this.startTimeoutIdleWave(),[2]}}))}))},e.prototype.disappear=function(){this.visible=!1,this.stopIdleWaveAnimation()},e.prototype.disableCarousel=function(){this._carouselDisabled=!0,this.interactive=!1,this.carousel.isDragging=!1,this.carousel.setButtonActive(!1),this.carousel.getCards().forEach((function(t){t.interactive=!1})),this.stopIdleWaveAnimation()},e.prototype.enableCarousel=function(){this._carouselDisabled=!1,this.interactive=!0,this.carousel.setButtonActive(!0),2===this.carousel.getCards().length&&this.carousel.getCards().forEach((function(t){t.interactive=!0}))},e.prototype.stopIdleWaveAnimation=function(){this.tweenIdleWave&&this.tweenIdleWave.kill(),this._animationStopped=!0},e.prototype.startTimeoutIdleWave=function(){this.stopIdleWaveAnimation(),this.tweenIdleWave=o.TweenMax.fromTo(this,2,{idleWaveTiming:0},{repeat:-1,idleWaveTiming:2,onRepeat:this.playIdleWaveAnimation})},e.prototype.isCarouselDisabled=function(){return this._carouselDisabled},e}(r.Container)},"./src/game/ui/game/timer.ts":
/*!***********************************!*\
  !*** ./src/game/ui/game/timer.ts ***!
  \***********************************/
/*! exports provided: Timer */function(t,e,n){"use strict";n.r(e),n.d(e,"Timer",(function(){return l}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! gsap */"gsap"),s=n(/*! i18next */"i18next"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timerText=null,e.txt=null,e.txtGo=null,e}return a(e,t),Object.defineProperty(e.prototype,"startTime",{set:function(t){this._startTime=t,this.timerText.visible=!0,this.timerText.text=Math.floor(t).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{set:function(t){this._key=t},enumerable:!1,configurable:!0}),e.prototype.start=function(t){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(n){return t&&(this.startTime=t),this.reset(),this.timerText.visible=!0,this.time=this._startTime,this.tweenPromise=new Promise((function(n){e.tween=r.TweenMax.to(e,t,{time:0,ease:r.Linear.easeNone,onUpdate:function(){e._key?e.timerText.text=s.t(e._key,{count:Math.floor(e.time)}):e.timerText.text=Math.floor(e.time).toString(10)},onComplete:n})})),[2]}))}))},e.prototype.reset=function(){this.startTime=this._startTime,this.tween&&this.tween.kill()},e.prototype.pause=function(){this.tween.pause()},e.prototype.unpause=function(){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.tween.play(),[4,this.tweenPromise];case 1:return t.sent(),[2]}}))}))},e}(o.Container)},"./src/game/ui/home/home.ts":
/*!**********************************!*\
  !*** ./src/game/ui/home/home.ts ***!
  \**********************************/
/*! exports provided: Home */function(t,e,n){"use strict";n.r(e),n.d(e,"Home",(function(){return a}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this)||this;return"string"==typeof e.gameName?(n.gameName=o.Sprite.fromFrame(e.gameName),n.gameName.pivot.x=n.gameName.texture.width/2,n.gameName.pivot.y=n.gameName.texture.height/2,n.gameName.docking=new r.Docking(r.Docking.centerAll)):e.gameName instanceof o.Container?n.gameName=e.gameName:(n.gameName=new r.TextArea(e.gameName.text||"",e.gameName.styles,{align:r.EAlign.Center}),n.gameName.docking=new r.Docking(r.Docking.centerAll)),n.addChild(n.gameName),"string"==typeof e.claim?(n.claim=o.Sprite.fromFrame(e.claim),n.claim.docking=new r.Docking(r.Docking.centerAll)):e.claim instanceof o.Container?n.claim=e.claim:(n.claim=new r.TextArea(e.claim.text||"",e.claim.styles,{align:r.EAlign.Center}),n.claim.docking=new r.Docking(r.Docking.centerAll)),n.addChild(n.claim),e.playButton instanceof r.Button?n.playButton=e.playButton:(n.playButton=new r.Button(e.playButton.style,e.playButton.text.styles,e.playButton.text.text),n.playButton.docking=new r.Docking(r.Docking.centerAll)),n.playButton.setName("play"),n.addChild(n.playButton),n.gameName.docking.y=-n.claim.height/2-n.gameName.height/2-35,n.playButton.docking.y=n.claim.height/2+n.playButton.background.texture.height/2+35,n}return s(e,t),e}(o.Container)},"./src/game/ui/index.ts":
/*!******************************!*\
  !*** ./src/game/ui/index.ts ***!
  \******************************/
/*! exports provided: Rules, Slide, TextSlide, ELayout, BaseSlide, AgreementSlide, Home, ResultBox, EResultBoxEvents, ResultStage, ScratchStage, TextResultStage, AmountResultStage, Timer, CrossSell */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./rules */"./src/game/ui/rules/index.ts");n.d(e,"Rules",(function(){return i.Rules})),n.d(e,"Slide",(function(){return i.Slide})),n.d(e,"TextSlide",(function(){return i.TextSlide})),n.d(e,"ELayout",(function(){return i.ELayout})),n.d(e,"BaseSlide",(function(){return i.BaseSlide})),n.d(e,"AgreementSlide",(function(){return i.AgreementSlide}));var o=n(/*! ./home/home */"./src/game/ui/home/home.ts");n.d(e,"Home",(function(){return o.Home}));var r=n(/*! ./result */"./src/game/ui/result/index.ts");n.d(e,"ResultBox",(function(){return r.ResultBox})),n.d(e,"EResultBoxEvents",(function(){return r.EResultBoxEvents})),n.d(e,"ResultStage",(function(){return r.ResultStage})),n.d(e,"ScratchStage",(function(){return r.ScratchStage})),n.d(e,"TextResultStage",(function(){return r.TextResultStage})),n.d(e,"AmountResultStage",(function(){return r.AmountResultStage}));var s=n(/*! ./game/timer */"./src/game/ui/game/timer.ts");n.d(e,"Timer",(function(){return s.Timer}));var a=n(/*! ./crossSell/crossSell */"./src/game/ui/crossSell/crossSell.ts");n.d(e,"CrossSell",(function(){return a.CrossSell}))},"./src/game/ui/result/amountCoinWizzStage.ts":
/*!***************************************************!*\
  !*** ./src/game/ui/result/amountCoinWizzStage.ts ***!
  \***************************************************/
/*! exports provided: AmountCoinWizzStage */function(t,e,n){"use strict";n.r(e),n.d(e,"AmountCoinWizzStage",(function(){return g}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! gsap */"gsap"),u=n(/*! howler */"howler"),c=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),l=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts"),d=n(/*! ../../../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},f=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},g=function(t){function e(e){var n=t.call(this)||this;if(n._amount=new r.TextArea("+100",e.amountStyle),n._amount.keepCanvasReference=!0,n._amount.docking=new r.Docking(r.Docking.centerAll),n._amount.wordWrap=!0,n._amount.align=r.EAlign.Center,n._amount.width=240,n._amount.docking.x=-15,n._amount.docking.y=292,n._amount.scaleXY=1,e.sounds=e.sounds||{},"string"==typeof e.sounds.loser?n._loseSound=s.Loader.get(e.sounds.loser):e.sounds.loser instanceof u.Howl&&(n._loseSound=e.sounds.loser),"string"==typeof e.sounds.winner?n._winSound=s.Loader.get(e.sounds.winner):e.sounds.winner instanceof u.Howl&&(n._winSound=e.sounds.winner),"string"==typeof e.sounds.incrementation?n._incrementationSound=s.Loader.get(e.sounds.incrementation):e.sounds.incrementation instanceof u.Howl&&(n._incrementationSound=e.sounds.incrementation),e.winnerDuration=e.winnerDuration||6,e.loserDuration=e.loserDuration||4,e.animationSpine=e.animationSpine||{},e.animationSpine.winner instanceof r.SpineTimeline?n._winAnimation=e.animationSpine.winner:("string"==typeof e.animationSpine.winner?n._winAnimation=new r.SpineTimeline(e.animationSpine.winner):n._winAnimation=new r.SpineTimeline("result_win.json"),n._winAnimation.docking=new r.Docking(r.Docking.centerAll),n._winAnimation.docking.x=-38,n._winAnimation.docking.y=-140,n._winAnimation.pivot.x=651,n._winAnimation.pivot.y=614),n._winAnimation.visible=!1,n.addChild(n._winAnimation),e.animationSpine.loser instanceof r.SpineTimeline?n._lostAnimation=e.animationSpine.loser:("string"==typeof e.animationSpine.loser?n._lostAnimation=new r.SpineTimeline(e.animationSpine.loser):n._lostAnimation=new r.SpineTimeline("result_lost.json"),n._lostAnimation.docking=new r.Docking(r.Docking.centerAll),n._lostAnimation.docking.x=0,n._lostAnimation.docking.y=0,n._lostAnimation.pivot.x=288,n._lostAnimation.pivot.y=288,n._lostAnimation.scaleXY=1.1),n._lostAnimation.visible=!1,n.addChild(n._lostAnimation),n.addChild(n._amount),e.hasCoinsAnimation){var i=!0;e.animationSpine.coin instanceof r.SpineTimeline?(n._coinAnimation=e.animationSpine.coin,i=!1):"string"==typeof e.animationSpine.coin?n._coinAnimation=new r.SpineTimeline(e.animationSpine.coin):n._coinAnimation=new r.SpineTimeline("result_win_coin.json"),i&&(n._coinAnimation.docking=new r.Docking(r.Docking.centerAll),n._coinAnimation.pivot.x=n._coinAnimation.width/2,n._coinAnimation.pivot.y=n._coinAnimation.height/2,n._coinAnimation.docking.x=0,n._coinAnimation.docking.y=0),n.coinsContainer=new o.Container,n.coinsContainer.dockingBounds=new r.DockingBounds(576,1024),n.coinsContainer.docking=new r.Docking(r.Docking.centerAll),n.coinsContainer.docking.x=0,n.coinsContainer.docking.y=0,n._coins=[];for(var a=0;a<10;a++)n._coins[a]=n._coinAnimation.clone(),n.coinsContainer.addChild(n._coins[a]);n.addChild(n.coinsContainer)}return e.game.vi.emitter.emit(d.EVisualIdentityAction.WizzGetPursesContainers,(function(t){n.purse=t.standard})),n.config=e,n.dockAsPoint=!0,n.visible=!1,n}return h(e,t),e.prototype.onShow=function(t,n){var i=this;if(0===t.amount.value)this._winAnimation.visible=!1,this._lostAnimation.visible=!1,this.coinsContainer.visible=!1,this._amount.visible=!1,this._amount.docking.x=-13,this._amount.docking.y=209,this._amount.text="0",this._loseSound&&this._loseSound.play(),p(i,void 0,void 0,(function(){var t=this;return f(this,(function(e){switch(e.label){case 0:return this._lostAnimation.on(r.ESpineTimelineEvent.Start,(function(){t._lostAnimation.visible=!0,t._amount.visible=!0})),[4,this._lostAnimation.playDirect("enter")];case 1:return e.sent(),[4,this._lostAnimation.playDirect("idle")];case 2:return e.sent(),this._amount.visible=!1,this._lostAnimation.visible=!1,[2]}}))}));else{if(this._winAnimation.visible=!0,this._lostAnimation.visible=!1,this.coinsContainer.visible=!0,this._amount.docking.x=-15,this._amount.docking.y=292,this._amount.text="+ ".concat(t.amount.value),this._winSound&&this._winSound.play(),this.config.hasCoinsAnimation)for(var s=0;s<this._coins.length;s++){var u=this._coins[s];u.docking.x=e.coinsPosition[s].x,u.docking.y=e.coinsPosition[s].y,u.playDirect("coin",!0),u.play(),u.timeScale=0,u.rotation=e.coinsPosition[s].rotation,u.seek(e.coinsPosition[s].startTime),u.seek(e.coinsPosition[s].startTime),u.seek(e.coinsPosition[s].startTime),u.seek(e.coinsPosition[s].startTime),u.scaleXY=1,u.visible=!0}this._winAnimation.visible=!0,this._winAnimation.playDirect("enter"),this.scaleXY=0;var c=new a.TimelineMax;c.to(this,.5,{scaleXY:1.1},0),c.to(this,.1,{scaleXY:1,onComplete:function(){t.emit(l.EResultBoxEvents.StageHasEntered,i);var n=new a.TimelineMax;if(n.to(i,3.5,{},0),i.config.hasCoinsAnimation)for(var r=i.coinsContainer.toLocal(new o.Point(i.purse.dockingBounds.width+15,50),i.purse,new o.Point(0,0),!0),s=function(t){var o=i._coins[t],s={float:e.coinsPosition[t].startTime},u=1.605*Math.ceil(e.coinsPosition[t].startTime/2.085)+.48;n.to(s,1.75,{float:u,onUpdate:function(){o.seek(s.float)},onComplete:function(){o.seek(2.085)},ease:a.Linear.easeNone},0),n.to(o.docking,1.65+t%3*.1,{x:r.x-o.x+o.docking.x,delay:t%3*.1,ease:a.Cubic.easeIn},0),n.to(o.docking,1.7+t%3*.1,{y:r.y-o.y+o.docking.y,delay:t%3*.1,ease:a.Cubic.easeIn},0),n.to(o,1.7+t%3*.1,{rotation:0,scaleXY:.5,delay:t%3*.1,ease:a.Linear.easeNone,onComplete:function(){o.visible=!1,i._incrementationSound&&i._incrementationSound.play()}},0)},u=0;u<i._coins.length;u++)s(u);n.play()}},.5),c.play()}var d=0===t.amount.value?this.config.loserDuration:this.config.winnerDuration;a.TweenMax.to(this,d,{onComplete:function(){t.emit(l.EResultBoxEvents.StageWillExit,i),n(!0)}})},e.coinsPosition=[{x:67,y:-223,startTime:.01,rotation:.6},{x:180,y:-128,startTime:.2,rotation:2.3},{x:199,y:-3,startTime:.8,rotation:3.25},{x:195,y:181,startTime:.4,rotation:.35},{x:89,y:247,startTime:1.4,rotation:1.8},{x:-77,y:254,startTime:1,rotation:.45},{x:-185,y:162,startTime:1.6,rotation:-2},{x:-208,y:26,startTime:1.2,rotation:-3.6},{x:-187,y:-109,startTime:.6,rotation:1.4},{x:-102,y:-215,startTime:1.4,rotation:.8}],e}(c.ResultStage)},"./src/game/ui/result/amountCurrencyWizzStage.ts":
/*!*******************************************************!*\
  !*** ./src/game/ui/result/amountCurrencyWizzStage.ts ***!
  \*******************************************************/
/*! exports provided: AmountCurrencyWizzStage */function(t,e,n){"use strict";n.r(e),n.d(e,"AmountCurrencyWizzStage",(function(){return g}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! gsap */"gsap"),u=n(/*! howler */"howler"),c=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),l=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts"),d=n(/*! ../../../adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},f=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},g=function(t){function e(n){var i=t.call(this)||this;i._amount=new r.TextArea("",n.amountStyle),i._amount.keepCanvasReference=!0,i._amount.docking=new r.Docking(r.Docking.centerAll),i._amount.wordWrap=!0,i._amount.docking.cancelPivot=!0,i._amount.align=r.EAlign.Center,i._amount.width=500,i._amount.docking.x=0,i._amount.docking.y=0,i._amount.scaleXY=1,i._amountStroke=new r.TextArea("",n.amountStrokeStyle),i._amountStroke.keepCanvasReference=!0,i._amountStroke.docking=new r.Docking(r.Docking.centerAll),i._amountStroke.wordWrap=!0,i._amountStroke.docking.cancelPivot=!0,i._amountStroke.align=r.EAlign.Center,i._amountStroke.width=500,i._amountStroke.docking.x=0,i._amountStroke.docking.y=0,i._amountStroke.scaleXY=1,n.sounds=n.sounds||{},"string"==typeof n.sounds.loser?i._loseSound=s.Loader.get(n.sounds.loser):n.sounds.loser instanceof u.Howl&&(i._loseSound=n.sounds.loser),"string"==typeof n.sounds.winner?i._winSound=s.Loader.get(n.sounds.winner):n.sounds.winner instanceof u.Howl&&(i._winSound=n.sounds.winner),"string"==typeof n.sounds.increment?i._incrementSound=s.Loader.get(n.sounds.increment):n.sounds.increment instanceof u.Howl&&(i._incrementSound=n.sounds.increment),n.animationSpine=n.animationSpine||{},n.animationSpine.rollingFX instanceof r.SpineTimeline?i._rollingFX=n.animationSpine.rollingFX:("string"==typeof n.animationSpine.rollingFX?i._rollingFX=new r.SpineTimeline(n.animationSpine.rollingFX):i._rollingFX=new r.SpineTimeline("rollingFX.json"),i._rollingFX.docking=new r.Docking(r.Docking.centerAll),i._rollingFX.docking.x=0,i._rollingFX.docking.y=100,i._rollingFX.pivot.x=620,i._rollingFX.pivot.y=580,i._rollingFX.scaleXY=.5),i._rollingFX.timeScale=3,i._rollingFX.visible=!1,n.animationSpine.loser instanceof r.SpineTimeline?i._lostAnimation=n.animationSpine.loser:("string"==typeof n.animationSpine.loser?i._lostAnimation=new r.SpineTimeline(n.animationSpine.loser):i._lostAnimation=new r.SpineTimeline("result_lost.json"),i._lostAnimation.docking=new r.Docking(r.Docking.centerAll),i._lostAnimation.docking.x=0,i._lostAnimation.docking.y=100,i._lostAnimation.pivot.x=280,i._lostAnimation.pivot.y=260,i._lostAnimation.scaleXY=.95),i._lostAnimation.visible=!1,n.sprites=n.sprites||{},n.sprites.currencyBackSprite instanceof o.Sprite?i._referenceBackgroundCoin=n.sprites.currencyBackSprite:("string"==typeof n.sprites.currencyBackSprite?i._referenceBackgroundCoin=o.Sprite.fromImage(n.sprites.currencyBackSprite):i._referenceBackgroundCoin=o.Sprite.fromImage("fx_euro_big.png"),i._referenceBackgroundCoin.docking=new r.Docking(r.Docking.centerAll),i._referenceBackgroundCoin.docking.x=0,i._referenceBackgroundCoin.docking.y=0,i._referenceBackgroundCoin.pivot.x=18,i._referenceBackgroundCoin.pivot.y=46,i._referenceBackgroundCoin.scaleXY=.38),n.sprites.currencyMovingSprite instanceof o.Sprite?i._referenceCoin=n.sprites.currencyMovingSprite:("string"==typeof n.sprites.currencyMovingSprite?i._referenceCoin=o.Sprite.fromImage(n.sprites.currencyMovingSprite):i._referenceCoin=o.Sprite.fromImage("fx_euro_00.png"),i._referenceCoin.docking=new r.Docking(r.Docking.centerAll),i._referenceCoin.docking.x=0,i._referenceCoin.docking.y=0,i._referenceCoin.pivot.x=40,i._referenceCoin.pivot.y=40,i._referenceCoin.scaleXY=1.3,i._referenceCoin.visible=!1);var a=o.Sprite.fromImage("result_fx_sparkles.png");a.docking=new r.Docking(r.Docking.centerAll),a.docking.x=0,a.docking.y=0,a.pivot.x=24,a.pivot.y=76,i.sparkles=new o.Container,i.sparkles.dockingBounds=new r.DockingBounds(256,512),i.sparkles.docking=new r.Docking(r.Docking.centerAll),i.sparkles.docking.cancelPivot=!0,i.sparkles.docking.x=0,i.sparkles.docking.y=32,i.sparkles.pivot.x=128,i.sparkles.pivot.y=256,i._sparkles=[];for(var c=0;c<8;c++)i._sparkles[c]=a.clone(),i._sparkles[c].rotation=e.sparkleRotation[c],i.sparkles.addChild(i._sparkles[c]);i.resultWin=new o.Container,i.resultWin.dockingBounds=new r.DockingBounds(256,512),i.resultWin.docking=new r.Docking(r.Docking.centerAll),i.resultWin.docking.cancelPivot=!0,i.resultWin.docking.x=0,i.resultWin.docking.y=50,i.resultWin.pivot.x=128,i.resultWin.pivot.y=256,i._fxRayon=o.Sprite.fromFrame("result_fx_rayons.png"),i._fxRayon.docking=new r.Docking(r.Docking.centerAll),i._fxRayon.width=512,i._fxRayon.height=512,i._fxRayon.pivot.x=256,i._fxRayon.pivot.y=256,i.resultWin.addChild(i._fxRayon);var l=o.Sprite.fromFrame("result_txt_win.png");l.docking=new r.Docking(r.Docking.centerAll),l.docking.cancelPivot=!0,l.width=461,l.height=122,l.docking.y=-300,l.scaleXY=.8,l.pivot.x=94,l.pivot.y=58,i.resultWin.addChild(l),i._backgroundCoins=[];var h=e.numberPerRayon*e.backgroundCoinsPosition.length;for(c=0;c<h;c++){var p=i._backgroundCoins[c]=i._referenceBackgroundCoin.clone(),f=Math.floor(c/e.numberPerRayon),g=e.backgroundCoinsPosition[f],m=c-f*e.numberPerRayon;p.docking.x=g.x+Math.cos(g.angle+Math.PI/2)*g.force*m,p.docking.y=g.y+Math.sin(g.angle+Math.PI/2)*g.force*m,p.rotation=g.startRotation+g.rotationForce*m,p.scaleXY=g.startScale+g.scaleForce*m,i.resultWin.addChild(i._backgroundCoins[c])}i._coinsContainer=new o.Container,i._coinsContainer.dockingBounds=new r.DockingBounds(576,1024),i._coinsContainer.docking=new r.Docking(r.Docking.centerAll),i._coinsContainer.docking.x=0,i._coinsContainer.docking.y=50,i._movingCoins=[];for(c=0;c<10;c++)i._movingCoins[c]=i._referenceCoin.clone(),i._coinsContainer.addChild(i._movingCoins[c]);return n.game.vi.emitter.emit(d.EVisualIdentityAction.WizzGetPursesContainers,(function(t){i.purse=t.standard})),i.addChild(i._rollingFX),i.addChild(i.sparkles),i.addChild(i.resultWin),i.addChild(i._lostAnimation),i.addChild(i._coinsContainer),i.resultWin.addChild(i._amountStroke),i.resultWin.addChild(i._amount),i.config=n,i.dockAsPoint=!0,i.visible=!1,i}return h(e,t),e.prototype.onShow=function(t,n){var i=this;if(0===t.amount.value)this.scaleXY=1,this._rollingFX.visible=!1,this.sparkles.visible=!1,this.resultWin.visible=!1,this._amount.visible=!1,this._amountStroke.visible=!1,this._lostAnimation.visible=!1,this._loseSound&&this._loseSound.play(),p(i,void 0,void 0,(function(){var t=this;return f(this,(function(e){switch(e.label){case 0:return this._lostAnimation.on(r.ESpineTimelineEvent.Start,(function(){t._lostAnimation.visible=!0})),[4,this._lostAnimation.playDirect("enter")];case 1:return e.sent(),[4,this._lostAnimation.playDirect("idle",!0)];case 2:return e.sent(),[2]}}))}));else{if(this.scaleXY=0,this._rollingFX.visible=!0,this.sparkles.visible=!0,this.resultWin.visible=!0,this._amount.visible=!0,this._amountStroke.visible=!0,this._lostAnimation.visible=!1,this._amount.text=s.Numeral.currency(t.amount,{minimumFractionDigits:this.config.minimumFractionDigits}),this._amountStroke.text=s.Numeral.currency(t.amount,{minimumFractionDigits:this.config.minimumFractionDigits}),this._winSound&&this._winSound.play(),this.config.hasCoinsAnimation)for(var u=0;u<this._movingCoins.length;u++){var c=this._movingCoins[u];c.docking.x=e.coinsPosition[u].x,c.docking.y=e.coinsPosition[u].y,c.rotation=e.coinsPosition[u].rotation,c.scaleXY=1,c.visible=!0}var d=e.numberPerRayon*e.backgroundCoinsPosition.length;for(u=0;u<d;u++){var h=this._backgroundCoins[u],g=Math.floor(u/e.numberPerRayon),m=e.backgroundCoinsPosition[g];h.docking.x=m.x,h.docking.y=m.y,h.rotation=m.startRotation}this._rollingFX.playDirect("enter",!0);var v=new a.TimelineMax;v.to(this,.5,{scaleXY:1.1,ease:a.Back.easeOut},0),v.to(this,.1,{scaleXY:1,ease:a.Back.easeOut,onComplete:function(){if(t.emit(l.EResultBoxEvents.StageHasEntered,i),i.config.hasCoinsAnimation){for(var e=new a.TimelineMax,n=i._coinsContainer.toLocal(new o.Point(i.purse.dockingBounds.width-20,0),i.purse,new o.Point(0,0),!0),r=function(t){var o=i._movingCoins[t];e.to(o.docking,1.65+t%3*.1,{x:n.x-o.x+o.docking.x,delay:t%3*.1,ease:a.Cubic.easeIn},0),e.to(o.docking,1.7+t%3*.1,{y:n.y-o.y+o.docking.y,delay:t%3*.1,ease:a.Cubic.easeIn},0),e.to(o,1.65+t%3*.1,{scaleXY:.5,delay:t%3*.1,ease:a.Expo.easeIn},0),e.to(e,1.65+t%3*.1,{timeScale:.8,delay:t%3*.1,ease:a.Expo.easeIn},0),e.to(o,1.7+t%3*.1,{rotation:0,scaleXY:.5,delay:t%3*.1,ease:a.Linear.easeNone,onComplete:function(){o.visible=!1}},0)},s=0;s<i._movingCoins.length;s++)r(s);e.play()}}},.5),v.to(this._fxRayon,20,{rotation:2*Math.PI});for(u=0;u<d;u++){h=this._backgroundCoins[u],g=Math.floor(u/e.numberPerRayon),m=e.backgroundCoinsPosition[g];var y=u-g*e.numberPerRayon,b=e.numberPerRayon-y,w=m.x+Math.cos(m.angle+Math.PI/2)*m.force*y,x=m.y+Math.sin(m.angle+Math.PI/2)*m.force*y;v.to(h.docking,.6,{delay:.1*b,x:w,y:x,ease:a.Back.easeOut},0),h.rotation=m.startRotation+m.rotationForce*y}v.play(),this.sparkles.visible=!0,this._sparkles.forEach((function(t){t.scaleXY=1,t.alpha=1,t.docking.x=t.docking.y=0,a.TweenMax.to(t,1,{scaleX:2,scaleY:8,delay:.1,ease:a.Power0.easeNone}),a.TweenMax.to(t.docking,1,{delay:.1,ease:a.Power0.easeNone,x:1e3*Math.cos(t.rotation+Math.PI/2),y:1e3*Math.sin(t.rotation+Math.PI/2)}),a.TweenMax.to(t,.2,{alpha:0,delay:.9})}))}a.TweenMax.to(this,6,{onComplete:function(){t.emit(l.EResultBoxEvents.StageWillExit,i),n(!0)}})},e.coinsPosition=[{x:67,y:-223,startTime:.01,rotation:.6},{x:180,y:-128,startTime:.2,rotation:2.3},{x:199,y:-3,startTime:.8,rotation:3.25},{x:195,y:181,startTime:.4,rotation:.35},{x:89,y:247,startTime:1.4,rotation:1.8},{x:-77,y:254,startTime:1,rotation:.45},{x:-185,y:162,startTime:1.6,rotation:-2},{x:-208,y:26,startTime:1.2,rotation:-3.6},{x:-187,y:-109,startTime:.6,rotation:1.4},{x:-102,y:-215,startTime:1.4,rotation:.8}],e.sparkleRotation=[4,2.9,2,.64,0,-.93,1.2,4.5],e.backgroundCoinsPosition=[{x:-95,y:-10,angle:1.74,force:9,startRotation:-.7,rotationForce:-.08,startScale:.4,scaleForce:.1},{x:-30,y:-40,angle:2.62,force:14,startRotation:0,rotationForce:-.2,startScale:.4,scaleForce:.1},{x:38,y:-45,angle:3.48,force:14,startRotation:.5,rotationForce:-.1,startScale:.4,scaleForce:.1},{x:80,y:0,angle:4.36,force:14,startRotation:.3,rotationForce:.05,startScale:.4,scaleForce:.1}],e.numberPerRayon=6,e}(c.ResultStage)},"./src/game/ui/result/amountResultStage.ts":
/*!*************************************************!*\
  !*** ./src/game/ui/result/amountResultStage.ts ***!
  \*************************************************/
/*! exports provided: AmountResultStage */function(t,e,n){"use strict";n.r(e),n.d(e,"AmountResultStage",(function(){return f}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! gsap */"gsap"),u=n(/*! howler */"howler"),c=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),l=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts"),d=n(/*! ../../ */"./src/game/index.ts"),h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(t){function e(e){var n=t.call(this)||this;n.rays=[],n.currentAmount=0,n._totalRaysCount=0,n._averageRaysCount=0,n._animatedThresholds=e.thresholds.filter((function(t){return"number"==typeof t||!1!==t.animated})),n._totalRaysCount=e.raysPerThreshold*n._animatedThresholds.length,n._averageRaysCount=e.raysPerThreshold*(n._animatedThresholds.length-1);for(var i=0;i<n._totalRaysCount;i++){var a=i>=n._averageRaysCount?e.bigRaySprite:e.smallRaySprite,c=null;(c=o.Sprite.fromFrame(a)).pivot.y=c.texture.height,c.pivot.x=c.texture.width/2,n.rays.push(c)}return n.raysContainer=new o.Container,n.raysContainer.dockAsPoint=!0,n.raysContainer.docking=new r.Docking(r.Docking.centerAll),n.raysContainer.pivot.x=n.raysContainer.width/2,n.raysContainer.pivot.y=n.raysContainer.height/2,n.addChild(n.raysContainer),n.fastRaysContainer=new o.Container,n.fastRaysContainer.dockAsPoint=!0,n.fastRaysContainer.docking=new r.Docking(r.Docking.centerAll),n.fastRaysContainer.pivot.x=n.fastRaysContainer.width/2,n.fastRaysContainer.pivot.y=n.fastRaysContainer.height/2,n.addChild(n.fastRaysContainer),n.middleSprite=o.Sprite.fromFrame(e.middleSprite),n.middleSprite.docking=new r.Docking(r.Docking.centerAll),n.middleSprite.pivot.x=n.middleSprite.texture.width/2,n.middleSprite.pivot.y=n.middleSprite.texture.height/2,n.amount=new r.TextArea("",e.amountStyle),n.amount.docking=new r.Docking(r.Docking.centerAll),e.sounds=e.sounds||{},"string"==typeof e.sounds.incrementation?n._incrementationSound=s.Loader.get(e.sounds.incrementation):e.sounds.incrementation instanceof u.Howl&&(n._incrementationSound=e.sounds.incrementation),n.config=e,n.dockAsPoint=!0,n.visible=!1,n}return h(e,t),e.prototype.onShow=function(t,e){var n,i,o={amount:0};try{for(var r=p(this.config.thresholds),s=r.next();!s.done;s=r.next()){var a=s.value,u=a instanceof Object?a.amount:a;t.amount.value>u&&(o=a instanceof Object?a:{amount:a})}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}!1!==o.animated?this.showAnimated(t,e):this.showStatic(t,o,e)},e.prototype.showStatic=function(t,e,n){var i,o,r;this.amount.visible=!1,this.amount.text=s.Numeral.currency(t.amount,{minimumFractionDigits:null!==(i=this.config.minimumFractionDigits)&&void 0!==i?i:2}),this.amount.scaleXY=1,this.amount.docking.y=75+(null!==(o=this.config.amountVerticalMargin)&&void 0!==o?o:0),this.amount.visible=!0,this.scaleXY=1,this.removeChild(this.middleSprite),this.addChild(this.amount);var a=null!==(r=e.duration)&&void 0!==r?r:3;d.TweenUtils.wait(a).then((function(){n(!1)}))},e.prototype.showAnimated=function(t,e){var n,i=this;this._incrementationSound&&this._incrementationSound.play();var o=0,r=o,u=this._animatedThresholds[r],c=this.config.raysPerThreshold,d=r*c,h=(r+1)*c,p=this.config.appearTime||2,f=this.config.stayTime||1,g=this.config.disappearTime||1,m=-1;if(this._animatedThresholds.forEach((function(e,n){var i=e instanceof Object?e.amount:e;t.amount.value>i&&(o=n,p=2+2*n,e instanceof Object&&"duration"in e&&(m=e.duration))})),m>0){if((p=m-g-f)<3){var v=m/((p=3)+f+g);f*=v,g*=v,p*=v}}else m=p+f+g;this.amount.docking.y=null!==(n=this.config.amountVerticalMargin)&&void 0!==n?n:0,this.middleSprite.scaleXY=1,this.amount.scaleXY=1,this.raysContainer.scaleXY=0,this.fastRaysContainer.scaleXY=0,this.raysContainer.rotation=0,this.fastRaysContainer.rotation=0,this.addChild(this.raysContainer),this.addChild(this.fastRaysContainer),this.addChild(this.middleSprite),this.addChild(t.particleSystem),this.addChild(this.amount),this.currentAmount=0,a.TweenMax.to(this,p,{currentAmount:t.amount.value,onStart:function(){i.amount.keepCanvasReference=!0},onComplete:function(){i.amount.keepCanvasReference=!1},onUpdate:function(){var e;i.amount.text=s.Numeral.currency(new s.Amount({value:i.currentAmount,currency:t.amount.currency}),{minimumFractionDigits:null!==(e=i.config.minimumFractionDigits)&&void 0!==e?e:2}),i.amount.pivot.x=i.amount.width/2,i.amount.pivot.y=i.amount.height/2;var n=u instanceof Object?u.amount:u;if(u&&i.currentAmount>=n||0===r){for(var o=d;o<h;o++)o<i._averageRaysCount?i.fastRaysContainer.addChild(i.rays[o]):i.raysContainer.addChild(i.rays[o]);for(o=0;o<h;o++)(d<i._averageRaysCount&&o<i._averageRaysCount&&o%(h/d)>0||o>=i._averageRaysCount)&&(i.rays[o].scaleXY=0,a.TweenMax.to(i.rays[o],1,{scaleXY:1}));u=i._animatedThresholds[++r],d=r*c,h=(r+1)*c;var l=2*Math.PI/i.fastRaysContainer.children.length,p=0;i.fastRaysContainer.children.forEach((function(t){t.rotation=p,p+=l})),l=2*Math.PI/i.raysContainer.children.length,p=0,i.raysContainer.children.forEach((function(t){t.rotation=p,p+=l}))}}}),this.scaleXY=0,a.TweenMax.to(this,p,{scaleXY:1,onComplete:function(){t.emit(l.EResultBoxEvents.StageHasEntered,i),t.startParticleSystem(),a.TweenMax.to(t.particleSystem,.5,{scaleXY:1})}}),a.TweenMax.to(this.raysContainer,p,{scaleXY:1}),a.TweenMax.to(this.fastRaysContainer,p,{scaleXY:1}),a.TweenMax.to(this.raysContainer,m,{rotation:3*Math.PI}),a.TweenMax.to(this.fastRaysContainer,m,{rotation:6*Math.PI}),this.middleSprite.rotation=0,a.TweenMax.to(this.middleSprite,m,{ease:a.Back.easeInOut.config(1.7),rotation:6*-Math.PI});var y=[this.raysContainer,this.fastRaysContainer,this.middleSprite];this.config.amountDisappears&&y.push(this.amount),a.TweenMax.to(y,g,{ease:a.Back.easeIn.config(1.7),scaleXY:0,delay:p+f,onStart:function(){t.emit(l.EResultBoxEvents.StageWillExit,i)},onComplete:function(){i.removeChild(t.particleSystem);for(var n=i.raysContainer.children.length-1;n>=0;n--)i.raysContainer.removeChild(i.raysContainer.children[n]);for(n=i.fastRaysContainer.children.length-1;n>=0;n--)i.fastRaysContainer.removeChild(i.fastRaysContainer.children[n]);e(t.amount.value<=0)}})},e.prototype.onHide=function(e){return!1===this.config.amountDisappears?Promise.resolve():t.prototype.onHide.call(this,e)},e.prototype.hide=function(){t.prototype.hide.call(this),this.amount.text=""},e}(c.ResultStage)},"./src/game/ui/result/index.ts":
/*!*************************************!*\
  !*** ./src/game/ui/result/index.ts ***!
  \*************************************/
/*! exports provided: ResultBox, EResultBoxEvents, ResultStage, ScratchStage, TextResultStage, AmountResultStage */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts");n.d(e,"ResultBox",(function(){return i.ResultBox})),n.d(e,"EResultBoxEvents",(function(){return i.EResultBoxEvents}));var o=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts");n.d(e,"ResultStage",(function(){return o.ResultStage}));var r=n(/*! ./scratchStage */"./src/game/ui/result/scratchStage.ts");n.d(e,"ScratchStage",(function(){return r.ScratchStage}));var s=n(/*! ./textResultStage */"./src/game/ui/result/textResultStage.ts");n.d(e,"TextResultStage",(function(){return s.TextResultStage}));var a=n(/*! ./amountResultStage */"./src/game/ui/result/amountResultStage.ts");n.d(e,"AmountResultStage",(function(){return a.AmountResultStage}))},"./src/game/ui/result/resultBox.ts":
/*!*****************************************!*\
  !*** ./src/game/ui/result/resultBox.ts ***!
  \*****************************************/
/*! exports provided: EResultBoxEvents, ResultBox */function(t,e,n){"use strict";n.r(e),n.d(e,"EResultBoxEvents",(function(){return o})),n.d(e,"ResultBox",(function(){return b}));var i,o,r=n(/*! gsap */"gsap"),s=n(/*! pixi.js */"pixi.js"),a=n(/*! i18next */"i18next"),u=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),c=n(/*! @gdk/core */"@gdk/core"),l=n(/*! ./textResultStage */"./src/game/ui/result/textResultStage.ts"),d=n(/*! ./amountResultStage */"./src/game/ui/result/amountResultStage.ts"),h=n(/*! ./scratchStage */"./src/game/ui/result/scratchStage.ts"),p=n(/*! ./amountCoinWizzStage */"./src/game/ui/result/amountCoinWizzStage.ts"),f=n(/*! ./amountCurrencyWizzStage */"./src/game/ui/result/amountCurrencyWizzStage.ts"),g=n(/*! ./spineStage */"./src/game/ui/result/spineStage.ts"),m=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(){return(v=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.StageAppear="StageAppear",t.StageDisappear="StageDisappear",t.StageHasEntered="StageHasEntered",t.StageWillExit="StageWillExit"}(o||(o={}));var b=function(t){function e(){var e=t.call(this)||this;return e.particleSystem=null,e._amount=null,e._stages=[],e._currentStage=null,e.particleTweens=[],e.docking=new u.Docking(u.Docking.centerAll),e.dockingBounds=new u.DockingBounds(1,1),e}return m(e,t),Object.defineProperty(e.prototype,"stages",{get:function(){return this._stages},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return this._amount},enumerable:!1,configurable:!0}),e.prototype.animate=function(t,e){var n,i,o=this;this._currentStage=this.stages[0],this._amount=t;try{for(var r=y(this.stages),s=r.next();!s.done;s=r.next()){s.value.hide()}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.next((function(){o.particleSystem&&o.removeChild(o.particleSystem),o._amount=null,e()}))},e.prototype.next=function(t){var e=this,n=this._stages.indexOf(this._currentStage);this._currentStage.visible=!0,this.emit(o.StageAppear,this._currentStage),this._currentStage.onShow(this,(function(i,r){var s,a;if(void 0===r&&(r=!0),r){var u=n===e._stages.length-1;try{for(var c=y(e.stages),l=c.next();!l.done;l=c.next()){l.value.onHide(u)}}catch(t){s={error:t}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}}e.emit(o.StageDisappear,e._currentStage),n+1>=e._stages.length||i?(e._currentStage=e._stages[0],t()):(e._currentStage=e._stages[n+1],e.next(t))})),this.onNext&&this.onNext(this._currentStage)},e.prototype.addStage=function(t,e){this._currentStage||(this._currentStage=t),void 0===e?this._stages.push(t):this._stages.splice(e,0,t),this.addChild(t)},e.prototype.removeStage=function(t){this.removeChild(t);var e=this._stages.indexOf(t);-1!==e&&this._stages.splice(e,1)},e.prototype.createParticles=function(t,e,n){void 0===t&&(t=100),this.particleSystem=new s.particles.ParticleContainer(t,n),this.particleSystem.docking=new u.Docking(u.Docking.centerAll);for(var i=0;i<t-1;i++){var o=Math.random()*e.length>>0,r=s.Sprite.fromFrame(e[o]);this.particleSystem.addChild(r)}this.particleSystemConfig={count:t,sprites:e,alpha:n.alpha,scale:n.scale,position:n.position}},e.prototype.startParticleSystem=function(t){var e=this;void 0===t&&(t=37),this.particleSystem.visible=!0,this.particleTweens.forEach((function(t){return t.kill()})),this.particleTweens=[],this.particleSystem.children.forEach((function(n,i){n.scaleXY=.5,n.x=n.y=n.alpha=0;var o=Math.cos(2*Math.PI*Math.random()),s=Math.sin(2*Math.PI*Math.random()),a=r.TweenMax.to(n,1,{delay:t*i/1e3,x:screen.width*o,y:screen.height*s,scaleXY:1+Math.random(),onStart:function(){n.alpha=1,a.updateTo({alpha:0})}});e.particleTweens.push(a)}))},e.createCoinWizz=function(t,n){void 0===n&&(n=c.Amount.fromNumber(100));var i=new e;return i.addStage(new p.AmountCoinWizzStage({game:t.game,amountStyle:t.winAmountTextStyle,hasCoinsAnimation:t.hasCoinsAnimation||!0,sounds:{loser:t.sounds&&t.sounds.loser||null,winner:t.sounds&&t.sounds.winner||null,incrementation:t.sounds&&t.sounds.incrementation||null},animationSpine:{loser:t.animationSpine&&t.animationSpine.assetIDLoser||null,winner:t.animationSpine&&t.animationSpine.assetIDWinner||null,coin:t.animationSpine&&t.animationSpine.assetIDCoins||null},loserDuration:t.loserDuration,winnerDuration:t.winnerDuration})),i},e.createCurrencyWizz=function(t,n){void 0===n&&(n=c.Amount.fromNumber(100));var i=new e;return i.addStage(new f.AmountCurrencyWizzStage({game:t.game,amountStyle:t.winAmountTextStyle,amountStrokeStyle:t.winAmountStrokeTextStyle,hasCoinsAnimation:t.hasCoinsAnimation||!0,sounds:{loser:t.sounds&&t.sounds.loser||null,winner:t.sounds&&t.sounds.winner||null},animationSpine:{loser:t.animationSpine&&t.animationSpine.assetIDLoser||null,rollingFX:t.animationSpine&&t.animationSpine.assetIDRollingFX||null},sprites:{winTextSprite:t.sprites&&t.sprites.winTextSprite||null,currencyBackSprite:t.sprites&&t.sprites.currencyBackSprite||null,currencyMovingSprite:t.sprites&&t.sprites.currencyMovingSprite||null},minimumFractionDigits:t.minimumFractionDigits})),i},e.createDefault=function(t,n){var i,o,r,s,u,h,p,f,g,m,v,y,b,w,x,S,k,_,T,C,E;void 0===n&&(n=c.Amount.fromNumber(100));var P=new e;t.particleSystems=t.particleSystems||{count:200,alpha:!0,position:!0,scale:!0,sprites:["sp_particule_00.png","sp_particule_01.png","sp_particule_02.png"]},P.createParticles(t.particleSystems.count,null!==(i=t.particleSystems.sprites)&&void 0!==i?i:["sp_particule_00.png","sp_particule_01.png","sp_particule_02.png"],{alpha:t.particleSystems.alpha,position:t.particleSystems.position,scale:t.particleSystems.scale});var A=null!==(o=t.thresholdsTexts)&&void 0!==o?o:[],B=null!==(r=t.looserTexts)&&void 0!==r?r:{},R={mainTextWinner:t.textStyles.mainTextWinner,subText1Winner:t.textStyles.subText1Winner,mainTextLooser:t.textStyles.mainTextLooser,subText1Looser:t.textStyles.subText1Looser,subText2Looser:t.textStyles.subText2Looser,winningThresholds:[{amount:Number(n.value),mainText:null!==(u=null===(s=A[0])||void 0===s?void 0:s.mainText)&&void 0!==u?u:a.t("result.winner1"),subText1:null!==(p=null===(h=A[0])||void 0===h?void 0:h.subText)&&void 0!==p?p:a.t("result.winnerSubText")},{amount:10*n.value,mainText:null!==(g=null===(f=A[1])||void 0===f?void 0:f.mainText)&&void 0!==g?g:a.t("result.winner2"),subText1:null!==(v=null===(m=A[1])||void 0===m?void 0:m.subText)&&void 0!==v?v:a.t("result.winnerSubText")},{amount:49*n.value,mainText:null!==(b=null===(y=A[2])||void 0===y?void 0:y.mainText)&&void 0!==b?b:a.t("result.winner3"),subText1:null!==(x=null===(w=A[2])||void 0===w?void 0:w.subText)&&void 0!==x?x:a.t("result.winnerSubText")}],looserTexts:{disappears:null===(S=t.amountDisappears)||void 0===S||S,mainText:null!==(k=B.mainText)&&void 0!==k?k:a.t("result.looser1"),subText1:null!==(_=B.subText1)&&void 0!==_?_:a.t("result.looser2"),subText2:null!==(T=B.subText2)&&void 0!==T?T:a.t("result.looser3")},sounds:{loser:t.sounds&&t.sounds.loser||null,winner:t.sounds&&t.sounds.winner||null},looserDuration:null!==(C=t.looserDuration)&&void 0!==C?C:3},O={amountDisappears:null===(E=t.amountDisappears)||void 0===E||E,amountVerticalMargin:t.amountVerticalMargin,smallRaySprite:"sp_layon_s.png",bigRaySprite:"sp_layon_b.png",middleSprite:"sp_effect_win.png",amountStyle:t.winAmountTextStyle,raysPerThreshold:6,thresholds:[Number(n.value),10*n.value,50*n.value],sounds:{incrementation:t.sounds&&t.sounds.incrementation||null},minimumFractionDigits:t.minimumFractionDigits};return void 0!==t.thresholds&&(R.winningThresholds=t.thresholds.map((function(t,e){var i,o,r,s,u,c;return{amount:(null!==(i=t.multiplier)&&void 0!==i?i:0)*n.value,mainText:null!==(r=null===(o=A[e])||void 0===o?void 0:o.mainText)&&void 0!==r?r:a.t("result.winner".concat(e)),subText1:null!==(u=null===(s=A[e])||void 0===s?void 0:s.subText)&&void 0!==u?u:a.t("result.winnerSubText"),animated:null===(c=t.animated)||void 0===c||c,duration:2}})),O.thresholds=t.thresholds.map((function(t){var e,i,o;return{amount:t.multiplier*n.value,animated:null===(e=t.animated)||void 0===e||e,duration:t.animated?(null!==(i=t.duration)&&void 0!==i?i:3)-2:null!==(o=t.duration)&&void 0!==o?o:3}}))),P.addStage(new l.TextResultStage(R)),P.addStage(new d.AmountResultStage(O)),P},e.createDefaultScratch=function(t,n){var i,o,r,s,u,l,d,p,f,g,m,v,y,b,w,x,S,k;void 0===n&&(n=c.Amount.fromNumber(100));var _=new e,T=null!==(i=t.thresholdsTexts)&&void 0!==i?i:[],C=null!==(o=t.looserTexts)&&void 0!==o?o:{},E={disappears:null===(r=t.disappears)||void 0===r||r,mainTextWinner:t.textStyles.mainTextWinner,subText1Winner:t.textStyles.subText1Winner,mainTextLooser:t.textStyles.mainTextLooser,subText1Looser:t.textStyles.subText1Looser,subText2Looser:t.textStyles.subText2Looser,winningThresholds:[{amount:Number(n.value),mainText:null!==(u=null===(s=T[0])||void 0===s?void 0:s.mainText)&&void 0!==u?u:a.t("result.winner1"),subText1:null!==(d=null===(l=T[0])||void 0===l?void 0:l.subText)&&void 0!==d?d:a.t("result.winnerSubText")},{amount:10*n.value,mainText:null!==(f=null===(p=T[1])||void 0===p?void 0:p.mainText)&&void 0!==f?f:a.t("result.winner2"),subText1:null!==(m=null===(g=T[1])||void 0===g?void 0:g.subText)&&void 0!==m?m:a.t("result.winnerSubText")},{amount:49*n.value,mainText:null!==(y=null===(v=T[2])||void 0===v?void 0:v.mainText)&&void 0!==y?y:a.t("result.winner3"),subText1:null!==(w=null===(b=T[2])||void 0===b?void 0:b.subText)&&void 0!==w?w:a.t("result.winnerSubText")}],amountStyle:t.winAmountTextStyle,looserTexts:{mainText:null!==(x=C.mainText)&&void 0!==x?x:a.t("result.looser1"),subText1:null!==(S=C.subText1)&&void 0!==S?S:a.t("result.looser2"),subText2:null!==(k=C.subText2)&&void 0!==k?k:a.t("result.looser3")},sounds:{loser:t.sounds&&t.sounds.loser||null,winner:t.sounds&&t.sounds.winner||null},backgroundTexture:t.backgroundScratch,minimumFractionDigits:t.minimumFractionDigits};return void 0!==t.thresholds&&(E.winningThresholds=t.thresholds.map((function(t,e){var i,o,r,s,u,c;return{amount:(null!==(i=t.multiplier)&&void 0!==i?i:0)*n.value,mainText:null!==(r=null===(o=T[e])||void 0===o?void 0:o.mainText)&&void 0!==r?r:a.t("result.winner".concat(e)),subText1:null!==(u=null===(s=T[e])||void 0===s?void 0:s.subText)&&void 0!==u?u:a.t("result.winnerSubText"),duration:null!==(c=t.duration)&&void 0!==c?c:3.4}}))),_.addStage(new h.ScratchStage(E)),_},e.createDefaultSpine=function(t,n){void 0===n&&(n=c.Amount.fromNumber(100));var i=new e;return i.addStage(new g.SpineStage(v({thresholdsWinAmount:[Number(n.value),10*n.value,49*n.value],winnerDuration:5,loserDuration:5,winEnterAnimationName:"enter",loseEnterAnimationName:"enter",winExitAnimationName:"exit",loseExitAnimationName:"exit",winMainText:t.winMainText?t.winMainText:t.winSpineTimeline.getSlotContainerByName("label_title").getChildByName("label"),winSubText:t.winSubText?t.winSubText:t.winSpineTimeline.getSlotContainerByName("label_text").getChildByName("label"),winAmountText:t.winAmountText?t.winAmountText:t.winSpineTimeline.getSlotContainerByName("label_amount").getChildByName("label"),loseMainText:t.loseMainText?t.loseMainText:t.loseSpineTimeline.getSlotContainerByName("label_title").getChildByName("label"),loseSubText:t.loseSubText?t.loseSubText:t.loseSpineTimeline.getSlotContainerByName("label_text").getChildByName("label")},t))),i},e.prototype.export=function(){return c.Tools.assign(u.ContainerExporter.exportContainer(this,!0),{type:"result.ResultBox",resultBox:v(v({},null!==this.particleSystem&&{particleSystems:this.particleSystemConfig}),{stages:this.stages.map((function(t){var e;return t instanceof p.AmountCoinWizzStage?e=p.AmountCoinWizzStage.name:t instanceof f.AmountCurrencyWizzStage?e=f.AmountCurrencyWizzStage.name:t instanceof d.AmountResultStage?e=d.AmountResultStage.name:t instanceof h.ScratchStage?e=h.ScratchStage.name:t instanceof g.SpineStage?e=g.SpineStage.name:t instanceof l.TextResultStage&&(e=l.TextResultStage.name),{type:e,config:t.config}}))})})},e.parse=function(t,n){var i,o,r=new e,s=t.resultBox.particleSystems;void 0!==s&&r.createParticles(s.count,s.sprites,{alpha:s.alpha,scale:s.scale,position:s.position});try{for(var a=y(t.resultBox.stages),c=a.next();!c.done;c=a.next()){var m=c.value;switch(m.type){case p.AmountCoinWizzStage.name:r.addStage(new p.AmountCoinWizzStage(m.config));break;case f.AmountCurrencyWizzStage.name:r.addStage(new f.AmountCurrencyWizzStage(m.config));break;case d.AmountResultStage.name:r.addStage(new d.AmountResultStage(m.config));break;case h.ScratchStage.name:r.addStage(new h.ScratchStage(m.config));break;case g.SpineStage.name:r.addStage(new g.SpineStage(m.config));break;case l.TextResultStage.name:r.addStage(new l.TextResultStage(m.config))}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return r=u.ContainerImporter.importContainer(t,n,r)},e}(s.Container)},"./src/game/ui/result/resultStage.ts":
/*!*******************************************!*\
  !*** ./src/game/ui/result/resultStage.ts ***!
  \*******************************************/
/*! exports provided: ResultStage */function(t,e,n){"use strict";n.r(e),n.d(e,"ResultStage",(function(){return a}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! gsap */"gsap"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.onHide=function(t){var e=this;return t?new Promise((function(t){r.TweenMax.to(e,.3,{alpha:0,onComplete:function(){e.hide(),t()}})})):(this.hide(),Promise.resolve())},e.prototype.hide=function(){this.visible=!1,this.alpha=1},e}(o.Container)},"./src/game/ui/result/scratchStage.ts":
/*!********************************************!*\
  !*** ./src/game/ui/result/scratchStage.ts ***!
  \********************************************/
/*! exports provided: ScratchStage */function(t,e,n){"use strict";n.r(e),n.d(e,"ScratchStage",(function(){return h}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! gsap */"gsap"),u=n(/*! howler */"howler"),c=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),l=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this,i=e.backgroundTexture.winner||"sp_popup_fin_00.png";return n.background=o.Sprite.fromFrame(i),e.mainTextLooser instanceof o.Container?n.mainText=e.mainTextLooser:(n.mainText=new r.TextArea("",e.mainTextLooser),n.mainText.docking=new r.Docking(r.Docking.centerAll)),e.subText1Looser instanceof o.Container?n.subText1=e.subText1Looser:(n.subText1=new r.TextArea("",e.subText1Looser),n.subText1.docking=new r.Docking(r.Docking.centerAll)),e.subText2Looser instanceof o.Container?n.subText2=e.subText2Looser:(n.subText2=new r.TextArea("",e.subText2Looser),n.subText2.docking=new r.Docking(r.Docking.centerAll)),n._amount=new r.TextArea("",e.amountStyle),n._amount.docking=new r.Docking(r.Docking.centerAll),e.sounds=e.sounds||{},"string"==typeof e.sounds.loser?n._loseSound=s.Loader.get(e.sounds.loser):e.sounds.loser instanceof u.Howl&&(n._loseSound=e.sounds.loser),"string"==typeof e.sounds.winner?n._winSound=s.Loader.get(e.sounds.winner):e.sounds.winner instanceof u.Howl&&(n._winSound=e.sounds.winner),n.config=e,n.docking=new r.Docking(r.Docking.centerAll),n.dockingBounds=new r.DockingBounds(n.background.width,n.background.height),n.visible=!1,n}return d(e,t),e.prototype.onShow=function(t,e){var n,i,u=this,c=3.4;0===t.amount.value?(this.subText2.visible=!0,this._amount.visible=!1,this.config.backgroundTexture.loser&&(this.background=o.Sprite.fromFrame(this.config.backgroundTexture.loser),this.background.docking=new r.Docking(r.Docking.centerAll)),this.mainText instanceof r.TextArea&&(this.mainText.text=this.config.looserTexts.mainText,this.mainText.styles=this.config.mainTextLooser),this.subText1 instanceof r.TextArea&&(this.subText1.text=this.config.looserTexts.subText1,this.subText1.styles=this.config.subText1Looser),this.subText2 instanceof r.TextArea&&(this.subText2.text=this.config.looserTexts.subText2,this.subText2.styles=this.config.subText2Looser),this._loseSound&&this._loseSound.play(),c=null!==(n=this.config.looserDuration)&&void 0!==n?n:3.4):(this.subText2.visible=!1,this._amount.visible=!0,this._amount.text=s.Numeral.currency(new s.Amount(t.amount.value),{minimumFractionDigits:null!==(i=this.config.minimumFractionDigits)&&void 0!==i?i:2}),this.config.backgroundTexture.winner&&(this.background=o.Sprite.fromFrame(this.config.backgroundTexture.winner),this.background.docking=new r.Docking(r.Docking.centerAll)),this.mainText instanceof r.TextArea&&(this.mainText.text=this.config.winningThresholds[0].mainText),this.subText1 instanceof r.TextArea&&(this.subText1.text=this.config.winningThresholds[0].subText1),this.config.winningThresholds.forEach((function(e){var n;t.amount.value>=e.amount&&(u.mainText instanceof r.TextArea&&(u.mainText.text=e.mainText),u.subText1 instanceof r.TextArea&&(u.subText1.text=e.subText1),c=null!==(n=e.duration)&&void 0!==n?n:c)})),this.mainText instanceof r.TextArea?this.mainText.styles=this.config.mainTextWinner:this.mainText=this.config.mainTextWinner,this.subText1 instanceof r.TextArea?this.subText1.styles=this.config.subText1Winner:this.subText1=this.config.subText1Winner,this._winSound&&this._winSound.play()),this.addChild(this.background),this.addChild(this.mainText),this.addChild(this.subText1),this.addChild(this.subText2),this.addChild(this._amount),this.mainText.docking.y=1.5*-this.subText1.height,this.subText2.docking.y=this.subText1.height,this._amount.docking.y=1.5*this.subText1.height,this.scaleXY=0,a.TweenMax.to(this,.7,{scaleXY:1,ease:a.Back.easeOut.config(1.7),onComplete:function(){t.emit(l.EResultBoxEvents.StageHasEntered,u),!1!==u.config.disappears?a.TweenMax.to(u,.7,{delay:c-1.4,scaleXY:0,ease:a.Back.easeIn.config(1.7),onStart:function(){t.emit(l.EResultBoxEvents.StageWillExit,u)},onComplete:function(){e(!0)}}):e(!0)}})},e.prototype.onHide=function(e){return!1===this.config.disappears?Promise.resolve():t.prototype.onHide.call(this,e)},e}(c.ResultStage)},"./src/game/ui/result/spineStage.ts":
/*!******************************************!*\
  !*** ./src/game/ui/result/spineStage.ts ***!
  \******************************************/
/*! exports provided: SpineStage */function(t,e,n){"use strict";n.r(e),n.d(e,"SpineStage",(function(){return l}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! @gdk/core */"@gdk/core"),s=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{u(i.next(t))}catch(t){r(t)}}function a(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))},c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},l=function(t){function e(e){var n=t.call(this)||this;return n.config=e,n.reset(),n}return a(e,t),e.prototype.onShow=function(t,e){return u(this,void 0,void 0,(function(){var n,i,s,a,u=this;return c(this,(function(c){if(n=t.amount.value>0){for(this.config.winAmountText.text=r.Numeral.currency(t.amount,{minimumFractionDigits:2}),i=this.config.thresholdsWinAmount.length-1;i>=0;i--)if(s=this.config.thresholdsWinAmount[i],(a=this.config.thresholdsTexts[i])&&t.amount.value>=s){this.config.winMainText.text=a.mainText,this.config.winSubText.text=a.subText;break}}else this.config.loseMainText.text=this.config.looserTexts.mainText,this.config.loseSubText.text=this.config.looserTexts.subText;return(n?this.config.winSpineTimeline.playDirect(this.config.winEnterAnimationName):this.config.loseSpineTimeline.playDirect(this.config.loseEnterAnimationName)).then((function(){return Object(o.pDelayedCall)(n?u.config.winnerDuration:u.config.loserDuration)})).then((function(){return n?u.config.winSpineTimeline.playDirect(u.config.winExitAnimationName):u.config.loseSpineTimeline.playDirect(u.config.loseExitAnimationName)})).then((function(){e(!0)})),this.config.winSpineTimeline.visible=n,this.config.loseSpineTimeline.visible=!n,[2]}))}))},e.prototype.reset=function(){this.config.winSpineTimeline.visible=!1,this.config.loseSpineTimeline.visible=!1},e}(s.ResultStage)},"./src/game/ui/result/textResultStage.ts":
/*!***********************************************!*\
  !*** ./src/game/ui/result/textResultStage.ts ***!
  \***********************************************/
/*! exports provided: TextResultStage */function(t,e,n){"use strict";n.r(e),n.d(e,"TextResultStage",(function(){return h}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=n(/*! gsap */"gsap"),u=n(/*! howler */"howler"),c=n(/*! ./resultStage */"./src/game/ui/result/resultStage.ts"),l=n(/*! ./resultBox */"./src/game/ui/result/resultBox.ts"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this;return e.mainTextLooser instanceof o.Container?n.mainText=e.mainTextLooser:(n.mainText=new r.TextArea("",e.mainTextLooser,{align:r.EAlign.Center}),n.mainText.docking=new r.Docking(r.Docking.centerAll)),e.subText1Looser instanceof o.Container?n.subText1=e.subText1Looser:(n.subText1=new r.TextArea("",e.subText1Looser,{align:r.EAlign.Center}),n.subText1.docking=new r.Docking(r.Docking.centerAll)),e.subText2Looser instanceof o.Container?n.subText2=e.subText2Looser:(n.subText2=new r.TextArea("",e.subText2Looser,{align:r.EAlign.Center}),n.subText2.docking=new r.Docking(r.Docking.centerAll)),e.sounds=e.sounds||{},"string"==typeof e.sounds.loser?n._loseSound=s.Loader.get(e.sounds.loser):e.sounds.loser instanceof u.Howl&&(n._loseSound=e.sounds.loser),"string"==typeof e.sounds.winner?n._winSound=s.Loader.get(e.sounds.winner):e.sounds.winner instanceof u.Howl&&(n._winSound=e.sounds.winner),n.config=e,n.dockAsPoint=!0,n.visible=!1,n}return d(e,t),e.prototype.onShow=function(t,e){var n=this,i=!0,o=2;if(0===t.amount.value?(this.subText2.visible=!0,this.mainText instanceof r.TextArea&&(this.mainText.freeze(),this.mainText.keepCanvasReference=!0,this.mainText.text=this.config.looserTexts.mainText,this.mainText.styles=this.config.mainTextLooser,this.mainText.unfreeze()),this.subText1 instanceof r.TextArea&&(this.subText1.freeze(),this.subText1.keepCanvasReference=!0,this.subText1.text=this.config.looserTexts.subText1,this.subText1.styles=this.config.subText1Looser,this.subText1.unfreeze()),this.subText2 instanceof r.TextArea&&(this.subText2.freeze(),this.subText2.keepCanvasReference=!0,this.subText2.text=this.config.looserTexts.subText2,this.subText2.styles=this.config.subText2Looser,this.subText2.unfreeze()),this._loseSound&&this._loseSound.play(),o=this.config.looserDuration):(this.subText2.visible=!1,this.mainText instanceof r.TextArea&&(this.mainText.freeze(),this.mainText.keepCanvasReference=!0,this.mainText.text=this.config.winningThresholds[0].mainText),this.subText1 instanceof r.TextArea&&(this.subText1.freeze(),this.subText1.text=this.config.winningThresholds[0].subText1),this.config.winningThresholds.forEach((function(e){var s,a;t.amount.value>=e.amount&&(n.mainText instanceof r.TextArea&&(n.mainText.text=e.mainText),n.subText1 instanceof r.TextArea&&(n.subText1.text=e.subText1),o=null!==(s=e.duration)&&void 0!==s?s:2,i=null===(a=e.animated)||void 0===a||a)})),this.mainText instanceof r.TextArea?(this.mainText.styles=this.config.mainTextWinner,this.mainText.unfreeze()):this.mainText=this.config.mainTextWinner,this.subText1 instanceof r.TextArea?(this.subText1.styles=this.config.subText1Winner,this.subText1.unfreeze()):this.subText1=this.config.subText1Winner,this._winSound&&this._winSound.play()),this.addChild(this.mainText),this.addChild(this.subText1),this.addChild(this.subText2),this.mainText.scaleXY=1,this.subText2.scaleXY=1,this.subText1.scaleXY=1,this.mainText.docking.y=-this.subText1.height,this.subText1.docking.y=0,this.subText2.docking.y=this.subText1.height,this.mainText.pivot.x=this.mainText.width/2,this.mainText.pivot.y=this.mainText.height/2,this.subText1.pivot.x=this.subText1.width/2,this.subText1.pivot.y=this.subText1.height/2,this.subText2.pivot.x=this.subText2.width/2,this.subText2.pivot.y=this.subText2.height/2,!i)return this.mainText.docking.y-=50,this.subText1.docking.y-=50,this.subText2.docking.y-=50,void e(!1,!1);this.animate(t,o,e)},e.prototype.animate=function(t,e,n){var i=this;this.mainText.scaleXY=0,this.subText2.scaleXY=0,this.subText1.scaleXY=0,a.TweenMax.to(this.mainText,.25*e,{scaleXY:1,onComplete:function(){i.mainText instanceof r.TextArea&&(i.mainText.keepCanvasReference=!1)}}),a.TweenMax.to(this.subText1,.25*e,{delay:.25*e,scaleXY:1,onComplete:function(){i.subText1 instanceof r.TextArea&&(i.subText1.keepCanvasReference=!1)}}),a.TweenMax.to(t.particleSystem,e,{scaleXY:1}),a.TweenMax.to(this.subText2,.25*e,{delay:.25*e,scaleXY:1,onComplete:function(){i.subText2 instanceof r.TextArea&&(i.subText2.keepCanvasReference=!1),t.emit(l.EResultBoxEvents.StageHasEntered,i),a.TweenMax.to(t.particleSystem,.25*e,{delay:.25*e,scaleXY:0}),0!==t.amount.value||!1!==i.config.looserTexts.disappears?(a.TweenMax.to(i.mainText,.25*e,{ease:a.Back.easeIn.config(1.7),delay:.25*e,scaleXY:0}),a.TweenMax.to(i.subText1,.25*e,{ease:a.Back.easeIn.config(1.7),delay:.25*e,scaleXY:0}),a.TweenMax.to(i.subText2,.25*e,{ease:a.Back.easeIn.config(1.7),delay:.25*e,scaleXY:0,onStart:function(){t.emit(l.EResultBoxEvents.StageWillExit,i)},onComplete:function(){i.removeChild(t.particleSystem),n(0===t.amount.value,!0)}})):n(!0,!1)}})},e}(c.ResultStage)},"./src/game/ui/rules/agreement.ts":
/*!****************************************!*\
  !*** ./src/game/ui/rules/agreement.ts ***!
  \****************************************/
/*! exports provided: AgreementSlide */function(t,e,n){"use strict";n.r(e),n.d(e,"AgreementSlide",(function(){return h}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! i18next */"i18next"),s=n.n(r),a=n(/*! @gdk/core */"@gdk/core"),u=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),c=n(/*! ./index */"./src/game/ui/rules/index.ts"),l=n(/*! ./textSlide */"./src/game/ui/rules/textSlide.ts"),d=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n){var i=t.call(this,n)||this;return i.autoConfigure=!0,i.com=null,i._gameRulePadding={},i._generalRulePadding={},i.com=e,i.setName("rules:agreement"),i.okButton=n.okButtonStyle instanceof u.Button?n.okButtonStyle:new u.Button(n.okButtonStyle).setName("rules:ok"),i.okButton.doNotExport=!0,i.okButton.docking=new u.Docking(u.Docking.bottomRight),i.generalRule=n.generalRuleStyle instanceof u.TextField?n.generalRuleStyle:new u.TextField(s.a.t("rules.agreement.generalRule"),n.generalRuleStyle||n.text.style).setName("rules:agreement:generalRules"),i.generalRule.docking=new u.Docking(u.Docking.centerAll),i.generalRule.interactive=!0,i.addChild(i.generalRule),i._generalRulePadding=a.Tools.assign(i._generalRulePadding,n.generalRulePadding),i.gameRule=n.gameRuleStyle instanceof u.TextField?n.gameRuleStyle:new u.TextField(s.a.t("rules.agreement.gameRule"),n.gameRuleStyle||n.text.style).setName("rules:agreement:gameRules"),i.gameRule.docking=new u.Docking(u.Docking.centerAll),i.gameRule.interactive=!0,i.addChild(i.gameRule),i._gameRulePadding=a.Tools.assign(i._gameRulePadding,n.gameRulePadding),i.generalRule.on("link",(function(){return i.com.trigger("GLOBAL_RULES")})),i.gameRule.on("link",(function(){return i.com.trigger("GAME_RULES")})),i}return d(e,t),e.prototype.configure=function(e){if(this.okButton.visible=!1,e.addChild(this.okButton),this.autoConfigure){if(t.prototype.configure.call(this,e),this.layout===c.ELayout.TextPadding)return delete this.gameRule.docking,void 0===this._gameRulePadding.left&&void 0===this._gameRulePadding.right||(this.gameRule.x=Object(l.getSlideStylePaddingValue)(this._gameRulePadding.left,this),this.gameRule.width=this.dockingBounds.width-(Object(l.getSlideStylePaddingValue)(this._gameRulePadding.right,this)-this.gameRule.x)),void 0===this._gameRulePadding.top&&void 0===this._gameRulePadding.bottom||(this.gameRule.y=Object(l.getSlideStylePaddingValue)(this._gameRulePadding.top,this),this.gameRule.height=this.dockingBounds.height-(Object(l.getSlideStylePaddingValue)(this._gameRulePadding.bottom,this)-this.gameRule.y)),delete this.generalRule.docking,void 0===this._generalRulePadding.left&&void 0===this._generalRulePadding.right||(this.generalRule.x=Object(l.getSlideStylePaddingValue)(this._generalRulePadding.left,this),this.generalRule.width=this.dockingBounds.width-(Object(l.getSlideStylePaddingValue)(this._generalRulePadding.right,this)-this.gameRule.x)),void(void 0===this._generalRulePadding.top&&void 0===this._generalRulePadding.bottom||(this.generalRule.y=Object(l.getSlideStylePaddingValue)(this._generalRulePadding.top,this),this.generalRule.height=this.dockingBounds.height-(Object(l.getSlideStylePaddingValue)(this._generalRulePadding.bottom,this)-this.gameRule.y)));this.text.docking.y=-this.generalRule.height/2,this.generalRule.docking.y=this.text.height/2,this.generalRule.docking.x=-this.dockingBounds.width/2+this.generalRule.width+25,this.gameRule.docking.y=this.text.height/2,this.gameRule.docking.x=this.dockingBounds.width/2-this.gameRule.width-25}},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e),this.okButton.visible=!0,e.addChild(this.okButton),e.nextButton.visible=!1,e.popup.closeButton.visible=!1},e.prototype.onHide=function(t){this.okButton.visible=!1,t.nextButton.visible=!0,this.visible=!1,t.popup.closeButton.visible=!0},e.prototype.onDestroy=function(t){t.removeChild(this.okButton),t.nextButton.visible=!0},e.prototype.export=function(){return this.children.forEach((function(t){return t.doNotExport=!0})),a.Tools.assign(u.ContainerExporter.exportContainer(this),{type:"rules.AgreementSlide",hasBullet:this.hasBullet,agreement:{okButtonStyle:this.okButton.export(),generalRuleStyle:this.generalRule.export(),gameRuleStyle:this.gameRule.export(),text:this.text.export(),title:this.title.export()}})},e.parse=function(t,n){var i=new e(null,{okButtonStyle:{clickedTexture:o.Texture.WHITE,idleTexture:o.Texture.WHITE,overTexture:o.Texture.WHITE,disabledTexture:o.Texture.WHITE},text:{style:t.agreement.text.styles}});return i.autoConfigure=!1,u.Button.parse(t.agreement.okButtonStyle,n,i.okButton),u.ContainerImporter.import(t.agreement.title,n,i.title),u.ContainerImporter.import(t.agreement.text,n,i.text),u.ContainerImporter.import(t.agreement.generalRuleStyle,n,i.generalRule),u.ContainerImporter.import(t.agreement.gameRuleStyle,n,i.gameRule),u.ContainerImporter.importContainer(t,n,i),void 0!==t.hasBullet&&(i.hasBullet=t.hasBullet),i},e}(c.TextSlide)},"./src/game/ui/rules/baseSlide.ts":
/*!****************************************!*\
  !*** ./src/game/ui/rules/baseSlide.ts ***!
  \****************************************/
/*! exports provided: BaseSlide */function(t,e,n){"use strict";n.r(e),n.d(e,"BaseSlide",(function(){return u}));var i,o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=n(/*! @gdk/core */"@gdk/core"),s=n(/*! ./slide */"./src/game/ui/rules/slide.ts"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.configure=function(t){this.dockingBounds=new o.DockingBounds(t.dockingBounds.width,t.dockingBounds.height)},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e)},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e.prototype.export=function(){return r.Tools.assign(o.ContainerExporter.exportContainer(this),{type:"rules.BaseSlide",hasBullet:this.hasBullet})},e.parse=function(t,n){var i=new e;return void 0!==t.hasBullet&&(i.hasBullet=t.hasBullet),i},e}(s.Slide)},"./src/game/ui/rules/index.ts":
/*!************************************!*\
  !*** ./src/game/ui/rules/index.ts ***!
  \************************************/
/*! exports provided: Rules, Slide, TextSlide, ELayout, BaseSlide, AgreementSlide */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./rules */"./src/game/ui/rules/rules.ts");n.d(e,"Rules",(function(){return i.Rules}));var o=n(/*! ./slide */"./src/game/ui/rules/slide.ts");n.d(e,"Slide",(function(){return o.Slide}));var r=n(/*! ./textSlide */"./src/game/ui/rules/textSlide.ts");n.d(e,"TextSlide",(function(){return r.TextSlide})),n.d(e,"ELayout",(function(){return r.ELayout}));var s=n(/*! ./baseSlide */"./src/game/ui/rules/baseSlide.ts");n.d(e,"BaseSlide",(function(){return s.BaseSlide}));var a=n(/*! ./agreement */"./src/game/ui/rules/agreement.ts");n.d(e,"AgreementSlide",(function(){return a.AgreementSlide}))},"./src/game/ui/rules/rules.ts":
/*!************************************!*\
  !*** ./src/game/ui/rules/rules.ts ***!
  \************************************/
/*! exports provided: Rules */function(t,e,n){"use strict";n.r(e),n.d(e,"Rules",(function(){return c}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),s=n(/*! @gdk/core */"@gdk/core"),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t){function e(e){var n=t.call(this)||this;return n.loop=!1,n._slides=[],n._currentSlide=null,n.currentBullet=null,n.containerToListen=null,n._onTouchStart=function(t){n.touchStartPosition=t.data.getLocalPosition(n),n.touchStartTime=Date.now()},n._onTouchEnd=function(t){n.touchStartPosition&&(n.touchEndPosition=t.data.getLocalPosition(n),1e3*Math.abs(n.touchStartPosition.x-n.touchEndPosition.x)/(Date.now()-n.touchStartTime)>500&&(n.touchStartPosition.x>n.touchEndPosition.x?n.next():n.previous()))},e.popup instanceof r.Popup?n.popup=e.popup:n.popup=new r.Popup(e.popup),n.popup.closeButton.setName("rules:close"),n.popup.interactive=!0,n.popup.doNotExport=!0,n.popup.docking=new r.Docking(r.Docking.centerAll),e.nextButton instanceof r.Button?n.nextButton=e.nextButton:n.nextButton=new r.Button(e.nextButton),n.nextButton.doNotExport=!0,n.nextButton.docking=new r.Docking(r.Docking.bottomRight),n.nextButton.setName("rules:next"),e.previousButton instanceof r.Button?n.previousButton=e.previousButton:n.previousButton=new r.Button(e.previousButton),n.previousButton.doNotExport=!0,n.previousButton.docking=new r.Docking(r.Docking.bottomLeft),n.previousButton.scaleX=-1,n.previousButton.setName("rules:previous"),n.idleBulletTexture="string"==typeof e.bulletPoint.idle?o.Texture.fromFrame(e.bulletPoint.idle):e.bulletPoint.idle,n.activeBulletTexture="string"==typeof e.bulletPoint.active?o.Texture.fromFrame(e.bulletPoint.active):e.bulletPoint.active,n.bullet=new o.Container,n.bullet.name="Bullets",n.bullet.doNotExport=!0,n.bullet.docking=new r.Docking(r.Docking.bottomCenterHorizontal),n.bullet.dockingBounds=new r.DockingBounds(0,n.idleBulletTexture.height),n.bullet.docking.y=-48,n.addChild(n.popup),n.addChild(n.nextButton),n.addChild(n.previousButton),n.addChild(n.bullet),n.config=e,n.dockingBounds=new r.DockingBounds(n.popup.background.width,n.popup.background.height),n._bindEvents(),n}return a(e,t),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSlide",{get:function(){return this._currentSlide},set:function(t){if(t!==this._currentSlide){this._currentSlide&&this._currentSlide.onHide(this),this._currentSlide=t,this._currentSlide.onShow(this),this.currentBullet.texture=this.idleBulletTexture;var e=this._slides.indexOf(this._currentSlide);this.currentBullet=this.bullet.children[e],this.currentBullet.texture=this.activeBulletTexture,this.previousButton.visible=e>0&&this.slides.length>1,this.nextButton.visible=e<this.slides.length-1&&this.slides.length>1}},enumerable:!1,configurable:!0}),e.prototype.addSlide=function(t){t.configure&&t.configure(this),this.addChild(t),this._slides.push(t),this._currentSlide||(this._currentSlide=t),this._slides.length>=1&&(t.visible=!1),t.hasBullet&&this._addBullet(),this.addChild(this.previousButton),this.addChild(this.nextButton)},e.prototype.removeSlide=function(t){t.onDestroy&&t.onDestroy(this),this.removeChild(t);var e=this._slides.indexOf(t);-1!==e&&this._slides.splice(e,1),t===this._currentSlide&&(this._currentSlide=this._slides[e>this._slides.length?this._slides.length:e],this._currentSlide&&this._currentSlide.onShow(this)),t.hasBullet&&this.bullet.children.length>0&&(this.bullet.children[0].destroy(),this.bullet.children.forEach((function(t,e){return t.x=t.texture.width*e})))},e.prototype.getSlideByName=function(t){var e,n;try{for(var i=u(this.slides),o=i.next();!o.done;o=i.next()){var r=o.value;if(r.name===t)return r}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},e.prototype.removeAllSlides=function(){for(;this._slides.length>0;)this.removeSlide(this._slides[0]);this._currentSlide=null,this.popup.closeButton.visible=!0},e.prototype.reset=function(){var t=this;this._currentSlide&&this._currentSlide.onHide(this),this._currentSlide=this._slides[0],this._currentSlide.onShow(this),this._slides.length>1?(this.previousButton.visible=this.loop,this.nextButton.visible=!0):(this.previousButton.visible=!1,this.nextButton.visible=!1),this.bullet.children.length>0&&(this.bullet.children.forEach((function(e){return e.texture=t.idleBulletTexture})),this.currentBullet=this.bullet.children[0],this.currentBullet.texture=this.activeBulletTexture),this.popup.closeButton.enabled=!0,this.addChild(this.previousButton),this.addChild(this.nextButton)},e.prototype.show=function(t){void 0===t&&(t=!1),this.alpha=1,this.loop=t,this.reset()},e.prototype.changeSlideByIndex=function(t){var e=this._slides.indexOf(this._currentSlide),n=e+1===t,i=e-1===t;if(t<0){if(!this.loop)return;t=this._slides.length-(Math.abs(t)-1)%this._slides.length}if(t>=this._slides.length){if(!this.loop)return;t%=this._slides.length}return this._currentSlide.onHide(this),this.currentBullet.texture=this.idleBulletTexture,this._currentSlide=this._slides[t],this.previousButton.visible=t>0||this.loop,this.nextButton.visible=t<this._slides.length-1||this.loop,this._currentSlide.hasBullet?this._updateBulletsTexture(t):this.bullet.visible=!1,this._currentSlide.onShow(this),this.onChangeSlide&&this.onChangeSlide(),n&&this.onNext&&this.onNext(),i&&this.onPrevious&&this.onPrevious(),this._currentSlide},e.prototype.next=function(){var t=this._slides.indexOf(this._currentSlide)+1;return this.changeSlideByIndex(t)},e.prototype.previous=function(){var t=this._slides.indexOf(this._currentSlide)-1;return this.changeSlideByIndex(t)},e.prototype.close=function(){this.onClose&&this.onClose()},e.prototype._addBullet=function(){var t=new o.Sprite(this.idleBulletTexture);this.bullet.addChild(t),this.bullet.children.forEach((function(t,e){return t.x=t.texture.width*e})),this.bullet.dockingBounds.width=this.bullet.children.length*this.idleBulletTexture.width,this.currentBullet||(this.currentBullet=t),this.bullet.visible=this._slides.length>1,this.bullet.pivot.set(0,t.height/2)},e.prototype._updateBulletsTexture=function(t){this.bullet.children.length>1&&(this.bullet.visible=!0,this.currentBullet=this.bullet.children[t],this.currentBullet.texture=this.activeBulletTexture)},e.prototype._bindEvents=function(){var t=this;this.popup.closeButton.on("pointertap",(function(e){Object(r.isLeftPointerTap)(e)&&t.close()})),this.nextButton.on("pointertap",(function(e){Object(r.isLeftPointerTap)(e)&&t.next()})),this.previousButton.on("pointertap",(function(e){Object(r.isLeftPointerTap)(e)&&t.previous()})),this.addSwipeListenerToContainer(this.popup)},e.prototype.addSwipeListenerToContainer=function(t){void 0===t&&(t=null),this.containerToListen&&(this.containerToListen.removeListener("touchstart",this._onTouchStart),this.containerToListen.removeListener("touchend",this._onTouchEnd)),this.containerToListen=t||this.popup,this.containerToListen.addListener("touchstart",this._onTouchStart),this.containerToListen.addListener("touchend",this._onTouchEnd)},e.prototype.export=function(){var t=[];return this.slides.forEach((function(e){e.export&&(e.doNotExport=!1,t.push(e.export())),e.doNotExport=!0})),this.bullet.children.forEach((function(t){return t.doNotExport=!0})),s.Tools.assign(r.ContainerExporter.exportContainer(this),{type:"rules.Rules",popup:this.popup.export(),nextButton:this.nextButton.export(),previousButton:this.previousButton.export(),bulletPoint:{config:r.ContainerExporter.exportContainer(this.bullet,!0),idle:r.TextureExporter.exportTexture(this.idleBulletTexture),active:r.TextureExporter.exportTexture(this.activeBulletTexture)},slides:t})},e.parse=function(t,n,i){return i||(i=new e({popup:new r.Popup,nextButton:new r.Button({},t.nextButton.textStyle,t.nextButton.text),previousButton:new r.Button({},t.previousButton.textStyle,t.previousButton.text),bulletPoint:{idle:o.Texture.WHITE,active:o.Texture.WHITE}})),r.Popup.parse(t.popup,n,i.popup),r.Button.parse(t.nextButton,n,i.nextButton),r.Button.parse(t.previousButton,n,i.previousButton),i.idleBulletTexture=r.TextureImporter.importTexture(t.bulletPoint.idle,n,i,"idleBulletTexture"),i.activeBulletTexture=r.TextureImporter.importTexture(t.bulletPoint.active,n,i,"activeBulletTexture"),t.bulletPoint.config&&r.ContainerImporter.importContainer(t.bulletPoint.config,n,i.bullet),i.dockingBounds=i.popup.dockingBounds.clone(),t.slides.forEach((function(t){var e=r.ContainerImporter.import(t,n);i.addSlide(e)})),i.slides.length>0&&i.reset(),i},e}(o.Container)},"./src/game/ui/rules/slide.ts":
/*!************************************!*\
  !*** ./src/game/ui/rules/slide.ts ***!
  \************************************/
/*! exports provided: Slide */function(t,e,n){"use strict";n.r(e),n.d(e,"Slide",(function(){return a}));var i,o=n(/*! pixi.js */"pixi.js"),r=n(/*! @gdk/core */"@gdk/core"),s=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=t.call(this)||this;return e.hasBullet=!0,e}return s(e,t),e.prototype.configure=function(t){},e.prototype.onShow=function(t){this.visible||(this.visible=!0,r.tracker.track(new r.SlideEvent(this.getName(),r.ESlideEvent.Show)))},e.prototype.onHide=function(t){this.visible&&(r.tracker.track(new r.SlideEvent(this.getName(),r.ESlideEvent.Hide)),this.visible=!1)},e.prototype.onDestroy=function(t){},e}(o.Container)},"./src/game/ui/rules/textSlide.ts":
/*!****************************************!*\
  !*** ./src/game/ui/rules/textSlide.ts ***!
  \****************************************/
/*! exports provided: ELayout, getSlideStylePaddingValue, TextSlide */function(t,e,n){"use strict";n.r(e),n.d(e,"ELayout",(function(){return o})),n.d(e,"getSlideStylePaddingValue",(function(){return l})),n.d(e,"TextSlide",(function(){return d}));var i,o,r=n(/*! pixi.js */"pixi.js"),s=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),a=n(/*! @gdk/core */"@gdk/core"),u=n(/*! ./slide */"./src/game/ui/rules/slide.ts"),c=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.TextLeft=0]="TextLeft",t[t.TextTop=1]="TextTop",t[t.TextPadding=2]="TextPadding"}(o||(o={}));var l=function(t,e){switch(typeof t){case"number":return t;case"function":return t(e);default:return 0}},d=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.textPadding={},n.titlePadding={},n.config=e,n}return c(e,t),Object.defineProperty(e.prototype,"config",{set:function(t){this.title&&this.title.destroy(),t.title=t.title||{},"string"==typeof t.title?this.title=r.Sprite.fromFrame(t.title):t.title instanceof r.Sprite?this.title=t.title:(this.title=new s.TextArea(t.title.text||"",t.title.style||{default:{fontName:"Arial"}},{align:void 0===t.title.align?s.EAlign.Center:t.title.align}),this.title.wordWrap=!0,this.titlePadding=a.Tools.assign(this.titlePadding,t.title.padding)),this.title.name="title",this.title.docking=new s.Docking(s.Docking.centerHorizontal),this.addChild(this.title),this.text&&this.text.destroy(),t.text=t.text||{},this.text=new s.TextArea(t.text.text||"",t.text.style||{default:{fontName:"Arial"}},{align:void 0===t.text.align?s.EAlign.Center:t.text.align}),this.text.name="text",this.text.wordWrap=!0,this.text.docking=new s.Docking(s.Docking.centerAll),this.addChild(this.text),this.textPadding=a.Tools.assign(this.textPadding,t.text.padding),this.image&&this.image.destroy(),t.image&&(this.image="string"==typeof t.image?r.Sprite.fromFrame(t.image):t.image,this.image.docking=new s.Docking(s.Docking.centerAll),this.addChild(this.image)),this.layout=t.layout||o.TextLeft,void 0!==t.hasBullet&&(this.hasBullet=t.hasBullet)},enumerable:!1,configurable:!0}),e.prototype.configure=function(t){switch(this.dockingBounds=new s.DockingBounds(t.dockingBounds.width,t.dockingBounds.height),this.title.y=15,this.layout){case o.TextLeft:this.image&&(this.image.docking.x=this.dockingBounds.width/4),this.text.docking.x=this.image?-this.dockingBounds.width/4+20:0,this.text.width=this.image?this.dockingBounds.width/2-20:this.dockingBounds.width-40;break;case o.TextTop:this.text.width=Math.min(this.text.width,this.dockingBounds.width-40),this.text.docking.y=-this.dockingBounds.height/4+10,this.image&&(this.image.docking.y=this.dockingBounds.height/4-40);break;case o.TextPadding:delete this.title.docking,void 0===this.titlePadding.left&&void 0===this.titlePadding.right||(this.title.x=l(this.titlePadding.left,this),this.title.width=this.dockingBounds.width-(l(this.titlePadding.right,this)+this.title.x)),void 0===this.titlePadding.top&&void 0===this.titlePadding.bottom||(this.title.y=l(this.titlePadding.top,this),this.title.height=this.dockingBounds.height-(l(this.titlePadding.bottom,this)+this.title.y)),delete this.text.docking,void 0===this.textPadding.left&&void 0===this.titlePadding.right||(this.text.x=l(this.textPadding.left,this),this.text.width=this.dockingBounds.width-(l(this.textPadding.right,this)+this.text.x)),void 0===this.textPadding.top&&void 0===this.textPadding.bottom||(this.text.y=l(this.textPadding.top,this),this.text.height=this.dockingBounds.height-(l(this.textPadding.bottom,this)+this.text.y))}},e.prototype.onShow=function(e){t.prototype.onShow.call(this,e)},e.prototype.onHide=function(e){t.prototype.onHide.call(this,e)},e}(u.Slide)},"./src/game/wizz/index.ts":
/*!********************************!*\
  !*** ./src/game/wizz/index.ts ***!
  \********************************/
/*! exports provided: EAvatarStatus */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"EAvatarStatus",(function(){return i})),function(t){t[t.quit=0]="quit",t[t.pending=1]="pending",t[t.ready=2]="ready",t[t.none=3]="none"}(i||(i={}))},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: Com, Popin, EPopinLevel, PopinButtonAction, PopinLinkTarget, EMessageType, MessageManager, AbstractGame, EGameEvents, Express, Ticket, ETicketMode, ETicketStatus, EBetResponseAction, Action, MotorsModel, MotorsSession, ESessionMode, Multipass, MultipassSession, MultipassNotifications, EMultipassGameState, EMultipassNotificationType, TweenUtils, Rules, Slide, TextSlide, ELayout, BaseSlide, AgreementSlide, Home, ResultBox, EResultBoxEvents, ResultStage, ScratchStage, TextResultStage, AmountResultStage, Timer, CrossSell, EAvatarStatus, Inactivity, Carousel, ProjectLoader, BehaviorCodeExtension, AdaptativeVisualIdentity, EVisualIdentityEvent, EVisualIdentityAction, MessagePopin, EGameStates, DSPopinsContainer, VERSION */function(t,e,n){"use strict";n.r(e),n.d(e,"VERSION",(function(){return u}));var i=n(/*! ./com */"./src/com/index.ts");n.d(e,"Com",(function(){return i.Com})),n.d(e,"Popin",(function(){return i.Popin})),n.d(e,"EPopinLevel",(function(){return i.EPopinLevel})),n.d(e,"PopinButtonAction",(function(){return i.PopinButtonAction})),n.d(e,"PopinLinkTarget",(function(){return i.PopinLinkTarget})),n.d(e,"EMessageType",(function(){return i.EMessageType})),n.d(e,"MessageManager",(function(){return i.MessageManager}));var o=n(/*! ./game */"./src/game/index.ts");n.d(e,"AbstractGame",(function(){return o.AbstractGame})),n.d(e,"EGameEvents",(function(){return o.EGameEvents})),n.d(e,"Express",(function(){return o.Express})),n.d(e,"Ticket",(function(){return o.Ticket})),n.d(e,"ETicketMode",(function(){return o.ETicketMode})),n.d(e,"ETicketStatus",(function(){return o.ETicketStatus})),n.d(e,"EBetResponseAction",(function(){return o.EBetResponseAction})),n.d(e,"Action",(function(){return o.Action})),n.d(e,"MotorsModel",(function(){return o.MotorsModel})),n.d(e,"MotorsSession",(function(){return o.MotorsSession})),n.d(e,"ESessionMode",(function(){return o.ESessionMode})),n.d(e,"Multipass",(function(){return o.Multipass})),n.d(e,"MultipassSession",(function(){return o.MultipassSession})),n.d(e,"MultipassNotifications",(function(){return o.MultipassNotifications})),n.d(e,"EMultipassGameState",(function(){return o.EMultipassGameState})),n.d(e,"EMultipassNotificationType",(function(){return o.EMultipassNotificationType})),n.d(e,"TweenUtils",(function(){return o.TweenUtils})),n.d(e,"Rules",(function(){return o.Rules})),n.d(e,"Slide",(function(){return o.Slide})),n.d(e,"TextSlide",(function(){return o.TextSlide})),n.d(e,"ELayout",(function(){return o.ELayout})),n.d(e,"BaseSlide",(function(){return o.BaseSlide})),n.d(e,"AgreementSlide",(function(){return o.AgreementSlide})),n.d(e,"Home",(function(){return o.Home})),n.d(e,"ResultBox",(function(){return o.ResultBox})),n.d(e,"EResultBoxEvents",(function(){return o.EResultBoxEvents})),n.d(e,"ResultStage",(function(){return o.ResultStage})),n.d(e,"ScratchStage",(function(){return o.ScratchStage})),n.d(e,"TextResultStage",(function(){return o.TextResultStage})),n.d(e,"AmountResultStage",(function(){return o.AmountResultStage})),n.d(e,"Timer",(function(){return o.Timer})),n.d(e,"CrossSell",(function(){return o.CrossSell})),n.d(e,"EAvatarStatus",(function(){return o.EAvatarStatus})),n.d(e,"Inactivity",(function(){return o.Inactivity})),n.d(e,"Carousel",(function(){return o.Carousel}));var r=n(/*! ./loading */"./src/loading/index.ts");n.d(e,"ProjectLoader",(function(){return r.ProjectLoader})),n.d(e,"BehaviorCodeExtension",(function(){return r.BehaviorCodeExtension}));var s=n(/*! ./adaptativeVisualIdentity */"./src/adaptativeVisualIdentity/index.ts");n.d(e,"AdaptativeVisualIdentity",(function(){return s.AdaptativeVisualIdentity})),n.d(e,"EVisualIdentityEvent",(function(){return s.EVisualIdentityEvent})),n.d(e,"EVisualIdentityAction",(function(){return s.EVisualIdentityAction})),n.d(e,"MessagePopin",(function(){return s.MessagePopin}));var a=n(/*! ./ds */"./src/ds/index.ts");n.d(e,"EGameStates",(function(){return a.EGameStates})),n.d(e,"DSPopinsContainer",(function(){return a.DSPopinsContainer}));var u="3.6.4"},"./src/loading/extensions/behaviorCode.ts":
/*!************************************************!*\
  !*** ./src/loading/extensions/behaviorCode.ts ***!
  \************************************************/
/*! exports provided: BehaviorCodeExtension */function(t,e,n){"use strict";n.r(e),n.d(e,"BehaviorCodeExtension",(function(){return r}));var i=n(/*! @gdk/core */"@gdk/core"),o=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),r=function(){function t(){}return t.apply=function(t,e,n){var r=e.metadata[this.id];if(r){var s=n.metadata[this.id];if(s){var a=[];s.forEach((function(t){if(t.active){var e=r.scripts.find((function(e){return e.id===t.id}));if(e){i.Tools.injectScript('\nvar require = SystemJS.amdRequire;\nvar exports = {};\n{{code}}\nSystemJS.set("{{id}}", SystemJS.newModule(exports));\n'.replace("{{id}}",e.id).replace("{{code}}",e.compiledCode),e.name,"scripts");var s=i.Tools.getScript(e.id);a.push(new s.default(n,o.AssetStore)),n.emit("ready")}}})),t.application.emitter.on("beforeRender",(function(){return n.emit("update")}))}}},t.id="behaviorCode",t}()},"./src/loading/index.ts":
/*!******************************!*\
  !*** ./src/loading/index.ts ***!
  \******************************/
/*! exports provided: ProjectLoader, BehaviorCodeExtension */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./projectLoader */"./src/loading/projectLoader.ts");n.d(e,"ProjectLoader",(function(){return i.ProjectLoader}));var o=n(/*! ./extensions/behaviorCode */"./src/loading/extensions/behaviorCode.ts");n.d(e,"BehaviorCodeExtension",(function(){return o.BehaviorCodeExtension}))},"./src/loading/projectLoader.ts":
/*!**************************************!*\
  !*** ./src/loading/projectLoader.ts ***!
  \**************************************/
/*! exports provided: ProjectLoader */function(t,e,n){"use strict";n.r(e),n.d(e,"ProjectLoader",(function(){return s}));var i=n(/*! @gdk/core-pixi */"@gdk/core-pixi"),o=n(/*! ../ */"./src/index.ts"),r=n(/*! . */"./src/loading/index.ts"),s=function(){function t(){}return t.load=function(t,e,n,o){var r=this;void 0===o&&(o={}),i.AssetStore.parse(e.assets,n),i.ContainerImporter.customContainerCreator=function(t,i){return r.customContainerLoader(t,n,i,e)},i.ContainerImporter.customContainerCustomizer=function(i,o){r.customContainerCustomizer(t,i,o,n,e)},i.ProjectImporter.importProject(t,e,n,o)},t.customContainerCustomizer=function(t,e,n,i,o){n.metadata&&o.metadata&&r.BehaviorCodeExtension.apply(t,o,n)},t.customContainerLoader=function(t,e,n,r){var s=t.type.split(".");if(1===s.length)return null;var a=null;switch(s[0]){case"ui":a=i[s[1]].parse(t,e,n,r);break;case"result":a=o[s[1]].parse(t,e);break;case"rules":a=o[s[1]].parse(t,e,n,r);break;case"spine":case"proton":a=i[s[1]].parse(t,e)}return a},t}()},"@falcon/bridge":
/*!*************************!*\
  !*** external "falcon" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=require("falcon")},"@gdk/core":
/*!****************************!*\
  !*** external "@gdk/core" ***!
  \****************************/
/*! no static exports found */function(t,e){t.exports=require("@gdk/core")},"@gdk/core-pixi":
/*!*********************************!*\
  !*** external "@gdk/core-pixi" ***!
  \*********************************/
/*! no static exports found */function(t,e){t.exports=require("@gdk/core-pixi")},gsap:
/*!***********************!*\
  !*** external "gsap" ***!
  \***********************/
/*! no static exports found */function(t,e){t.exports=require("gsap")},howler:
/*!*************************!*\
  !*** external "howler" ***!
  \*************************/
/*! no static exports found */function(t,e){t.exports=require("howler")},i18next:
/*!**************************!*\
  !*** external "i18next" ***!
  \**************************/
/*! no static exports found */function(t,e){t.exports=require("i18next")},"pixi.js":
/*!**************************!*\
  !*** external "pixi.js" ***!
  \**************************/
/*! no static exports found */function(t,e){t.exports=require("pixi.js")}});