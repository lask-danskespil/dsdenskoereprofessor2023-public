# @falcon/push-client

Push notification client.

## Getting Started

```typescript
import {initializePush, Push, PushChannel, PushTransportMechanism} from '@falcon/push-client';

async () => {
    let pushChannel: PushChannel;
    let push: Push;
    let settings: PushSettings = {
        topic: {
            type: 'myfeeds',
            id: '1234'
        },
        transport: PushTransportMechanism.MQTT,
        secure: true,
        hostName: 'localhost',
        port: 8443,
        path: '/endpoints/push',
        accessToken: '0a43daf3-58b7-4121-bde5-23a84d1a0725'
    };

    push = await initializePush();
    pushChannel = await push.createChannel(settings);
    pushChannel.addEventListener('connected', () => console.log('connected to push'), false);
    pushChannel.addEventListener('disconnected', () => console.log('disconnected from push'), false);
    pushChannel.addEventListener('message', ev => console.log('Message received', ev.details), false);
    await pushChannel.start();

    setTimeout(async () => await pushChannel.stop(), 10000);
};
```

## Compatibility

The following polyfills are built into the library:

- CustomEvent and Promise for Internet Explorer
- EventSource for Internet Explorer and Edge
