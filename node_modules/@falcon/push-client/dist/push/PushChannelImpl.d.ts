import { PushEventMap } from './event';
import { PushChannel } from './PushChannel';
import { PushSettings } from './PushSettings';
/**
 * Push channel implementation
 */
declare class PushChannelImpl implements PushChannel {
    private eventTarget;
    private settings;
    private transport;
    private muteBuffer;
    private muteDiscard;
    /**
     * Class constructor
     * @param settings Push settings
     */
    constructor(settings: PushSettings);
    /**
     * Start listening for push messages
     * @return Promise that resolves once the channel is ready
     */
    start(): Promise<void>;
    /**
     * Stop listening for push messages
     * @return Promise that resolves once the channel is stopped
     */
    stop(): Promise<void>;
    /**
     * Mute the push mechanism
     * <p>While muted, messages are still received but are buffered and not sent to the listener.</p>
     * <p>Once unmuted, all buffered messages are sent.</p>
     * @param discardMessages While muted, discard all received messages
     */
    mute(discardMessages?: boolean): void;
    /**
     * Unmute the push mechansm
     * <p>Resumes sending messages to the event listeners, after sending all messages that may have ended up in the buffer.</p>
     */
    unmute(): void;
    /**
     * Add an event listener
     * @param type     Event type
     * @param listener Event listener
     * @param options  Options
     */
    addEventListener<K extends keyof PushEventMap>(type: K, listener?: ((this: PushChannel, ev: PushEventMap[K]) => any) | EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;
    /**
     * Remove an event listener
     * @param type     Event type
     * @param listener Listener
     * @param options  Options
     */
    removeEventListener<K extends keyof PushEventMap>(type: K, listener?: ((this: PushChannel, ev: PushEventMap[K]) => any) | EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;
    /**
     * Ping the channel
     */
    ping(): void;
    /**
     * Callback triggered when the connection is established
     */
    private onConnection();
    /**
     * Callback triggered when the connection is closed
     * @param reasonId         Reason identifier
     * @param reasonParameters Reason parameters
     */
    private onDisconnection(reasonId, reasonParameters);
    /**
     * Callback triggered when a message is received
     * @param mediaType Media type
     * @param content   Content
     */
    private onMessage<T>(mediaType, content);
    /**
     * Emit an event
     * @param ev Push event
     */
    private emitEvent<T>(ev);
}
export { PushChannelImpl };
